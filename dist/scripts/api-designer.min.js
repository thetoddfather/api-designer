function range(a,b){for(var c=new Array(b-a+1),d=a;b>=d;d++)c[d-a]=d;return c}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f,g;f=a("./scorer"),d=a("./legacy"),e=function(a){return a.candidate},g=function(a,b){return b.score-a.score},c=a("path").sep,b.exports=function(a,b,c){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(A=null!=c?c:{},m=A.key,p=A.maxResults,o=A.maxInners,h=A.allowErrors,n=A.legacy,t=[],u=null!=o&&o>0?o:a.length,i=!!h,j=null!=m,q=f.prepQuery(b),n)for(r=q.depth>0,l=q.core,x=0,z=a.length;z>x;x++)k=a[x],v=null!=m?k[m]:k,v&&(s=d.score(v,l,r),r||(s=d.basenameScore(v,l,s)),s>0&&t.push({candidate:k,score:s}));else for(w=0,y=a.length;y>w&&(k=a[w],v=j?k[m]:k,!(v&&(s=f.score(v,b,q,i),s>0&&(t.push({candidate:k,score:s}),!--u))));w++);return t.sort(g),a=t.map(e),null!=p&&(a=a.slice(0,p)),a}}).call(this)},{"./legacy":3,"./scorer":5,path:6}],2:[function(a,b,c){(function(){var c,d,e,f,g,h;h=a("./scorer"),e=a("./legacy"),d=a("./filter"),f=a("./matcher"),c=a("path").sep,g=null,b.exports={filter:function(a,b,c){return(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?d(a,b,c):[]},prepQuery:function(a){return h.prepQuery(a)},score:function(a,b,c,d){var f,i,j,k,l,m;return m=null!=d?d:{},f=m.allowErrors,j=m.legacy,(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(null==c&&(c=g&&g.query===b?g:g=h.prepQuery(b)),j?(k=c.depth>0,i=c.core,l=e.score(a,i,k),k||(l=e.basenameScore(a,i,l))):l=h.score(a,b,c,!!f),l):0},match:function(a,b,d,e){var i,j,k,l,m,n;return i=(null!=e?e:{}).allowErrors,a&&b?a===b?function(){n=[];for(var b=0,c=a.length;c>=0?c>b:b>c;c>=0?b++:b--)n.push(b);return n}.apply(this):(null==d&&(d=g&&g.query===b?g:g=h.prepQuery(b)),i||h.isMatch(a,d.core_lw,d.core_up)?(m=a.toLowerCase(),l=d.query_lw,k=f.match(a,m,d),0===k.length?k:(a.indexOf(c)>-1&&(j=f.basenameMatch(a,m,d),k=f.mergeMatches(k,j)),k)):[]):[]}}}).call(this)},{"./filter":1,"./legacy":3,"./matcher":4,"./scorer":5,path:6}],3:[function(a,b,c){(function(){var b,d;b=a("path").sep,c.basenameScore=function(a,d,e){var f,g,h,i,j,k;for(h=a.length-1;a[h]===b;)h--;for(k=0,i=h,f=null;h>=0;)a[h]===b?(k++,null==f&&(f=a.substring(h+1,i+1))):0===h&&(i<a.length-1?null==f&&(f=a.substring(0,i+1)):null==f&&(f=a)),h--;return f===a?e*=2:f&&(e+=c.score(f,d)),j=k+1,g=Math.max(1,10-j),e*=.01*g},c.score=function(a,c){var e,f,g,h,i,j,k,l,m,n,o,p;if(a===c)return 1;if(d(a,c))return 1;for(n=0,k=c.length,m=a.length,g=0,h=0;k>g;){if(e=c[g++],i=a.indexOf(e.toLowerCase()),o=a.indexOf(e.toUpperCase()),j=Math.min(i,o),-1===j&&(j=Math.max(i,o)),h=j,-1===h)return 0;f=.1,a[h]===e&&(f+=.1),0===h||a[h-1]===b?f+=.8:("-"===(p=a[h-1])||"_"===p||" "===p)&&(f+=.7),a=a.substring(h+1,m),n+=f}return l=n/k,(l*(k/m)+l)/2},d=function(a,c){return a[a.length-c.length-1]===b?a.lastIndexOf(c)===a.length-c.length:void 0},c.match=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(null==c&&(c=0),a===b)return function(){m=[];for(var b=c,d=c+a.length;d>=c?d>b:b>d;d>=c?b++:b--)m.push(b);return m}.apply(this);for(j=b.length,k=a.length,e=0,f=0,h=[];j>e;){if(d=b[e++],g=a.indexOf(d.toLowerCase()),l=a.indexOf(d.toUpperCase()),i=Math.min(g,l),-1===i&&(i=Math.max(g,l)),f=i,-1===f)return[];h.push(c+f),c+=f+1,a=a.substring(f+1,k)}return h}}).call(this)},{path:6}],4:[function(a,b,c){(function(){var b,d;b=a("path").sep,d=a("./scorer"),c.basenameMatch=function(a,d,e){var f,g,h;for(h=a.length-1;a[h]===b;)h--;if(f=a.lastIndexOf(b,h),-1===f)return[];for(g=e.depth;g-->0;)if(f=a.lastIndexOf(b,f-1),-1===f)return[];return f++,h++,c.match(a.slice(f,h),d.slice(f,h),e,f)},c.mergeMatches=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,h=b.length,0===h)return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];c>=d&&++f<h;)c>d&&i.push(d),d=b[f];i.push(c)}for(;h>f;)i.push(b[f++]);return i},c.match=function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(null==e&&(e=0),w=c.query,x=c.query_lw,r=a.length,u=w.length,j=d.scoreAcronyms(a,b,w,x).score,A=new Array(u),n=new Array(u),h=0,i=1,g=2,f=3,E=new Array(r*u),v=-1,q=-1;++q<u;)A[q]=0,n[q]=0;for(p=-1;++p<r;)for(y=0,B=0,m=0,C=b[p],q=-1;++q<u;)o=0,k=0,z=B,x[q]===C&&(D=d.isWordStart(p,a,b),o=m>0?m:d.scoreConsecutives(a,b,w,x,p,q,D),k=z+d.scoreCharacter(p,q,D,j,o)),B=A[q],m=n[q],y>B?t=g:(y=B,t=i),k>y?(y=k,t=f):o=0,A[q]=y,n[q]=o,E[++v]=y>0?t:h;for(p=r-1,q=u-1,v=p*u+q,l=!0,s=[];l&&p>=0&&q>=0;)switch(E[v]){case i:p--,v-=u;break;case g:q--,v--;break;case f:s.push(p+e),q--,p--,v-=u+1;break;default:l=!1}return s.reverse(),s}}).call(this)},{"./scorer":5,path:6}],5:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;d=a("path").sep,D=150,r=20,A=13,B=85,k=1.2,p=.75,q=/[ _\-:\/\\]/g,c.coreChars=g=function(a){return a.replace(q,"")},c.score=function(a,b,c,d){var g,h;return null==c&&(c=new e(b)),null==d&&(d=!1),d||l(a,c.core_lw,c.core_up)?(h=a.toLowerCase(),g=i(a,h,c),Math.ceil(f(a,h,c,g))):0},e=function(){function a(a){return(null!=a?a.length:void 0)?(this.query=a,this.query_lw=a.toLowerCase(),this.core=g(a),this.core_lw=this.core.toLowerCase(),this.core_up=C(this.core),void(this.depth=h(a,a.length))):null}return a}(),c.prepQuery=function(a){return new e(a)},c.isMatch=l=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b[e],i=c[e];++d<f&&(j=a[d],j!==h&&j!==i););if(d===f)return!1}return!0},i=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,q,r,x,y,A,B,C,D,E,F,G,H,I;if(y=c.query,A=c.query_lw,l=a.length,r=y.length,d=s(a,b,y,A),e=d.score,d.count===r)return v(r,l,e,d.pos);if(x=b.indexOf(A),x>-1)return w(a,b,y,A,x,r,l);for(E=new Array(r),h=new Array(r),I=z(r,l),m=Math.ceil(p*r)+5,n=m,k=-1;++k<r;)E[k]=0,h[k]=0;for(j=b.indexOf(A[0]),j>-1&&j--,q=b.lastIndexOf(A[r-1],l),q>j&&(l=q+1);++j<l;)for(C=0,D=0,g=0,G=b[j],B=!0,k=-1;++k<r;){if(F=E[k],F>C&&(C=F),i=0,A[k]===G)if(H=o(j,a,b),i=g>0?g:u(a,b,y,A,j,k,H),f=D+t(j,k,H,e,i),f>C)C=f,n=m;else{if(B&&--n<=0)return E[r-1]*I;B=!1}D=F,g=h[k],h[k]=i,E[k]=C}return C*I},c.isWordStart=o=function(a,b,c){var d,e;return 0===a?!0:(d=b[a],e=b[a-1],m(d)||m(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=n=function(a,b,c,d){var e,f;return a===d-1?!0:(e=b[a],f=b[a+1],m(e)||m(f)||e===c[a]&&f!==c[a+1])},m=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},y=function(a){var b;return r>a?(b=r-a,100+b*b):Math.max(100+r-a,0)},z=function(a,b){return B/(B+Math.abs(b-a))},v=function(a,b,c,d){return 2*a*(D*c+y(d))*z(a,b)},c.scorePattern=x=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=t=function(a,b,c,d,e){var f;return f=y(a),c?f+D*((d>e?d:e)+10):f+D*e},c.scoreConsecutives=u=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,o,p;for(i=a.length,k=c.length,j=i-e,l=k-f,h=l>j?j:l,o=e,m=0,p=0,c[f]===a[e]&&m++;++p<h&&d[++f]===b[++e];)c[f]===a[e]&&m++;return 1===p?1+2*m:x(p,k,m,g,n(e,a,b,i))},c.scoreExactMatch=w=function(a,b,c,d,e,f,g){var h,i,j,k,l;for(l=o(e,a,b),l||(j=b.indexOf(d,e+1),j>-1&&(l=o(j,a,b),l&&(e=j))),i=-1,k=0;++i<f;)c[e+i]===a[i]&&k++;return h=n(e+f-1,a,b,g),v(f,g,x(f,f,k,l,h),e)},b=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),j=new b(0,.1,0),c.scoreAcronyms=s=function(a,c,d,e){var f,g,h,i,k,l,m,n,p;if(i=a.length,k=d.length,!(i>1&&k>1))return j;for(f=0,l=0,n=0,g=-1,h=-1;++h<k;){for(m=e[h];++g<i;)if(m===c[g]&&o(g,a,c)){d[h]===a[g]&&n++,l+=g,f++;break}if(g===i)break}return 2>f?j:(p=x(f,k,n,!0,!1),new b(p,l/f,f))},f=function(a,b,c,e){var f,g,j,l,m;if(0===e)return 0;for(m=a.length-1;a[m]===d;)m--;if(j=a.lastIndexOf(d,m),-1===j)return e;for(l=c.depth;l-->0;)if(j=a.lastIndexOf(d,j-1),-1===j)return e;return j++,m++,g=i(a.slice(j,m),b.slice(j,m),c),f=.5*A/(A+h(a,m+1)),f*g+(1-f)*e*z(0,k*(m-j))},c.countDir=h=function(a,b){var c,e;if(1>b)return 0;for(c=0,e=-1;++e<b&&a[e]===d;);for(;++e<b;)if(a[e]===d)for(c++;++e<b&&a[e]===d;);return c},C=function(a){var b,c,d,e;for(c="",d=0,e=a.length;e>d;d++)b=a[d],c+=b.toUpperCase()[0];return c}}).call(this)},{path:6}],6:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:7}],7:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],8:[function(a,b,c){window.RAML=window.RAML||{},window.RAML.Suggestions=a("./index")},{"./index":10}],9:[function(a,b,c){"use strict";function d(a,b,c){void 0===c&&(c=null);var d=new ka(a),e=new la(b,c);return e.suggest(d,!0)}function e(a,b){var c=new ka(a),d=new la(b);return d.suggestAsync(c,!0)}function f(a,b,c){for(var d=Object.keys(ja),e=0;e<d.length;e++)for(var f=d[e],h=Object.keys(ja[f]),i=0;i<h.length;i++){var j=h[i];if(j===a){var k=ja[f][j],l=k.is||[],m=k.parentIs||[];if(c&&ia.find(l,function(a){return g(c,a)}))return f;if(b&&ia.find(m,function(a){return g(b,a)}))return f}}return"unknown"}function g(a,b){for(var c=b.split("."),d=ca.universes,e=0;e<c.length;e++)d=d[c[e]];return a.isAssignableFrom(d.name)}function h(a,b){var c=null;b.astProvider&&(c=b.astProvider.getASTRoot());var d=j(a,b,c);return d?d:[]}function i(a,b){a.async=!0,a.promises=[];var c=ca.parseRAML(n(a),{fsResolver:b.contentProvider.fsResolver,filePath:a.content.getPath()}),d=c.then(function(c){return j(a,b,o(a.content.getOffset(),c.highLevel()))}),e=d.then(function(b){return Promise.all([b].concat(a.promises))}),f=e.then(function(a){var b=[];return a.forEach(function(a){b=b.concat(a)}),b});return f}function j(a,b,c,d){void 0===c&&(c=void 0),b.currentRequest=a;try{if(b.level>100)return;b.level++;var e=a.content.getOffset(),g=a.content.getText(),h=l(a),i=c?c:m(a,b.contentProvider,!0,!0,d),j=i;if(h===ca.search.LocationKind.DIRECTIVE_COMPLETION)return[{text:"include"}];if(h===ca.search.LocationKind.ANNOTATION_COMPLETION){var n=ca.search.globalDeclarations(j).filter(function(a){return ca.universeHelpers.isAnnotationTypesProperty(a.property())});return n.map(function(a){return{text:ca.search.qName(a,j),annotation:!0}})}if(h===ca.search.LocationKind.VERSION_COMPLETION)return k(a);if(h===ca.search.LocationKind.INCOMMENT)return[];if(null===i)return[];for(var o=!1,q=e-1;q>=j.lowLevel().start();q--){var t=g[q];if("\r"==t||"\n"==t){o=!0;break}}for(var u=e,v=e-1;v>=0;v--){var w=g[v];{if(" "!==w&&"	"!==w)break;u=v}}var y=ia.find(j.attrs(),function(a){return a.lowLevel().start()<u&&a.lowLevel().end()>=u&&!a.property().getAdapter(ca.ds.RAMLPropertyService).isKey()});if(!y){var z=ia.find(j.definition().allProperties(),function(a){return a.canBeValue()});if(o){var B=ia.find(j.lowLevel().children(),function(a){return a.start()<e&&a.end()>=e});if(B){var z=ia.find(j.definition().allProperties(),function(a){return a.nameId()==B.key()});if(z){var C=p(B.keyStart(),B.unit().contents()),E=p(e,B.unit().contents());if(E.length>C.length+1){var F=z.range().hasValueTypeInHierarchy();F?y=ca.stubs.createVirtualASTPropImpl(B,j,z.range(),z):B.children().length>0&&(j=ca.stubs.createVirtualNodeImpl(B.children()[0],j,z.range(),z))}}}}else z&&h==ca.search.LocationKind.VALUE_COMPLETION&&ca.universeHelpers.isTypeProperty(z)&&1==j.children().length&&(y=ca.stubs.createASTPropImpl(j.lowLevel(),j,z.range(),z))}if(h==ca.search.LocationKind.PATH_COMPLETION)return s(a,b.contentProvider,y,j,!1);if(y&&(h===ca.search.LocationKind.KEY_COMPLETION||h===ca.search.LocationKind.SEQUENCE_KEY_COPLETION)){for(var G="",q=e-1;q>=0;q--){var t=g[q];if("\r"==t||"\n"==t)break;G=t+G}G=G.trim(),G!=y.name()&&(h=ca.search.LocationKind.VALUE_COMPLETION)}if(h==ca.search.LocationKind.VALUE_COMPLETION){var H=y&&y.parent&&y.parent(),I=H&&H.property&&H.property(),J=H&&H.definition&&H.definition(),K=J&&(ga.isExtensionType(J)||ga.isOverlayType(J)),M=y&&y.property&&y.property()&&y.property().nameId(),S=M===fa.Universe10.Overlay.properties["extends"].name||M===fa.Universe10.Extension.properties["extends"].name;if(J&&J.isAssignableFrom(ca.universes.Universe10.TypeDeclaration.name)&&M===fa.Universe10.ObjectTypeDeclaration.properties.discriminator.name){var T=H.localType&&H.localType(),V=T&&T.allProperties()||[];return V=V.filter(function(a){return a.isPrimitive&&a.isPrimitive()}),V.map(function(a){var b=a.nameId();return{text:b,displayText:b,description:a.description(),category:f(b,J,a.range())}})}if(K&&S)return s(a,b.contentProvider,y,j,!1);if(I&&ga.isUsesProperty(I))return s(a,b.contentProvider,y,j,!1);var W=D(i,y,a,b);if(!y&&(!W||0==W.length)&&!o&&j.definition().getAdapter(ca.ds.RAMLService).isUserDefined())return A(j,a,qa,ra,o);if(y&&y.property()&&(y.property().getAdapter(ca.ds.RAMLPropertyService).isTypeExpr()||y.property().isAnnotation())){W||(W=[]),W=W.filter(function(a){var b=N(a);return b===j.name()?!1:!0});var X=a.valuePrefix(),Y=X.lastIndexOf(".");X=Y?X.substr(0,Y+1):null,X&&(W=W.filter(function(a){return 0==N(a).indexOf(X)}),W.forEach(function(a){return O(a,N(a).substring(X.length))}))}if(W)if(":"==g[e-1]&&W.forEach(function(a){a.extra?a.extra=" "+a.extra:a.extra=" "}),-1!=a.prefix().indexOf("["))a.setPrefix(""),W.forEach(function(a){a.text=": [ "+a.displayText});else if(Q(y)){W=W.filter(function(a){return!P(y,a.displayText)});for(var Z="",$=e,_=$;_<g.length&&!/[\t\n\r]/.test(g[_]);_++)if(Z+=g[_],":"===Z.replace(/\s/g,"")){W.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}var aa=!1;$=e-1;for(var _=$;_>=0&&!/[\t\n\r]/.test(g[_]);_--)if("["===g[_]){aa=!0;break}aa||W.forEach(function(b){return!a.valuePrefix()&&b.snippet?(b.text=b.displayText,void(b.snippet="["+b.snippet+"]")):(b.extra=" [",b.text=(b.snippet||b.displayText)+"]",void(b.snippet=null))})}else{for(var Z="",$=e,_=$;_<g.length&&!/[\t\n\r]/.test(g[_]);_++)if(Z+=g[_],":"===Z.replace(/\s/g,"")){W.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}W.forEach(function(b){b.isResourceType&&!a.valuePrefix()&&b.snippet&&(b.snippet=b.extra+b.snippet,b.extra=null,b.text=b.displayText)})}if(!o&&W&&W.length>0&&(W=L(W,j.lowLevel().start(),g)),W&&R(y)&&a.prefix()&&a.prefix().length>0){for(var ba=!1,ja=0,ka=0,G="",q=e-1;q>=0;q--){var t=g[q];if("\r"===t||"\n"===t)break;if("<"===t&&"<"===g[q-1]){ba=!0;break}"!"===t&&ja++,"|"===t&&1===ja&&ka++,G=t+G}if(ba&&1===ja&&1===ka){var la=new RegExp(/\|\s*!\s*/.source+a.prefix());la.test(G)&&(W=na(W,a.prefix()))}}return W}if(h==ea.LocationKind.KEY_COMPLETION||h==ea.LocationKind.SEQUENCE_KEY_COPLETION&&e>0&&"-"!=g.charAt(e-1)&&" "!=g.charAt(e-1)){if(i.isAttr()||i.isImplicit())throw new Error("Should be highlevel node at this place");if(ea.isExampleNode(j))return U(j,a,b);if(j.property()&&ga.isUriParametersProperty(j.property())&&j.definition()instanceof da.NodeClass){var ma=j.parent().attr("relativeUri");if(ma&&j.name().substring(0,j.name().length-1)==a.valuePrefix()){var oa=ca.utils.parseUrl(ma.value());if(oa instanceof Array&&oa){if(x(e,g))var pa=oa.map(function(a){return{text:a+": \n"+r(e,g)+"  "}});else var pa=oa.map(function(a){return{text:a}});return pa}}}if(j.property()&&ga.isBaseUriParametersProperty(j.property())&&j.definition()instanceof da.NodeClass){var ma=j.root().attr(fa.Universe10.Api.properties.baseUri.name);if(ma&&j.name().substring(0,j.name().length-1)==a.valuePrefix()){var oa=ca.utils.parseUrl(ma.value());if(oa instanceof Array&&oa){if(x(e,g))var pa=oa.map(function(a){return{text:a+": \n"+r(e,g)+"  "}});else var pa=oa.map(function(a){return{text:a}});return pa}}}if(j.property()&&ga.isResourcesProperty(j.property())){var ma=j.attr("relativeUri");if(ma&&j.name().substring(0,j.name().length-1)==a.valuePrefix())return ma&&-1!=ma.value().indexOf("{")?[{text:"mediaTypeExtension}"}]:[]}var qa=j.property()&&j.property().isMultiValue();j.lowLevel().keyEnd()<e&&(qa=!1);var ra=!0;if(qa){var sa=j.definition().getAdapter(ha.RAMLService).getCanInherit();if(sa){var ta=j.computedValue(sa[0]);ta&&(ra=!0,qa=!1)}}return A(j,a,qa,ra)}return[]}finally{b.level--}}function k(a){var b=["RAML 0.8","RAML 1.0"],c=[],d=a.content.getText(),e=a.content.getOffset(),f=d.substr(0,e);if(0==f.indexOf("#%RAML 1.0 ")){var g=["DocumentationItem","DataType","NamedExample","ResourceType","Trait","SecurityScheme","AnnotationTypeDeclaration","Library","Overlay","Extension"];return g.map(function(a){return{text:a}})}return b.forEach(function(b){if(0==("#%"+b).indexOf(f))if(0==d.trim().indexOf("#%"))if(-1!=a.prefix().indexOf("R"))c.push({displayText:b,text:b});else{var g=d.substring(2,e);0==b.indexOf(g)&&("1"==a.prefix()||"0"==a.prefix()?c.push({displayText:b,text:a.prefix()+b.substr(e-2)}):c.push({displayText:b,text:b.substr(e-2)}))}else c.push({displayText:b,text:b,extra:"%"})}),c}function l(a){return ca.search.determineCompletionKind(a.content.getText(),a.content.getOffset())}function m(a,b,c,d,e){void 0===c&&(c=!0),void 0===d&&(d=!0);var f=b.contentDirName(a.content),g=e||ca.project.createProject(f,b.fsResolver),h=a.content.getOffset(),i=a.content.getText(),j=l(a);j===ca.search.LocationKind.KEY_COMPLETION&&c&&(i=i.substring(0,h)+"k:"+i.substring(h));for(var k=g.setCachedUnitContent(a.content.getBaseName(),i),m=k.highLevel(),n=h,o=h-1;o>=0;o--){var p=i[o];{if(" "!==p&&"	"!==p)break;n=o-1}}var q=m.findElementAtOffset(n);if(!d&&!q)return m;if(q&&ea.isExampleNode(q)){var r=q.lowLevel().end();r===n&&"\n"===i[r]&&(q=q.parent())}return q}function n(a){var b=a.content.getOffset(),c=a.content.getText(),d=l(a);return d===ca.search.LocationKind.KEY_COMPLETION&&(c=c.substring(0,b)+"k:"+c.substring(b)),c}function o(a,b){for(var c=a,d=b.lowLevel().unit().contents(),e=a-1;e>=0;e--){var f=d[e];{if(" "!==f&&"	"!==f)break;c=e-1}}return b.findElementAtOffset(c)}function p(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function q(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e||"-"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function r(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e)c?c+=e:c=e;else if("\r"==e||"\n"==e)return c}}function s(a,b,c,d,e){var f=a.valuePrefix();return-1===f.indexOf("#")?t(a,b,c,d,e):w(a,b,c,d,e)}function t(a,b,c,d,e){var f=a.valuePrefix(),g=b.contentDirName(a.content),h=b.resolve(g,0===f.indexOf("/")?"."+f:f),i=h.lastIndexOf("."),j=h.lastIndexOf("/");i>0&&(i>j||0>j)||(i=-1);var k=h;h&&(g=b.dirName(h),a.async?g=b.existsAsync(h).then(function(a){return a?b.isDirectoryAsync(h).then(function(a){return a?h:b.dirName(h)}):b.dirName(h)}):b.exists(h)&&b.isDirectory(h)&&(g=h));var l=[],m=!e;if(c&&e&&("example"===c.name()&&(l=l.concat(v(f,g,"examples",b,a.promises)),m=!0),"value"===c.name()&&ca.universeHelpers.isGlobalSchemaType(c.parent().definition())&&(l=l.concat(v(f,g,"schemas",b,a.promises)),m=!0)),c||e&&(ca.universeHelpers.isTraitType(d.definition())&&(l=l.concat(v(f,g,"traits",b,a.promises)),m=!0),ca.universeHelpers.isResourceTypeType(d.definition())&&(l=l.concat(v(f,g,"resourceTypes",b,a.promises)),m=!0),ca.universeHelpers.isSecuritySchemaType(d.definition())&&(l=l.concat(v(f,g,"securitySchemes",b,a.promises)),m=!0),ca.universeHelpers.isGlobalSchemaType(d.definition())&&(l=l.concat(v(f,g,"schemas",b,a.promises)),m=!0)),!m||!e)if(a.async)u(g,k,i,b,a.promises);else if(b.exists(g)&&b.isDirectory(g)){var n=b.readDir(g);l=l.concat(n.filter(function(a){try{var c=b.resolve(g,a);if(0===c.indexOf(k))return!0}catch(d){return!1}}).map(function(a){var c=b.resolve(g,a),d=b.exists(c)&&b.isDirectory(c);return{text:i>0?c.substr(i+1):a+(d?"/":"")}}))}return l}function u(a,b,c,d,e){if(e){var f,g=a.then(function(a){return f=a,d.existsAsync(a)}),h=g.then(function(a){return a?d.isDirectoryAsync(f).then(function(a){return a?d.readDirAsync(f).then(function(a){var e=a.filter(function(a){try{var c=d.resolve(f,a);if(0===c.indexOf(b))return!0}catch(e){return!1}}).map(function(a){var b=d.resolve(f,a);return d.existsAsync(b).then(function(e){return d.isDirectoryAsync(b).then(function(d){var f=e&&d;return{text:c>0?b.substr(c+1):a+(f?"/":"")}})})});return Promise.all(e)}):[]}):[]});e.push(h)}}function v(a,b,c,d,e){if(e){var f=b.then(function(a){var b=d.resolve(a,c);return d.existsAsync(b)}),g=f.then(function(b){return b?d.readDirAsync(h).then(function(b){var d=b.map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}});return d}):[]});return e.push(g),[]}var h=d.resolve(b,c);if(d.exists(h)){var i=d.readDir(h),j=i.map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}});return j}return[]}function w(a,b,c,d,e){var f=a.valuePrefix(),g=ca.schema.getIncludePath(f),h=ca.schema.getIncludeReference(f);if(!g||!h)return[];var i=c.lowLevel().unit().resolve(g);if(!i)return[];var j=i.contents();if(!j)return[];try{var k=ca.schema.completeReference(g,h,j);return k.map(function(a){return{text:a}})}catch(l){console.log(l)}return[]}function x(a,b){for(var c=!0,d=a>0?a-1:0;d<b.length;d++){var e=b.charAt(d);if(" "==e||"\r"==e||"\n"==e)break;":"==e&&(c=!1)}return c}function y(a,b){var c=!0;return b.getContextRequirements().forEach(function(b){if(-1===b.name.indexOf("(")){var d=a.computedValue(b.name);d?c=c&&d==b.value:b.value&&(c=!1)}}),c}function z(a,b,c){return b.getAdapter(ca.ds.RAMLPropertyService).isKey()||b.getAdapter(ca.ds.RAMLPropertyService).isMerged()||b.getAdapter(ha.RAMLPropertyService).isSystem()?!1:y(a,b)?c[b.nameId()]?!1:b.isAnnotation()?!1:b.nameId()==ca.universes.Universe10.TypeDeclaration.properties.allowedTargets.name&&b.domain().key()&&b.domain().key()==ca.universes.Universe10.TypeDeclaration&&a.localType()&&!a.localType().isAnnotationType()?!1:!0:!1}function A(a,b,c,d,e){void 0===e&&(e=!0);var g=a,h=!1,i=!1,j=b.content.getText(),k=b.content.getOffset(),l=g.root()&&g.root().wrapperNode(),m=l&&l.mediaType&&l.mediaType()&&l.mediaType().length>0,n=m&&g.property&&g.property()&&ca.universeHelpers.isBodyProperty(g.property());if(e){var o=q(a.lowLevel().keyStart(),j);void 0==o&&(o="");var r=q(k,j),s=o.length,t=r.length;for(s==t&&a.parent()&&!n&&(a.property().getAdapter(ca.ds.RAMLPropertyService).isMerged()?g=g.parent():(h=!1,i=!0)),t>s&&(h=!0,t>=s+4&&(i=!0,h=!1));s>t&&g.parent();)g=g.parent(),s-=2}var u=x(k,j),v=u?": ":"",w=g.definition().allProperties(),y={};if(g.attrs().forEach(function(a){y[a.name()]=!0}),w=w.filter(function(a){return z(g,a,y)}),a.definition().isAssignableFrom(ca.universes.Universe10.TypeDeclaration.name)&&!a.definition().isAssignableFrom("ObjectTypeDeclaration")&&!a.attr("type")){var A=a.definition().universe().type("ObjectTypeDeclaration");A&&w.push(A.property("properties"))}var B=[];return c&&!n||i||(B=w.map(function(b){var c=b.nameId()+v;return b.range().isAssignableFrom(fa.Universe10.ExampleSpec.name)?c=c.trim():!b.range().hasValueTypeInHierarchy()&&u&&(c+="\n"+p(k,j)+"  "),{text:c,displayText:b.nameId(),description:b.description(),category:f(b.nameId(),a.definition(),b.range())}})),d&&g.definition().allProperties().filter(function(a){return a.getAdapter(ca.ds.RAMLPropertyService).isMerged()||a.isFromParentKey()}).forEach(function(a){if((!i||a.isFromParentKey())&&(!h||!a.isFromParentKey())){var c=a,d=a.getOftenKeys();if(!d){var e=a.suggester();e&&(d=e(g))}d||(d=a.enumOptions()),g.property()&&ca.universeHelpers.isBodyProperty(g.property())&&(d||(ca.universeHelpers.isResponseType(g.property().domain())&&(d=["application/json","application/xml"]),(ca.universeHelpers.isMethodBaseType(g.property().domain())||ca.universeHelpers.isMethodType(g.property().domain()))&&(d=["application/json","application/xml","multipart/form-data","application/x-www-form-urlencoded"]))),d&&d.forEach(function(a){var d=a,e=c.valueDocProvider(),h="";e&&(h=e(a));var i=a.indexOf("/")>=0,l=b.valuePrefix()&&b.valuePrefix().indexOf("/")>=0,m=l?a.replace(b.valuePrefix(),""):a,n=m+(u?":\n"+p(k,j)+"  ":""),o=i?b.valuePrefix():null;B.push({text:n,description:h,displayText:a,prefix:l?o:null,category:f(d,g.definition(),c.range())})})}}),B}function B(a){return"'"===a?!0:'"'===a?!0:!1}function C(a){var b=a.content.getText(),c=a.content.getOffset(),d=a.prefix(),e=b.substring(0,c),f=e.substring(e.lastIndexOf(":")+1).trim();if(!f.length)return!1;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0;if(" "===e[e.length-1]){if(/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}if(/^\w+$/.test(d)){if(f=f.substring(0,f.lastIndexOf(d)).trim(),/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}return B(f[f.length-1])?!0:!1}function D(a,b,c,d){var e=a,f=c.content.getText(),g=c.content.getOffset();if(C(c))return[];if(b){var h=b.property(),i=b.value();if("object"==typeof i&&i){var k=i.toHighLevel();if(k)return j(d.currentRequest,d,E(k,c));if(ca.search.isExampleNodeContent(b)){var l=ca.search.findExampleContentType(b);if(l){var m=ca.search.parseDocumentationContent(b,l);if(m)return j(d.currentRequest,d,E(m,c))}}}if(h){var n=F(h,e);if(h.isAllowNull()&&n.push({text:"null",description:"null means - that no value is allowed"}),!n||0==n.length){var o=h.getOftenKeys();if(o)return o.map(function(a){return{text:a,displayText:a}})}if(ga.isExampleProperty(h)&&ga.isBodyLikeType(e.definition())){if(!S(b.value(),g,f))return;var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./examples/",a.displayText="!include ./examples/"+a.text,a});return p=K(p,b.lowLevel().start(),f)}if(ga.isValueProperty(h)&&ga.isGlobalSchemaType(e.definition())){if(!S(b.value(),g,f))return;p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),p=K(p,b.lowLevel().start(),f)}if(n)return n}return[]}if(ga.isGlobalSchemaType(e.definition())&&(p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),p=K(p,e.lowLevel().start(),f)),ga.isTraitType(e.definition()))return p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./traits/",a.displayText="!include ./traits/"+a.text,a}),p=L(p,e.lowLevel().start(),f);if(ga.isResourceTypeType(e.definition())){var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./resourceTypes/",a.displayText="!include ./resourceTypes/"+a.text,a});return p=L(p,e.lowLevel().start(),f)}if(ga.isSecuritySchemaType(e.definition())){var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./securitySchemes/",a.displayText="!include ./securitySchemes/"+a.text,a});return p=L(p,e.lowLevel().start(),f)}return ga.isExampleSpecType(e.definition())?U(e,c,d):void 0}function E(a,b){for(var c=b.content.getText(),d=b.content.getOffset(),e=d-1;e>=0;e--){var f=c[e];{if(" "!=f&&"	"!=f)break;d=e}}var g=a.findElementAtOffset(d);return g}function F(a,b){if(b){if(a.getAdapter(ca.ds.RAMLPropertyService).isTypeExpr()){var c,d=b.associatedType(),e=b.definition(),g=b.attr(ca.universes.Universe10.TypeDeclaration.properties.type.name),h=g&&g.value(),i=b.children()&&b.children().filter(function(a){return a.isAttr()&&ca.universeHelpers.isTypeProperty(a.property())}),j=[],k=b&&b.root&&b.root();k&&k.lowLevel()&&k.lowLevel().unit()&&j.push(k.lowLevel().unit().absolutePath()),k&&k.wrapperNode&&k.wrapperNode()&&k.wrapperNode().uses&&k.wrapperNode().uses().forEach(function(a){if(a&&a.value&&a.value()){var b=k.lowLevel().unit().resolve(a.value());b&&j.push(b.absolutePath())}});var l=ca.search.globalDeclarations(b).filter(function(f){var g=f.lowLevel().unit().absolutePath();if(j.indexOf(g)<0)return!1;if(ca.universeHelpers.isGlobalSchemaType(f.definition()))return!0;var k=f.definition().allSuperTypes();if(ia.find(k,function(a){return ca.universeHelpers.isTypeDeclarationType(a)})){var l=h&&a&&a.isMultiValue()&&i&&i.length>1;if(l){if(!d)try{d=b.localType()}catch(m){console.log(m)}if(d&&!e.hasUnionInHierarchy()){var n=d.superTypes().filter(function(a){return!a.isAssignableFrom("unknown")});if(n){var o=ia.find(n,function(a){return H(a)}),p=ia.find(n,function(a){return G(a)}),q=ia.find(n,function(a){return I(a)})||e&&I(e),r=q||p;if(c=o||r,ia.find(n,function(a){return ca.search.qName(f,b)===a.nameId()}))return!1;if(c&&(G(f.definition())||I(f.definition())))return!1;if(r&&H(f.definition()))return!1}}if(e.hasUnionInHierarchy()){var s=J(e);if(ia.find(s,function(a){return ca.search.qName(f,b)===a.nameId()}))return!1}}return!0}return ga.isTypeDeclarationType(f.definition())&&"models"===f.property().nameId();
}),m=l.map(function(a){return{text:ea.qName(a,b),description:""}}),n=a.domain().universe().type("TypeDeclaration");if(n){var o=n.allSubTypes();m=m.concat(o.filter(function(a){return c&&(G(a)||I(a))?!1:!0}).map(function(a){return{text:a.getAdapter(ha.RAMLService).descriminatorValue(),description:a.description()}}))}return m}if(ga.isSchemaStringType(a.range())&&"RAML10"===a.range().universe().version()){var l=ea.globalDeclarations(b).filter(function(a){if(ga.isGlobalSchemaType(a.definition()))return!0;var b=a.definition().allSuperTypes();return ia.find(b,function(a){return ga.isTypeDeclarationType(a)})?!0:ga.isTypeDeclarationType(a.definition())&&"models"===a.property().nameId()}),m=l.map(function(a){return{text:ea.qName(a,b),description:""}}),o=ea.subTypesWithLocals(a.domain().universe().type("TypeDeclaration"),b);return m=m.concat(o.map(function(a){return{text:a.getAdapter(ha.RAMLService).descriminatorValue(),description:a.description()}}))}if(a.isDescriminator()){var o=ea.subTypesWithLocals(a.domain(),b);return o.map(function(b){var c=b.getAdapter(ha.RAMLService).descriminatorValue();return{text:c,description:b.description(),category:f(c,a.domain(),null)}})}if(a.isReference())return ea.nodesDeclaringType(a.referencesTo(),b).map(function(a){return T(a,b)});if(a.range().hasValueTypeInHierarchy()){var p=a.range().getAdapter(ha.RAMLService);if(p.globallyDeclaredBy().length>0){var l=ea.globalDeclarations(b).filter(function(a){var b=a.definition();return null!=ia.find(p.globallyDeclaredBy(),function(a){return a==b})});return l.map(function(a){return T(a,b)})}if(ga.isBooleanTypeType(a.range()))return["false","true"].map(function(a){return{text:a}});var q=a.node&&a.node();if(q){var r=ia.filter(q.children(),function(a){return a.name&&a.value&&a.property()&&ga.isEnumProperty(a.property())}).map(function(a){return{text:a.value()}});return r}}}return ea.enumValues(a,b).map(function(a){return{text:a,category:f(a,b&&b.definition(),null)}})}function G(a){var b=!a.isArray()&&!H(a)&&!a.hasUnionInHierarchy()&&a.key()!==fa.Universe10.TypeDeclaration;return b}function H(a){return a.isAssignableFrom(fa.Universe10.ObjectTypeDeclaration.name)||a.isAssignableFrom("object")}function I(a){return a.isAssignableFrom(fa.Universe10.ArrayTypeDeclaration.name)}function J(a){var b=[];return a&&a.isUnion()?a.left?(b.push(a.left),b.concat(J(a.right))):void 0:a?[a]:b}function K(a,b,c){return a=[{displayText:"Define Inline",text:"|\n"+M(b-1,c)+"  "}].concat(a)}function L(a,b,c){return a=[{displayText:"Define Inline",text:"\n"+M(b-1,c)+"  "}].concat(a)}function M(a,b){for(var c="";a>0;){var d=b[a];if("\r"==d||"\n"==d||" "!=d&&"-"!=d)break;c+=" ",a--}return c}function N(a){return a.text?a.text:a.snippet?a.snippet:a.displayText}function O(a,b){return a.text?void(a.text=b):a.snippet?void(a.snippet=b):void(a.displayText=b)}function P(a,b){var c=a.parent&&a.parent();if(!c)return!1;var d=a.name&&a.name();if(!d)return!1;var e=c.attributes&&c.attributes(d);if(!e)return!1;if(0===e.length)return!1;var f=[];return e.forEach(function(a){var b=a.value&&a.value()&&a.value().valueName&&a.value().valueName();b&&f.push(b)}),ia.find(f,function(a){return b===a})}function Q(a){return a&&a.definition()&&a.property()&&a.definition().isAssignableFrom(fa.Universe10.TraitRef.name)?!0:!1}function R(a){var b=a&&a.definition?a.definition():null;if(b){var c=b.nameId();if("Api"===c)return!1;if("ResourceType"===c||"Trait"===c)return!0;var d=a.parent();return d?R(d):!1}return!1}function S(a,b,c){if(a&&a.length>0){var d=a.trim();if(0==d.indexOf("{"))return!1;if(0==d.indexOf("<"))return!1;if(0==d.indexOf("["))return!1}for(var e=b;e>=0;e--){var f=c[e];if(":"==f)return!0;if("|"==f)return!1;if("'"==f)return!1;if('"'==f)return!1}return!0}function T(a,b){var c=!1,d=a.attr("description"),e="";d?e=d.value():(d=a.attr("usage"),d&&(e=d.value()));var f=a.localType(),g=f.allProperties().filter(function(a){return a.isRequired()&&!a.getAdapter(ha.RAMLPropertyService).isKey()}),h=ea.qName(a,b);if(!ga.isAnnotationTypeType(a.definition())&&g.length>0){h+=": {",h+=g.map(function(a){return a.nameId()+" : "}).join(", ")+"}";var i="";ga.isResourceTypeType(a.definition())&&(h=""+h+" }",i=" { ",c=!0)}return{displayText:ea.qName(a,b),snippet:h,description:e,extra:i,isResourceType:c}}function U(a,b,c){if(!ea.isExampleNode(a))return[];var d=ea.findExampleContentType(a);if(!d)return[];var e=ea.parseStructuredExample(a,d);if(!e)return[];var f=a&&a.lowLevel()&&a.lowLevel().unit()&&a.lowLevel().unit().project();return j(b,c,E(e,b),f)}function V(a,b){var c=W(a,b),d=[],e=[];return c.forEach(function(a){var b=$(a);d.indexOf(b)<0&&(e.push(a),d.push(b))}),e}function W(a,b){var c,d,e,f,g;if(null!=a){for(c&&(a=a.map(function(a){var b,c,d;return b={text:null!=(c=a.text)?c:a.word,snippet:a.snippet,replacementPrefix:null!=(d=a.replacementPrefix)?d:a.prefix,className:a.className,type:a.type},null==b.rightLabelHTML&&a.renderLabelAsHtml&&(b.rightLabelHTML=a.label),null!=b.rightLabel||a.renderLabelAsHtml||(b.rightLabel=a.label),b})),d=!1,f=0,g=a.length;g>f;f++)e=a[f],e.snippet||e.text||(d=!0),null==e.replacementPrefix&&(e.replacementPrefix=Z(b.prefix()));return d&&(a=function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)e=a[b],(e.snippet||e.text)&&d.push(e);return d}()),a=X(a,b)}}function X(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(e=b.prefix(),g=[],d=l=0,m=a.length;m>l;d=++l)i=a[d],i.sortScore=Math.max(-d/10+3,0)+1,i.score=null,k=i.snippet||i.text,j=null!=(n=i.replacementPrefix)?n:e,f=!j||" "===j,c=!f&&j[0].toLowerCase()===k[0].toLowerCase(),f&&g.push(i),c&&(h=oa.score(k,j))>0&&(i.score=h*i.sortScore,g.push(i));return g.sort(Y),g}function Y(a,b){var c,d;return(null!=(c=b.score)?c:b.sortScore)-(null!=(d=a.score)?d:a.sortScore)}function Z(a){return pa.test(a)?a:""}function $(a){return a&&(a.displayText||a.text)||null}function _(a){var b,c;return b=aa(a),(null!=(c=qa.exec(b))?c[2]:void 0)||""}function aa(a){for(var b=a.content.getOffset(),c=a.content.getText(),d=b-1;d>=0;d--){var e=c.charAt(d);if("\r"===e||"\n"===e||" "===e||"	"===e)return c.substring(d+1,b)}return""}function ba(a){return new ra(a)}var ca=window.RAML.Parser,da=ca.ds,ea=ca.search,fa=ca.universes,ga=ca.universeHelpers,ha=da,ia=a("underscore"),ja=a("../resources/categories.json"),ka=function(){function a(a){this.async=!1,this.content=a}return a.prototype.prefix=function(){return"undefined"!=typeof this.prefixValue?this.prefixValue:_(this)},a.prototype.setPrefix=function(a){this.prefixValue=a},a.prototype.valuePrefix=function(){for(var a=this.content.getOffset(),b=this.content.getText(),c=a-1;c>=0;c--){var d=b.charAt(c);if("\r"===d||"\n"===d||" "===d||"	"===d||'"'===d||"'"===d||":"===d||"("===d)return b.substring(c+1,a)}return""},a}();c.CompletionRequest=ka;var la=function(){function a(a,b){void 0===b&&(b=null),this.currentRequest=null,this.astProvider=null,this.level=0,this.contentProvider=a}return a.prototype.suggest=function(a,b){void 0===b&&(b=!1);var c=h(a,this);return b?V(c,a):c},a.prototype.suggestAsync=function(a,b){return void 0===b&&(b=!1),i(a,this).then(function(c){return b?V(c,a):c},function(a){return a})},a}();c.CompletionProvider=la,c.suggest=d,c.suggestAsync=e,c.valueCompletion=D;var ma=ca.utils.getTransformerNames(),na=function(a,b){var c=[];return ma.filter(function(a){return 0===a.indexOf(b)}).forEach(function(a){c.push({displayText:a,text:a})}),c.concat(a)};c.postProcess=V;var oa=a("fuzzaldrin-plus"),pa=/^\w+[\w-]*$/,qa=/(\b|['"~`!@#\$%^&*\(\)\{\}\[\]=\+,\/\?>])((\w+[\w-]*)|([.:;[{(< ]+))$/;c.getPrefix=_;var ra=function(){function a(a){this.resolver=a,this.fsResolver=a}return a.prototype.contentDirName=function(a){return this.resolver.dirname(a.getPath())},a.prototype.dirName=function(a){return this.resolver.dirname(a)},a.prototype.exists=function(a){return this.resolver.exists(a)},a.prototype.resolve=function(a,b){return this.resolver.resolve(a,b)},a.prototype.isDirectory=function(a){return this.resolver.isDirectory(a)},a.prototype.isDirectoryAsync=function(a){return this.resolver.isDirectoryAsync(a)},a.prototype.readDir=function(a){return this.resolver.list(a)},a.prototype.existsAsync=function(a){return this.resolver.existsAsync(a)},a.prototype.readDirAsync=function(a){return this.resolver.listAsync(a)},a}();c.getContentProvider=ba},{"../resources/categories.json":11,"fuzzaldrin-plus":2,underscore:12}],10:[function(a,b,c){"use strict";function d(a){l=a}function e(a){m=a}function f(a){n=a}function g(){return k.suggest(l,n)}function h(a,b){return k.suggest(a,b)}function i(a,b){return k.suggestAsync(a,b)}function j(a){return k.getContentProvider(a)}var k=a("./completionProvider"),l=null,m=null;c.setDefaultEditorStateProvider=d,c.setDefaultASTProvider=e;var n=null;c.setDefaultFSProvider=f,c.suggestDefault=g,c.suggest=h,c.suggestAsync=i,c.getContentProvider=j},{"./completionProvider":9}],11:[function(a,b,c){b.exports={docs:{description:{is:["Universe10.MarkdownString","Universe08.MarkdownString"]},displayName:{parentIs:["Universe10.ExampleSpec","Universe10.TypeDeclaration","Universe10.Trait","Universe10.MethodBase","Universe10.AbstractSecurityScheme","Universe10.ResourceType","Universe10.Resource","Universe08.Parameter","Universe08.Resource","Universe08.ResourceType","Universe08.Trait"]},example:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},usage:{parentIs:["Universe10.Library","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.ResourceType","Universe08.ResourceType","Universe08.Trait"]},content:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]},documentation:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]}},parameters:{"default":{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},"enum":{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maximum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minimum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maxLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},required:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},baseUriParameters:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api","Universe08.Resource","Universe08.ResourceType","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},uriParameters:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Api","Universe08.Resource","Universe08.ResourceType"]},headers:{parentIs:["Universe10.Response","Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.Response","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},queryParameters:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe08.Parameter"]}},schemas:{schema:{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},schemas:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},root:{baseUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},mediaType:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},protocols:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.MethodBase","Universe08.Api","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},version:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},responses:{responses:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]}},response:{body:{parentIs:["Universe10.Response","Universe08.Response"]}},security:{securedBy:{is:["Universe10.SecuritySchemeRef","Universe08.SecuritySchemeRef"]},securitySchemes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},accessTokenUri:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationGrants:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},requestTokenUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},scopes:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},describedBy:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},settings:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 1.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 2.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Basic Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Digest Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]}},"types and traits":{type:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Resource","Universe08.ResourceType"]},is:{is:["Universe10.TraitRef","Universe08.TraitRef"]},resourceTypes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},traits:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},methods:{options:{is:["Universe10.MethodBase","Universe08.MethodBase"]},get:{is:["Universe10.MethodBase","Universe08.MethodBase"]},head:{is:["Universe10.MethodBase","Universe08.MethodBase"]},post:{is:["Universe10.MethodBase","Universe08.MethodBase"]},put:{is:["Universe10.MethodBase","Universe08.MethodBase"]},"delete":{is:["Universe10.MethodBase","Universe08.MethodBase"]},trace:{is:["Universe10.MethodBase","Universe08.MethodBase"]},connect:{is:["Universe10.MethodBase","Universe08.MethodBase"]},patch:{is:["Universe10.MethodBase","Universe08.MethodBase"]}},protocols:{HTTP:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]},HTTPS:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}},body:{"application/json":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/x-www-form-urlencoded":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/xml":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"multipart/form-data":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},body:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}}}},{}],12:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=v(d,f,4);var g=!C(c)&&u.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=w(c,d);for(var e=B(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b,c){return function(d,e,f){var g=0,h=B(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(m.call(d,g,h),u.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function f(a,b){var c=H.length,d=a.constructor,e=u.isFunction(d)&&d.prototype||j,f="constructor";for(u.has(a,f)&&!u.contains(b,f)&&b.push(f);c--;)f=H[c],f in a&&a[f]!==e[f]&&!u.contains(b,f)&&b.push(f)}var g=this,h=g._,i=Array.prototype,j=Object.prototype,k=Function.prototype,l=i.push,m=i.slice,n=j.toString,o=j.hasOwnProperty,p=Array.isArray,q=Object.keys,r=k.bind,s=Object.create,t=function(){},u=function(a){return a instanceof u?a:this instanceof u?void(this._wrapped=a):new u(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=u),c._=u):g._=u,u.VERSION="1.8.3";var v=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){return null==a?u.identity:u.isFunction(a)?v(a,b,c):u.isObject(a)?u.matcher(a):u.property(a)};u.iteratee=function(a,b){return w(a,b,1/0)};var x=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},y=function(a){if(!u.isObject(a))return{};if(s)return s(a);t.prototype=a;var b=new t;return t.prototype=null,b},z=function(a){return function(b){return null==b?void 0:b[a]}},A=Math.pow(2,53)-1,B=z("length"),C=function(a){var b=B(a);return"number"==typeof b&&b>=0&&A>=b};u.each=u.forEach=function(a,b,c){b=v(b,c);var d,e;if(C(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=u.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},u.map=u.collect=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},u.reduce=u.foldl=u.inject=a(1),u.reduceRight=u.foldr=a(-1),u.find=u.detect=function(a,b,c){var d;return d=C(a)?u.findIndex(a,b,c):u.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},u.filter=u.select=function(a,b,c){var d=[];return b=w(b,c),u.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},u.reject=function(a,b,c){return u.filter(a,u.negate(w(b)),c)},u.every=u.all=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},u.some=u.any=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},u.contains=u.includes=u.include=function(a,b,c,d){return C(a)||(a=u.values(a)),("number"!=typeof c||d)&&(c=0),u.indexOf(a,b,c)>=0},u.invoke=function(a,b){var c=m.call(arguments,2),d=u.isFunction(b);return u.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},u.pluck=function(a,b){return u.map(a,u.property(b))},u.where=function(a,b){return u.filter(a,u.matcher(b))},u.findWhere=function(a,b){return u.find(a,u.matcher(b))},u.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},u.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},u.shuffle=function(a){for(var b,c=C(a)?a:u.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=u.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},u.sample=function(a,b,c){return null==b||c?(C(a)||(a=u.values(a)),a[u.random(a.length-1)]):u.shuffle(a).slice(0,Math.max(0,b))},u.sortBy=function(a,b,c){return b=w(b,c),u.pluck(u.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a){return function(b,c,d){var e={};return c=w(c,d),u.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};u.groupBy=D(function(a,b,c){u.has(a,c)?a[c].push(b):a[c]=[b]}),u.indexBy=D(function(a,b,c){a[c]=b}),u.countBy=D(function(a,b,c){u.has(a,c)?a[c]++:a[c]=1}),u.toArray=function(a){return a?u.isArray(a)?m.call(a):C(a)?u.map(a,u.identity):u.values(a):[]},u.size=function(a){return null==a?0:C(a)?a.length:u.keys(a).length},u.partition=function(a,b,c){b=w(b,c);var d=[],e=[];return u.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},u.first=u.head=u.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:u.initial(a,a.length-b)},u.initial=function(a,b,c){return m.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},u.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:u.rest(a,Math.max(0,a.length-b))},u.rest=u.tail=u.drop=function(a,b,c){return m.call(a,null==b||c?1:b)},u.compact=function(a){return u.filter(a,u.identity)};var E=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=B(a);h>g;g++){var i=a[g];if(C(i)&&(u.isArray(i)||u.isArguments(i))){b||(i=E(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};u.flatten=function(a,b){return E(a,b,!1)},u.without=function(a){return u.difference(a,m.call(arguments,1))},u.uniq=u.unique=function(a,b,c,d){u.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=w(c,d));for(var e=[],f=[],g=0,h=B(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?u.contains(f,j)||(f.push(j),e.push(i)):u.contains(e,i)||e.push(i)}return e},u.union=function(){return u.uniq(E(arguments,!0,!0))},u.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=B(a);e>d;d++){var f=a[d];if(!u.contains(b,f)){for(var g=1;c>g&&u.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},u.difference=function(a){var b=E(arguments,!0,!0,1);return u.filter(a,function(a){return!u.contains(b,a)})},u.zip=function(){return u.unzip(arguments)},u.unzip=function(a){for(var b=a&&u.max(a,B).length||0,c=Array(b),d=0;b>d;d++)c[d]=u.pluck(a,d);return c},u.object=function(a,b){for(var c={},d=0,e=B(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},u.findIndex=d(1),u.findLastIndex=d(-1),u.sortedIndex=function(a,b,c,d){c=w(c,d,1);for(var e=c(b),f=0,g=B(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},u.indexOf=e(1,u.findIndex,u.sortedIndex),u.lastIndexOf=e(-1,u.findLastIndex),u.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var F=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=y(a.prototype),g=a.apply(f,e);return u.isObject(g)?g:f};u.bind=function(a,b){if(r&&a.bind===r)return r.apply(a,m.call(arguments,1));if(!u.isFunction(a))throw new TypeError("Bind must be called on a function");var c=m.call(arguments,2),d=function(){return F(a,d,b,this,c.concat(m.call(arguments)))};return d},u.partial=function(a){var b=m.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===u?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return F(a,c,this,this,f)};return c},u.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=u.bind(a[c],a);return a},u.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return u.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},u.delay=function(a,b){var c=m.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},u.defer=u.partial(u.delay,u,1),u.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:u.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=u.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},u.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=u.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=u.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},u.wrap=function(a,b){return u.partial(b,a)},u.negate=function(a){return function(){return!a.apply(this,arguments)}},u.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},u.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},u.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},u.once=u.partial(u.before,2);var G=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];u.keys=function(a){if(!u.isObject(a))return[];if(q)return q(a);var b=[];for(var c in a)u.has(a,c)&&b.push(c);return G&&f(a,b),b},u.allKeys=function(a){if(!u.isObject(a))return[];var b=[];for(var c in a)b.push(c);return G&&f(a,b),b},u.values=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},u.mapObject=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},u.pairs=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},u.invert=function(a){for(var b={},c=u.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},u.functions=u.methods=function(a){var b=[];for(var c in a)u.isFunction(a[c])&&b.push(c);return b.sort()},u.extend=x(u.allKeys),u.extendOwn=u.assign=x(u.keys),u.findKey=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},u.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;u.isFunction(b)?(e=u.allKeys(g),d=v(b,c)):(e=E(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},u.omit=function(a,b,c){if(u.isFunction(b))b=u.negate(b);else{var d=u.map(E(arguments,!1,!1,1),String);b=function(a,b){return!u.contains(d,b)}}return u.pick(a,b,c)},u.defaults=x(u.allKeys,!0),u.create=function(a,b){var c=y(a);return b&&u.extendOwn(c,b),c},u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a},u.tap=function(a,b){return b(a),a},u.isMatch=function(a,b){var c=u.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var I=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof u&&(a=a._wrapped),b instanceof u&&(b=b._wrapped);var e=n.call(a);if(e!==n.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(u.isFunction(g)&&g instanceof g&&u.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!I(a[i],b[i],c,d))return!1}else{var j,k=u.keys(a);if(i=k.length,u.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!u.has(b,j)||!I(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};u.isEqual=function(a,b){return I(a,b)},u.isEmpty=function(a){return null==a?!0:C(a)&&(u.isArray(a)||u.isString(a)||u.isArguments(a))?0===a.length:0===u.keys(a).length},u.isElement=function(a){return!(!a||1!==a.nodeType)},u.isArray=p||function(a){return"[object Array]"===n.call(a)},u.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},u.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){u["is"+a]=function(b){return n.call(b)==="[object "+a+"]"}}),u.isArguments(arguments)||(u.isArguments=function(a){return u.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(u.isFunction=function(a){return"function"==typeof a||!1}),u.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},u.isNaN=function(a){return u.isNumber(a)&&a!==+a},u.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===n.call(a)},u.isNull=function(a){return null===a},u.isUndefined=function(a){return void 0===a},u.has=function(a,b){return null!=a&&o.call(a,b)},u.noConflict=function(){return g._=h,this},u.identity=function(a){return a},u.constant=function(a){return function(){return a}},u.noop=function(){},u.property=z,u.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},u.matcher=u.matches=function(a){return a=u.extendOwn({},a),function(b){return u.isMatch(b,a)}},u.times=function(a,b,c){var d=Array(Math.max(0,a));b=v(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},u.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},u.now=Date.now||function(){return(new Date).getTime()};var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=u.invert(J),L=function(a){var b=function(b){return a[b]},c="(?:"+u.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};u.escape=L(J),u.unescape=L(K),u.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),u.isFunction(d)?d.call(a):d};var M=0;u.uniqueId=function(a){var b=++M+"";return a?a+b:b},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(a){return"\\"+O[a]};u.template=function(a,b,c){!b&&c&&(b=c),b=u.defaults({},b,u.templateSettings);var d=RegExp([(b.escape||N).source,(b.interpolate||N).source,(b.evaluate||N).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(P,Q),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,u)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},u.chain=function(a){var b=u(a);return b._chain=!0,b};var R=function(a,b){return a._chain?u(b).chain():b};u.mixin=function(a){u.each(u.functions(a),function(b){var c=u[b]=a[b];u.prototype[b]=function(){var a=[this._wrapped];return l.apply(a,arguments),R(this,c.apply(u,a))}})},u.mixin(u),u.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];u.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],R(this,c)}}),u.each(["concat","join","slice"],function(a){var b=i[a];u.prototype[a]=function(){return R(this,b.apply(this._wrapped,arguments))}}),u.prototype.value=function(){return this._wrapped},u.prototype.valueOf=u.prototype.toJSON=u.prototype.value,u.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return u})}).call(this)},{}]},{},[8]),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.oasRamlConverter=a()}
}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?(void 0).base64js={}:c)},{}],2:[function(b,c,d){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b,f){"function"==typeof a&&a.amd?a([],f):"object"===("undefined"==typeof d?"undefined":e(d))?c.exports=f():b.returnExports=f()}(void 0,function(){function a(e,f){if("function"!=typeof f)throw new Error("Bad callback given: "+f);if(!e)throw new Error("No options given");var g=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=g,e.verbose&&(a.log=d()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],j=0;j<i.length;j++)if(e[i[j]])throw new Error("options."+i[j]+" is not supported");if(e.callback=f,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||a.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));var k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(e.qs){var l="string"==typeof e.qs?e.qs:k(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+l:e.uri=e.uri+"?"+l}var m=function(a){var b={};b.boundry="-------------------------------"+Math.floor(1e9*Math.random());var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("--"+b.boundry+'\nContent-Disposition: form-data; name="'+d+'"\n\n'+a[d]+"\n");return c.push("--"+b.boundry+"--"),b.body=c.join(""),b.length=b.body.length,b.type="multipart/form-data; boundary="+b.boundry,b};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var n=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=n,n){case"application/x-www-form-urlencoded":e.body=k(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var o=m(e.form);e.body=o.body,e.headers["content-type"]=o.type;break;default:throw new Error("unsupported encoding:"+n)}}}return e.onResponse=e.onResponse||c,e.onResponse===!0&&(e.onResponse=f,e.callback=c),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+h(e.auth.username+":"+e.auth.password)),b(e)}function b(b){function c(){l=!0;var c=new Error("ETIMEDOUT");return c.code="ETIMEDOUT",c.duration=b.timeout,a.log.error("Timeout",{id:j._id,milliseconds:b.timeout}),b.callback(c,j)}function d(c){if(l)return a.log.debug("Ignoring timed out state change",{state:j.readyState,id:j.id});if(a.log.debug("State change",{state:j.readyState,id:j.id,timed_out:l}),j.readyState===i.OPENED){a.log.debug("Request started",{id:j.id});for(var d in b.headers)j.setRequestHeader(d,b.headers[d])}else j.readyState===i.HEADERS_RECEIVED?e():j.readyState===i.LOADING?(e(),f()):j.readyState===i.DONE&&(e(),f(),h())}function e(){if(!p.response){if(p.response=!0,a.log.debug("Got response",{id:j.id,status:j.status}),clearTimeout(j.timeoutTimer),j.statusCode=j.status,m&&0==j.statusCode){var c=new Error("CORS request rejected: "+b.uri);return c.cors="rejected",p.loading=!0,p.end=!0,b.callback(c,j)}b.onResponse(null,j)}}function f(){p.loading||(p.loading=!0,a.log.debug("Response body loading",{id:j.id}))}function h(){if(!p.end){if(p.end=!0,a.log.debug("Request done",{id:j.id}),j.body=j.responseText,b.json)try{j.body=JSON.parse(j.responseText)}catch(c){return b.callback(c,j)}b.callback(null,j,j.body)}}var j=new i,l=!1,m=g(b.uri),n="withCredentials"in j;if(k+=1,j.seq_id=k,j.id=k+": "+b.method+" "+b.uri,j._id=j.id,m&&!n){var o=new Error("Browser does not support cross-origin request: "+b.uri);return o.cors="unsupported",b.callback(o,j)}j.timeoutTimer=setTimeout(c,b.timeout);var p={response:!1,loading:!1,end:!1};return j.onreadystatechange=d,j.open(b.method,b.uri,!0),m&&(j.withCredentials=!!b.withCredentials),j.send(b.body),j}function c(){}function d(){var a,b,d={},e=["trace","debug","info","warn","error"];for(b=0;b<e.length;b++)a=e[b],d[a]=c,"undefined"!=typeof console&&console&&console[a]&&(d[a]=f(console,a));return d}function f(a,b){function c(c,d){return"object"===("undefined"==typeof d?"undefined":e(d))&&(c+=" "+JSON.stringify(d)),a[b].call(a,c)}return c}function g(a){var b,c=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{b=location.href}catch(d){b=document.createElement("a"),b.href="",b=b.href}var e=c.exec(b.toLowerCase())||[],f=c.exec(a.toLowerCase()),g=!(!f||f[1]==e[1]&&f[2]==e[2]&&(f[3]||("http:"===f[1]?80:443))==(e[3]||("http:"===e[1]?80:443)));return g}function h(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}var i=XMLHttpRequest;if(!i)throw new Error("missing XMLHttpRequest");a.log={trace:c,debug:c,info:c,warn:c,error:c};var j=18e4,k=0;a.withCredentials=!1,a.DEFAULT_TIMEOUT=j,a.defaults=function(b,c){var d=function(a){var c=function(c,d){c="string"==typeof c?{uri:c}:JSON.parse(JSON.stringify(c));for(var e in b)void 0===c[e]&&(c[e]=b[e]);return a(c,d)};return c},e=d(a);return e.get=d(a.get),e.post=d(a.post),e.put=d(a.put),e.head=d(a.head),e};var l=["get","put","post","head"];return l.forEach(function(b){var c=b.toUpperCase(),d=b.toLowerCase();a[d]=function(b){"string"==typeof b?b={method:c,uri:b}:(b=JSON.parse(JSON.stringify(b)),b.method=c);var d=[b].concat(Array.prototype.slice.apply(arguments,[1]));return a.apply(this,d)}}),a.couch=function(b,d){function e(a,b,c){if(a)return d(a,b,c);if((b.statusCode<200||b.statusCode>299)&&c.error){a=new Error("CouchDB error: "+(c.error.reason||c.error.error));for(var e in c)a[e]=c[e];return d(a,b,c)}return d(a,b,c)}"string"==typeof b&&(b={uri:b}),b.json=!0,b.body&&(b.json=b.body),delete b.body,d=d||c;var f=a(b,e);return f},a})},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],5:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,0>b?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function h(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if($>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||g>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return 16>a?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);g>e&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),d>c?-1:c>d?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;e>g;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&c>d&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&b>c&&d>b)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(1e3>g||!f.TYPED_ARRAY_SUPPORT)for(e=0;g>e;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:17,isarray:6}],6:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],7:[function(a,b,c){"use strict";b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],8:[function(a,b,c){(function(a,c){"use strict";var d=c.process&&a.nextTick||c.setImmediate||function(a){setTimeout(a,0)};b.exports=function(a,b){return a?void b.then(function(b){d(function(){a(null,b)})},function(b){d(function(){a(b)})}):b}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:145}],9:[function(a,b,c){(function(a){"use strict";function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"===("undefined"==typeof a?"undefined":r(a))}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"===("undefined"==typeof a?"undefined":r(a))&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"===("undefined"==typeof a?"undefined":r(a))||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20}],10:[function(a,b,c){"use strict";function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"===("undefined"==typeof console?"undefined":j(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function h(){var a;try{a=c.storage.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":11}],11:[function(a,b,c){
"use strict";function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:80}],12:[function(b,c,d){(function(e,f){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b,e){"object"===("undefined"==typeof d?"undefined":g(d))&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a(e):b.ES6Promise=e()}(void 0,function(){function a(a){var b="undefined"==typeof a?"undefined":g(a);return null!==a&&("object"===b||"function"===b)}function c(a){return"function"==typeof a}function d(a){Y=a}function h(a){Z=a}function i(){return function(){return e.nextTick(n)}}function j(){return"undefined"!=typeof X?function(){X(n)}:m()}function k(){var a=0,b=new aa(n),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function l(){var a=new MessageChannel;return a.port1.onmessage=n,function(){return a.port2.postMessage(0)}}function m(){var a=setTimeout;return function(){return a(n,1)}}function n(){for(var a=0;W>a;a+=2){var b=da[a],c=da[a+1];b(c),da[a]=void 0,da[a+1]=void 0}W=0}function o(){try{var a=b,c=a("vertx");return X=c.runOnLoop||c.runOnContext,j()}catch(d){return m()}}function p(a,b){var c=arguments,d=this,e=new this.constructor(r);void 0===e[fa]&&K(e);var f=d._state;return f?!function(){var a=c[f-1];Z(function(){return H(f,e,a,d._result)})}():D(d,e,a,b),e}function q(a){var b=this;if(a&&"object"===("undefined"==typeof a?"undefined":g(a))&&a.constructor===b)return a;var c=new b(r);return z(c,a),c}function r(){}function s(){return new TypeError("You cannot resolve a promise with itself")}function t(){return new TypeError("A promises callback cannot return that same promise.")}function u(a){try{return a.then}catch(b){return ja.error=b,ja}}function v(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function w(a,b,c){Z(function(a){var d=!1,e=v(c,b,function(c){d||(d=!0,b!==c?z(a,c):B(a,c))},function(b){d||(d=!0,C(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,C(a,e))},a)}function x(a,b){b._state===ha?B(a,b._result):b._state===ia?C(a,b._result):D(b,void 0,function(b){return z(a,b)},function(b){return C(a,b)})}function y(a,b,d){b.constructor===a.constructor&&d===p&&b.constructor.resolve===q?x(a,b):d===ja?(C(a,ja.error),ja.error=null):void 0===d?B(a,b):c(d)?w(a,b,d):B(a,b)}function z(b,c){b===c?C(b,s()):a(c)?y(b,c,u(c)):B(b,c)}function A(a){a._onerror&&a._onerror(a._result),E(a)}function B(a,b){a._state===ga&&(a._result=b,a._state=ha,0!==a._subscribers.length&&Z(E,a))}function C(a,b){a._state===ga&&(a._state=ia,a._result=b,Z(A,a))}function D(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ha]=c,e[f+ia]=d,0===f&&a._state&&Z(E,a)}function E(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?H(c,d,e,f):e(f);a._subscribers.length=0}}function F(){this.error=null}function G(a,b){try{return a(b)}catch(c){return ka.error=c,ka}}function H(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=G(d,e),g===ka?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void C(b,t())}else g=e,i=!0;b._state!==ga||(f&&i?z(b,g):j?C(b,h):a===ha?B(b,g):a===ia&&C(b,g))}function I(a,b){try{b(function(b){z(a,b)},function(b){C(a,b)})}catch(c){C(a,c)}}function J(){return la++}function K(a){a[fa]=la++,a._state=void 0,a._result=void 0,a._subscribers=[]}function L(a,b){this._instanceConstructor=a,this.promise=new a(r),this.promise[fa]||K(this.promise),V(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&B(this.promise,this._result))):C(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function N(a){return new L(this,a).promise}function O(a){var b=this;return new b(V(a)?function(c,d){for(var e=a.length,f=0;e>f;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function P(a){var b=this,c=new b(r);return C(c,a),c}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function S(a){this[fa]=J(),this._result=this._state=void 0,this._subscribers=[],r!==a&&("function"!=typeof a&&Q(),this instanceof S?I(this,a):R())}function T(){var a=void 0;if("undefined"!=typeof f)a=f;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;if(c){var d=null;try{d=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===d&&!c.cast)return}a.Promise=S}var U=void 0;U=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var V=U,W=0,X=void 0,Y=void 0,Z=function(a,b){da[W]=a,da[W+1]=b,W+=2,2===W&&(Y?Y(n):ea())},$="undefined"!=typeof window?window:void 0,_=$||{},aa=_.MutationObserver||_.WebKitMutationObserver,ba="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ca="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,da=new Array(1e3),ea=void 0;ea=ba?i():aa?k():ca?l():void 0===$&&"function"==typeof b?o():m();var fa=Math.random().toString(36).substring(16),ga=void 0,ha=1,ia=2,ja=new F,ka=new F,la=0;return L.prototype._enumerate=function(a){for(var b=0;this._state===ga&&b<a.length;b++)this._eachEntry(a[b],b)},L.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===q){var e=u(a);if(e===p&&a._state!==ga)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===S){var f=new c(r);y(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},L.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ga&&(this._remaining--,a===ia?C(d,c):this._result[b]=c),0===this._remaining&&B(d,this._result)},L.prototype._willSettleAt=function(a,b){var c=this;D(a,void 0,function(a){return c._settledAt(ha,b,a)},function(a){return c._settledAt(ia,b,a)})},S.all=N,S.race=O,S.resolve=q,S.reject=P,S._setScheduler=d,S._setAsap=h,S._asap=Z,S.prototype={constructor:S,then:p,"catch":function(a){return this.then(null,a)}},S.polyfill=T,S.Promise=S,S})}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:145}],13:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],14:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function(a,b,c){if("[object Function]"!==e.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)b.call(c,a[g],g,a);else for(var h in a)d.call(a,h)&&b.call(c,a[h],h,a)}},{}],15:[function(a,b,c){"use strict";function d(a){var b=/(%?)(%([jds]))/g,c=Array.prototype.slice.call(arguments,1);return c.length&&(a=a.replace(b,function(a,b,d,e){var f=c.shift();switch(e){case"s":f=""+f;break;case"d":f=Number(f);break;case"j":f=JSON.stringify(f)}return b?(c.unshift(f),a):f})),c.length&&(a+=" "+c.join(" ")),a=a.replace(/%{2,2}/g,"%"),""+a}b.exports=d},{}],16:[function(a,b,c){var d=a("http"),e=b.exports;for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.request=function(a,b){return a||(a={}),a.scheme="https",a.protocol="https:",d.request.call(this,a,b)}},{http:168}],17:[function(a,b,c){"use strict";c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],18:[function(a,b,c){"use strict";var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],19:[function(a,b,c){"use strict";"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){"use strict";function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],21:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function a(a,b){Array.isArray(a)||(a=[a]);for(var c=!!b,e=[],f=0;f<a.length;f++){var g=a[f];"object"===("undefined"==typeof g?"undefined":d(g))?(e.push(g),c=!0):e.push({type:g})}return c&&e}function c(b){if(b.type)if("string"!=typeof b.type){var e=a(b.type);e&&(b.anyOf=e,delete b.type)}else"any"==b.type&&delete b.type;if(b["extends"]){var f=b["extends"];Array.isArray(f)||(f=[f]),b.allOf=f,delete b["extends"]}if(b.disallow&&("string"==typeof b.disallow?b.not={type:b.disallow}:b.not={anyOf:a(b.disallow,!0)},delete b.disallow),b.properties){var g=Array.isArray(b.required)?b.required:[];for(var h in b.properties){var i=b.properties[h];i&&"boolean"==typeof i.required&&(i.required&&g.push(h),delete i.required)}g.length&&(b.required=g)}if(b.dependencies)for(var h in b.dependencies)"string"==typeof b.dependencies[h]&&(b.dependencies[h]=[b.dependencies[h]]);"boolean"==typeof b.required&&delete b.required,"undefined"!=typeof b.divisibleBy&&(b.multipleOf=b.divisibleBy,delete b.divisibleBy);for(var h in b)if("properties"===h||"patternProperties"===h||"dependencies"===h)for(var j in b[h])b[h][j]=c(b[h][j]);else if("enum"!==h)if(Array.isArray(b[h]))for(var k=0;k<b[h].length;k++)b[h][k]=c(b[h][k]);else"object"===d(b[h])&&(b[h]=c(b[h]));return b}var e={v4:c};return"undefined"!=typeof b&&(b.exports=e),e})()},{}],22:[function(a,b,c){"use strict";function d(a,b){k("Bundling $ref pointers in %s",a.$refs._root$Ref.path);var c=[];e(a,"schema",a.$refs._root$Ref.path+"#","#",c,a.$refs,b),g(c)}function e(a,b,c,d,g,k,l){var m=null===b?a:a[b];if(m&&"object"===("undefined"==typeof m?"undefined":h(m)))if(i.isAllowed$Ref(m))f(a,b,c,d,g,k,l);else{var n=Object.keys(m),o=n.indexOf("definitions");o>0&&n.splice(0,0,n.splice(o,1)[0]),n.forEach(function(a){var b=j.join(c,a),h=j.join(d,a),n=m[a];i.isAllowed$Ref(n)?f(m,a,c,h,g,k,l):e(m,a,b,h,g,k,l)})}}function f(a,b,c,d,f,g,h){if(!f.some(function(c){return c.parent===a&&c.key===b})){var k=null===b?a:a[b],m=l.resolve(c,k.$ref),n=g._resolve(m,h),o=j.parse(d).length,p=l.stripHash(n.path),q=l.getHash(n.path),r=p!==g._root$Ref.path,s=i.isExtended$Ref(k);f.push({$ref:k,parent:a,key:b,pathFromRoot:d,depth:o,file:p,hash:q,value:n.value,circular:n.circular,extended:s,external:r}),e(n.value,null,n.path,d,f,g,h)}}function g(a){a.sort(function(a,b){return a.file!==b.file?a.file<b.file?-1:1:a.hash!==b.hash?a.hash<b.hash?-1:1:a.circular!==b.circular?a.circular?-1:1:a.extended!==b.extended?a.extended?1:-1:a.depth!==b.depth?a.depth-b.depth:b.pathFromRoot.lastIndexOf("/definitions")-a.pathFromRoot.lastIndexOf("/definitions")});var b,c,d;a.forEach(function(a){k('Re-mapping $ref pointer "%s" at %s',a.$ref.$ref,a.pathFromRoot),a.external?a.file===b&&a.hash===c?a.$ref.$ref=d:a.file===b&&0===a.hash.indexOf(c+"/")?a.$ref.$ref=j.join(d,j.parse(a.hash)):(b=a.file,c=a.hash,d=a.pathFromRoot,a.$ref=a.parent[a.key]=i.dereference(a.$ref,a.value),a.circular&&(a.$ref.$ref=a.pathFromRoot)):a.$ref.$ref=a.hash,k("    new value: %s",a.$ref&&a.$ref.$ref?a.$ref.$ref:"[object Object]")})}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./ref"),j=a("./pointer"),k=a("./util/debug"),l=a("./util/url");b.exports=d},{"./pointer":31,"./ref":32,"./util/debug":37,"./util/url":40}],23:[function(a,b,c){"use strict";function d(a,b){l("Dereferencing $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path,"#",[],a.$refs,b);a.$refs.circular=c.circular,a.schema=c.value}function e(a,b,c,d,k,l){var m,n={value:a,circular:!1};return a&&"object"===("undefined"==typeof a?"undefined":h(a))&&(d.push(a),i.isAllowed$Ref(a,l)?(m=f(a,b,c,d,k,l),n.circular=m.circular,n.value=m.value):Object.keys(a).forEach(function(h){var o=j.join(b,h),p=j.join(c,h),q=a[h],r=!1;i.isAllowed$Ref(q,l)?(m=f(q,o,p,d,k,l),r=m.circular,a[h]=m.value):-1===d.indexOf(q)?(m=e(q,o,p,d,k,l),r=m.circular,a[h]=m.value):r=g(o,k,l),n.circular=n.circular||r}),d.pop()),n}function f(a,b,c,d,f,h){l('Dereferencing $ref pointer "%s" at %s',a.$ref,b);var j=m.resolve(b,a.$ref),k=f._resolve(j,h),n=k.circular,o=n||-1!==d.indexOf(k.value);o&&g(b,f,h);var p=i.dereference(a,k.value);if(!o){var q=e(p,k.path,c,d,f,h);o=q.circular,p=q.value}return o&&!n&&"ignore"===h.dereference.circular&&(p=a),n&&(p.$ref=c),{circular:o,value:p}}function g(a,b,c){if(b.circular=!0,!c.dereference.circular)throw k.reference("Circular $ref pointer found at %s",a);return!0}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./ref"),j=a("./pointer"),k=a("ono"),l=a("./util/debug"),m=a("./util/url");b.exports=d},{"./pointer":31,"./ref":32,"./util/debug":37,"./util/url":40,ono:76}],24:[function(a,b,c){(function(c){"use strict";function d(){this.schema=null,this.$refs=new i}function e(a){var b,c,d,e;return a=Array.prototype.slice.call(a),"function"==typeof a[a.length-1]&&(e=a.pop()),"string"==typeof a[0]?(b=a[0],"object"===f(a[2])?(c=a[1],d=a[2]):(c=void 0,d=a[1])):(b="",c=a[0],d=a[1]),d instanceof h||(d=new h(d)),{path:b,schema:c,options:d,callback:e}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a("./util/promise"),h=a("./options"),i=a("./refs"),j=a("./parse"),k=a("./resolve-external"),l=a("./bundle"),m=a("./dereference"),n=a("./util/url"),o=a("call-me-maybe"),p=a("ono");b.exports=d,b.exports.YAML=a("./util/yaml"),d.parse=function(a,b,c){var d=this,e=new d;return e.parse.apply(e,arguments)},d.prototype.parse=function(a,b,d){var h,k=e(arguments);if(!k.path&&!k.schema){var l=p("Expected a file path, URL, or object. Got %s",k.path||k.schema);return o(k.callback,g.reject(l))}this.schema=null,this.$refs=new i,n.isFileSystemPath(k.path)&&(k.path=n.fromFileSystemPath(k.path)),k.path=n.resolve(n.cwd(),k.path),k.schema&&"object"===f(k.schema)?(this.$refs._add(k.path,k.schema),h=g.resolve(k.schema)):h=j(k.path,this.$refs,k.options);var m=this;return h.then(function(a){if(!a||"object"!==("undefined"==typeof a?"undefined":f(a))||c.isBuffer(a))throw p.syntax('"%s" is not a valid JSON Schema',m.$refs._root$Ref.path||a);return m.schema=a,o(k.callback,g.resolve(m.schema))})["catch"](function(a){return o(k.callback,g.reject(a))})},d.resolve=function(a,b,c){var d=this,e=new d;return e.resolve.apply(e,arguments)},d.prototype.resolve=function(a,b,c){var d=this,f=e(arguments);return this.parse(f.path,f.schema,f.options).then(function(){return k(d,f.options)}).then(function(){return o(f.callback,g.resolve(d.$refs))})["catch"](function(a){return o(f.callback,g.reject(a))})},d.bundle=function(a,b,c){var d=this,e=new d;return e.bundle.apply(e,arguments)},d.prototype.bundle=function(a,b,c){var d=this,f=e(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return l(d,f.options),o(f.callback,g.resolve(d.schema))})["catch"](function(a){return o(f.callback,g.reject(a))})},d.dereference=function(a,b,c){var d=this,e=new d;return e.dereference.apply(e,arguments)},d.prototype.dereference=function(a,b,c){var d=this,f=e(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return m(d,f.options),o(f.callback,g.resolve(d.schema))})["catch"](function(a){return o(f.callback,g.reject(a))})}}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20,"./bundle":22,"./dereference":23,"./options":25,"./parse":26,"./refs":33,"./resolve-external":34,"./util/promise":39,"./util/url":40,"./util/yaml":41,"call-me-maybe":8,ono:76}],25:[function(a,b,c){"use strict";function d(a){e(this,d.defaults),e(this,a)}function e(a,b){if(f(b))for(var c=Object.keys(b),d=0;d<c.length;d++){var g=c[d],h=b[g],i=a[g];f(h)?a[g]=e(i||{},h):void 0!==h&&(a[g]=h)}return a}function f(a){return a&&"object"===("undefined"==typeof a?"undefined":g(a))&&!Array.isArray(a)&&!(a instanceof RegExp)&&!(a instanceof Date)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./parsers/json"),i=a("./parsers/yaml"),j=a("./parsers/text"),k=a("./parsers/binary"),l=a("./resolvers/file"),m=a("./resolvers/http"),n=a("./validators/z-schema");b.exports=d,d.defaults={parse:{json:h,yaml:i,text:j,binary:k},resolve:{file:l,http:m,external:!0},dereference:{circular:!0},validate:{zschema:n}}},{"./parsers/binary":27,"./parsers/json":28,"./parsers/text":29,"./parsers/yaml":30,"./resolvers/file":35,"./resolvers/http":36,"./validators/z-schema":42}],26:[function(a,b,c){(function(c){"use strict";function d(a,b,c){try{a=k.stripHash(a);var d=b._add(a),g={url:a,extension:k.getExtension(a)};return e(g,c).then(function(a){return d.pathType=a.plugin.name,g.data=a.result,f(g,c)}).then(function(a){return d.value=a.result,a.result})}catch(h){return m.reject(h)}}function e(a,b){return new m(function(c,d){function e(b){d(!b||b instanceof SyntaxError?i.syntax('Unable to resolve $ref pointer "%s"',a.url):b)}j("Reading %s",a.url);var f=l.all(b.resolve);f=l.filter(f,"canRead",a),l.sort(f),l.run(f,"read",a).then(c,e)})}function f(a,b){return new m(function(c,d){function e(b){!b.plugin.allowEmpty&&g(b.result)?d(i.syntax('Error parsing "%s" as %s. \nParsed value is empty',a.url,b.plugin.name)):c(b)}function f(b){b?(b=b instanceof Error?b:new Error(b),d(i.syntax(b,"Error parsing %s",a.url))):d(i.syntax("Unable to parse %s",a.url))}j("Parsing %s",a.url);var h=l.all(b.parse),k=l.filter(h,"canParse",a),m=k.length>0?k:h;l.sort(m),l.run(m,"parse",a).then(e,f)})}function g(a){return void 0===a||"object"===("undefined"==typeof a?"undefined":h(a))&&0===Object.keys(a).length||"string"==typeof a&&0===a.trim().length||c.isBuffer(a)&&0===a.length}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("ono"),j=a("./util/debug"),k=a("./util/url"),l=a("./util/plugins"),m=a("./util/promise");b.exports=d}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20,"./util/debug":37,"./util/plugins":38,"./util/promise":39,"./util/url":40,ono:76}],27:[function(a,b,c){(function(a){"use strict";var c=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;b.exports={order:400,allowEmpty:!0,canParse:function(b){return a.isBuffer(b.data)&&c.test(b.url)},parse:function(b){return a.isBuffer(b.data)?b.data:new a(b.data)}}}).call(this,a("buffer").Buffer)},{buffer:5}],28:[function(a,b,c){(function(c){"use strict";var d=a("../util/promise");b.exports={order:100,allowEmpty:!0,canParse:".json",parse:function(a){return new d(function(b,d){var e=a.data;c.isBuffer(e)&&(e=e.toString()),b("string"==typeof e?0===e.trim().length?void 0:JSON.parse(e):e)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20,"../util/promise":39}],29:[function(a,b,c){(function(a){"use strict";var c=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;b.exports={order:300,allowEmpty:!0,encoding:"utf8",canParse:function(b){return("string"==typeof b.data||a.isBuffer(b.data))&&c.test(b.url)},parse:function(b){if("string"==typeof b.data)return b.data;if(a.isBuffer(b.data))return b.data.toString(this.encoding);throw new Error("data is not text")}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20}],30:[function(a,b,c){(function(c){"use strict";var d=a("../util/promise"),e=a("../util/yaml");b.exports={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],parse:function(a){return new d(function(b,d){var f=a.data;c.isBuffer(f)&&(f=f.toString()),b("string"==typeof f?e.parse(f):f)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20,"../util/promise":39,"../util/yaml":41}],31:[function(a,b,c){"use strict";function d(a,b){this.$ref=a,this.path=b,this.value=void 0,this.circular=!1}function e(a,b){if(h.isAllowed$Ref(a.value,b)){var c=i.resolve(a.path,a.value.$ref);if(c!==a.path){var d=a.$ref.$refs._resolve(c,b);return h.isExtended$Ref(a.value)?a.value=h.dereference(a.value,d.value):(a.$ref=d.$ref,a.path=d.path,a.value=d.value),!0}a.circular=!0}}function f(a,b,c){if(!a.value||"object"!==g(a.value))throw j.syntax('Error assigning $ref pointer "%s". \nCannot set "%s" of a non-object.',a.path,b);return"-"===b&&Array.isArray(a.value)?a.value.push(c):a.value[b]=c,c}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var h=a("./ref"),i=a("./util/url"),j=a("ono"),k=/\//g,l=/~/g,m=/~1/g,n=/~0/g;d.prototype.resolve=function(a,b){var c=d.parse(this.path);this.value=a;for(var f=0;f<c.length;f++){e(this,b)&&(this.path=d.join(this.path,c.slice(f)));var g=c[f];if(void 0===this.value[g])throw j.syntax('Error resolving $ref pointer "%s". \nToken "%s" does not exist.',this.path,g);this.value=this.value[g]}return e(this,b),this},d.prototype.set=function(a,b,c){var g,h=d.parse(this.path);if(0===h.length)return this.value=b,b;this.value=a;for(var i=0;i<h.length-1;i++)e(this,c),g=h[i],this.value&&void 0!==this.value[g]?this.value=this.value[g]:this.value=f(this,g,{});return e(this,c),g=h[h.length-1],f(this,g,b),a},d.parse=function(a){var b=i.getHash(a).substr(1);if(!b)return[];b=b.split("/");for(var c=0;c<b.length;c++)b[c]=decodeURI(b[c].replace(m,"/").replace(n,"~"));if(""!==b[0])throw j.syntax('Invalid $ref pointer "%s". Pointers must begin with "#/"',b);return b.slice(1)},d.join=function(a,b){-1===a.indexOf("#")&&(a+="#"),b=Array.isArray(b)?b:[b];for(var c=0;c<b.length;c++){var d=b[c];a+="/"+encodeURI(d.replace(l,"~0").replace(k,"~1"))}return a}},{"./ref":32,"./util/url":40,ono:76}],32:[function(a,b,c){"use strict";function d(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var f=a("./pointer");d.prototype.exists=function(a,b){try{return this.resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this.resolve(a,b).value},d.prototype.resolve=function(a,b){var c=new f(this,a);return c.resolve(this.value,b)},d.prototype.set=function(a,b){var c=new f(this,a);this.value=c.set(this.value,b)},d.is$Ref=function(a){return a&&"object"===("undefined"==typeof a?"undefined":e(a))&&"string"==typeof a.$ref&&a.$ref.length>0},d.isExternal$Ref=function(a){return d.is$Ref(a)&&"#"!==a.$ref[0]},d.isAllowed$Ref=function(a,b){if(d.is$Ref(a)){if("#/"===a.$ref.substr(0,2)||"#"===a.$ref)return!0;if("#"!==a.$ref[0]&&(!b||b.resolve.external))return!0}},d.isExtended$Ref=function(a){return d.is$Ref(a)&&Object.keys(a).length>1},d.dereference=function(a,b){if(b&&"object"===("undefined"==typeof b?"undefined":e(b))&&d.isExtended$Ref(a)){var c={};return Object.keys(a).forEach(function(b){"$ref"!==b&&(c[b]=a[b])}),Object.keys(b).forEach(function(a){a in c||(c[a]=b[a])}),c}return b}},{"./pointer":31}],33:[function(a,b,c){"use strict";function d(){this.circular=!1,this._$refs={},this._root$Ref=null}function e(a,b){var c=Object.keys(a);return b=Array.isArray(b[0])?b[0]:Array.prototype.slice.call(b),b.length>0&&b[0]&&(c=c.filter(function(c){return-1!==b.indexOf(a[c].pathType)})),c.map(function(b){return{encoded:b,decoded:"file"===a[b].pathType?h.toFileSystemPath(b,!0):b}})}var f=a("ono"),g=a("./ref"),h=a("./util/url");b.exports=d,d.prototype.paths=function(a){var b=e(this._$refs,arguments);return b.map(function(a){return a.decoded})},d.prototype.values=function(a){var b=this._$refs,c=e(b,arguments);return c.reduce(function(a,c){return a[c.decoded]=b[c.encoded].value,a},{})},d.prototype.toJSON=d.prototype.values,d.prototype.exists=function(a,b){try{return this._resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this._resolve(a,b).value},d.prototype.set=function(a,b){a=h.resolve(this._root$Ref.path,a);var c=h.stripHash(a),d=this._$refs[c];if(!d)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,c);d.set(a,b)},d.prototype._add=function(a,b){var c=h.stripHash(a),d=new g;return d.path=c,d.value=b,d.$refs=this,this._$refs[c]=d,this._root$Ref=this._root$Ref||d,d},d.prototype._resolve=function(a,b){a=h.resolve(this._root$Ref.path,a);var c=h.stripHash(a),d=this._$refs[c];if(!d)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,c);return d.resolve(a,b)},d.prototype._get$Ref=function(a){a=h.resolve(this._root$Ref.path,a);var b=h.stripHash(a);return this._$refs[b]}},{"./ref":32,"./util/url":40,ono:76}],34:[function(a,b,c){"use strict";function d(a,b){if(!b.resolve.external)return h.resolve();try{l("Resolving $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path+"#",a.$refs,b);return h.all(c)}catch(d){return h.reject(d)}}function e(a,b,c,d){var h=[];return a&&"object"===("undefined"==typeof a?"undefined":g(a))&&(i.isExternal$Ref(a)?h.push(f(a,b,c,d)):Object.keys(a).forEach(function(g){var k=j.join(b,g),l=a[g];
i.isExternal$Ref(l)?h.push(f(l,k,c,d)):h=h.concat(e(l,k,c,d))})),h}function f(a,b,c,d){l('Resolving $ref pointer "%s" at %s',a.$ref,b);var f=m.resolve(b,a.$ref),g=m.stripHash(f);return a=c._$refs[g],a?h.resolve(a.value):k(f,c,d).then(function(a){l("Resolving $ref pointers in %s",g);var b=e(a,g+"#",c,d);return h.all(b)})}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./util/promise"),i=a("./ref"),j=a("./pointer"),k=a("./parse"),l=a("./util/debug"),m=a("./util/url");b.exports=d},{"./parse":26,"./pointer":31,"./ref":32,"./util/debug":37,"./util/promise":39,"./util/url":40}],35:[function(a,b,c){"use strict";var d=a("fs"),e=a("ono"),f=a("../util/promise"),g=a("../util/url"),h=a("../util/debug");b.exports={order:100,canRead:function(a){return g.isFileSystemPath(a.url)},read:function(a){return new f(function(b,c){var f;try{f=g.toFileSystemPath(a.url)}catch(i){c(e.uri(i,"Malformed URI: %s",a.url))}h("Opening file: %s",f);try{d.readFile(f,function(a,d){a?c(e(a,'Error opening file "%s"',f)):b(d)})}catch(i){c(e(i,'Error opening file "%s"',f))}})}}},{"../util/debug":37,"../util/promise":39,"../util/url":40,fs:3,ono:76}],36:[function(a,b,c){(function(c,d){"use strict";function e(a,b,c){return new l(function(g,h){a=j.parse(a),c=c||[],c.push(a.href),f(a,b).then(function(f){if(f.statusCode>=400)throw i({status:f.statusCode},"HTTP ERROR %d",f.statusCode);if(f.statusCode>=300)if(c.length>b.redirects)h(i({status:f.statusCode},"Error downloading %s. \nToo many redirects: \n  %s",c[0],c.join(" \n  ")));else{if(!f.headers.location)throw i({status:f.statusCode},"HTTP %d redirect with no location header",f.statusCode);k("HTTP %d redirect %s -> %s",f.statusCode,a.href,f.headers.location);var l=j.resolve(a,f.headers.location);e(l,b,c).then(g,h)}else g(f.body||new d(0))})["catch"](function(b){h(i(b,"Error downloading",a.href))})})}function f(a,b){return new l(function(c,e){k("GET",a.href);var f="https:"===a.protocol?h:g,i=f.get({hostname:a.hostname,port:a.port,path:a.path,auth:a.auth,headers:b.headers||{},withCredentials:b.withCredentials});"function"==typeof i.setTimeout&&i.setTimeout(b.timeout),i.on("timeout",function(){i.abort()}),i.on("error",e),i.once("response",function(a){a.body=new d(0),a.on("data",function(b){a.body=d.concat([a.body,new d(b)])}),a.on("error",e),a.on("end",function(){c(a)})})})}var g=a("http"),h=a("https"),i=a("ono"),j=a("../util/url"),k=a("../util/debug"),l=a("../util/promise");b.exports={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead:function(a){return j.isHttp(a.url)},read:function(a){var b=j.parse(a.url);return c.browser&&!b.protocol&&(b.protocol=j.parse(location.href).protocol),e(b,this)}}}).call(this,a("_process"),a("buffer").Buffer)},{"../util/debug":37,"../util/promise":39,"../util/url":40,_process:145,buffer:5,http:168,https:16,ono:76}],37:[function(a,b,c){"use strict";var d=a("debug");b.exports=d("json-schema-ref-parser")},{debug:43}],38:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a[b];if("function"==typeof e)return e.apply(a,[c,d]);if(!d){if(e instanceof RegExp)return e.test(c.url);if("string"==typeof e)return e===c.extension;if(Array.isArray(e))return-1!==e.indexOf(c.extension)}return e}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./promise"),g=a("./debug");c.all=function(a){return Object.keys(a).filter(function(b){return"object"===e(a[b])}).map(function(b){return a[b].name=b,a[b]})},c.filter=function(a,b,c){return a.filter(function(a){return!!d(a,b,c)})},c.sort=function(a){return a.forEach(function(a){a.order=a.order||Number.MAX_SAFE_INTEGER}),a.sort(function(a,b){return a.order-b.order})},c.run=function(a,b,c){var e,h,i=0;return new f(function(f,j){function k(){if(e=a[i++],!e)return j(h);try{g("  %s",e.name);var f=d(e,b,c,l);f&&"function"==typeof f.then?f.then(m,n):void 0!==f&&m(f)}catch(k){n(k)}}function l(a,b){a?n(a):m(b)}function m(a){g("    success"),f({plugin:e,result:a})}function n(a){g("    %s",a.message||a),h=a,k()}k()})}},{"./debug":37,"./promise":39}],39:[function(a,b,c){"use strict";b.exports="function"==typeof Promise?Promise:a("es6-promise").Promise},{"es6-promise":12}],40:[function(a,b,c){(function(d){"use strict";var e=/^win/.test(d.platform),f=/\//g,g=/^([a-z0-9.+-]+):\/\//i,h=b.exports,i=[/\?/g,"%3F",/\#/g,"%23",e?/\\/g:/\//,"/"],j=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];c.parse=a("url").parse,c.resolve=a("url").resolve,c.cwd=function(){return d.browser?location.href:d.cwd()+"/"},c.getProtocol=function(a){var b=g.exec(a);return b?b[1].toLowerCase():void 0},c.getExtension=function(a){var b=a.lastIndexOf(".");return b>=0?a.substr(b).toLowerCase():""},c.getHash=function(a){var b=a.indexOf("#");return b>=0?a.substr(b):"#"},c.stripHash=function(a){var b=a.indexOf("#");return b>=0&&(a=a.substr(0,b)),a},c.isHttp=function(a){var b=h.getProtocol(a);return"http"===b||"https"===b?!0:void 0===b?d.browser:!1},c.isFileSystemPath=function(a){if(d.browser)return!1;var b=h.getProtocol(a);return void 0===b||"file"===b},c.fromFileSystemPath=function(a){for(var b=0;b<i.length;b+=2)a=a.replace(i[b],i[b+1]);return encodeURI(a)},c.toFileSystemPath=function(a,b){a=decodeURI(a);for(var c=0;c<j.length;c+=2)a=a.replace(j[c],j[c+1]);var d="file://"===a.substr(0,7).toLowerCase();return d&&(a="/"===a[7]?a.substr(8):a.substr(7),e&&"/"===a[1]&&(a=a[0]+":"+a.substr(1)),b?a="file:///"+a:(d=!1,a=e?a:"/"+a)),e&&!d&&(a=a.replace(f,"\\")),a}}).call(this,a("_process"))},{_process:145,url:183}],41:[function(a,b,c){"use strict";var d=a("js-yaml"),e=a("ono");b.exports={parse:function(a,b){try{return d.safeLoad(a)}catch(c){throw c instanceof Error?c:e(c,c.message)}},stringify:function(a,b,c){try{var f=("string"==typeof c?c.length:c)||2;return d.safeDump(a,{indent:f})}catch(g){throw g instanceof Error?g:e(g,g.message)}}}},{"js-yaml":45,ono:76}],42:[function(a,b,c){"use strict";b.exports={order:100,canValidate:function(a){return!!a.resolved},validate:function(a){}}},{}],43:[function(a,b,c){(function(d){function e(){return"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?!0:"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(a){var b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),b){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function g(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function h(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function i(){var a;try{a=c.storage.debug}catch(b){}return!a&&"undefined"!=typeof d&&"env"in d&&(a=d.env.DEBUG),a}function j(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=g,c.formatArgs=f,c.save=h,c.load=i,c.useColors=e,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:j(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.formatters.j=function(a){try{return JSON.stringify(a)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}},c.enable(i())}).call(this,a("_process"))},{"./debug":44,_process:145}],44:[function(a,b,c){function d(a){var b,d=0;for(b in a)d=(d<<5)-d+a.charCodeAt(b),d|=0;return c.colors[Math.abs(d)%c.colors.length]}function e(a){function b(){if(b.enabled){var a=b,d=+new Date,f=d-(e||d);a.diff=f,a.prev=e,a.curr=d,e=d;for(var g=new Array(arguments.length),h=0;h<g.length;h++)g[h]=arguments[h];g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&g.unshift("%O");var i=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(b,d){if("%%"===b)return b;i++;var e=c.formatters[d];if("function"==typeof e){var f=g[i];b=e.call(a,f),g.splice(i,1),i--}return b}),c.formatArgs.call(a,g);var j=b.log||c.log||console.log.bind(console);j.apply(a,g)}}var e;return b.namespace=a,b.enabled=c.enabled(a),b.useColors=c.useColors(),b.color=d(a),b.destroy=f,"function"==typeof c.init&&c.init(b),c.instances.push(b),b}function f(){var a=c.instances.indexOf(this);return-1!==a?(c.instances.splice(a,1),!0):!1}function g(a){c.save(a),c.names=[],c.skips=[];var b,d=("string"==typeof a?a:"").split(/[\s,]+/),e=d.length;for(b=0;e>b;b++)d[b]&&(a=d[b].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")));for(b=0;b<c.instances.length;b++){var f=c.instances[b];f.enabled=c.enabled(f.namespace)}}function h(){c.enable("")}function i(a){if("*"===a[a.length-1])return!0;var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e.debug=e["default"]=e,c.coerce=j,c.disable=h,c.enable=g,c.enabled=i,c.humanize=a("ms"),c.instances=[],c.names=[],c.skips=[],c.formatters={}},{ms:75}],45:[function(a,b,c){"use strict";var d=a("./lib/js-yaml.js");b.exports=d},{"./lib/js-yaml.js":46}],46:[function(a,b,c){"use strict";function d(a){return function(){throw new Error("Function "+a+" is deprecated and cannot be used.")}}var e=a("./js-yaml/loader"),f=a("./js-yaml/dumper");b.exports.Type=a("./js-yaml/type"),b.exports.Schema=a("./js-yaml/schema"),b.exports.FAILSAFE_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.JSON_SCHEMA=a("./js-yaml/schema/json"),b.exports.CORE_SCHEMA=a("./js-yaml/schema/core"),b.exports.DEFAULT_SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_FULL_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.load=e.load,b.exports.loadAll=e.loadAll,b.exports.safeLoad=e.safeLoad,b.exports.safeLoadAll=e.safeLoadAll,b.exports.dump=f.dump,b.exports.safeDump=f.safeDump,b.exports.YAMLException=a("./js-yaml/exception"),b.exports.MINIMAL_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.scan=d("scan"),b.exports.parse=d("parse"),b.exports.compose=d("compose"),b.exports.addConstructor=d("addConstructor")},{"./js-yaml/dumper":48,"./js-yaml/exception":49,"./js-yaml/loader":50,"./js-yaml/schema":52,"./js-yaml/schema/core":53,"./js-yaml/schema/default_full":54,"./js-yaml/schema/default_safe":55,"./js-yaml/schema/failsafe":56,"./js-yaml/schema/json":57,"./js-yaml/type":58}],47:[function(a,b,c){"use strict";function d(a){return"undefined"==typeof a||null===a}function e(a){return"object"==typeof a&&null!==a}function f(a){return Array.isArray(a)?a:d(a)?[]:[a]}function g(a,b){var c,d,e,f;if(b)for(f=Object.keys(b),c=0,d=f.length;d>c;c+=1)e=f[c],a[e]=b[e];return a}function h(a,b){var c,d="";for(c=0;b>c;c+=1)d+=a;return d}function i(a){return 0===a&&Number.NEGATIVE_INFINITY===1/a}b.exports.isNothing=d,b.exports.isObject=e,b.exports.toArray=f,b.exports.repeat=h,b.exports.isNegativeZero=i,b.exports.extend=g},{}],48:[function(a,b,c){"use strict";function d(a,b){var c,d,e,f,g,h,i;if(null===b)return{};for(c={},d=Object.keys(b),e=0,f=d.length;f>e;e+=1)g=d[e],h=String(b[g]),"!!"===g.slice(0,2)&&(g="tag:yaml.org,2002:"+g.slice(2)),i=a.compiledTypeMap.fallback[g],i&&J.call(i.styleAliases,h)&&(h=i.styleAliases[h]),c[g]=h;return c}function e(a){var b,c,d;if(b=a.toString(16).toUpperCase(),255>=a)c="x",d=2;else if(65535>=a)c="u",d=4;else{if(!(4294967295>=a))throw new F("code point within a string may not be greater than 0xFFFFFFFF");c="U",d=8}return"\\"+c+E.repeat("0",d-b.length)+b}function f(a){this.schema=a.schema||G,this.indent=Math.max(1,a.indent||2),this.skipInvalid=a.skipInvalid||!1,this.flowLevel=E.isNothing(a.flowLevel)?-1:a.flowLevel,this.styleMap=d(this.schema,a.styles||null),this.sortKeys=a.sortKeys||!1,this.lineWidth=a.lineWidth||80,this.noRefs=a.noRefs||!1,this.noCompatMode=a.noCompatMode||!1,this.condenseFlow=a.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function g(a,b){for(var c,d=E.repeat(" ",b),e=0,f=-1,g="",h=a.length;h>e;)f=a.indexOf("\n",e),-1===f?(c=a.slice(e),e=h):(c=a.slice(e,f+1),e=f+1),c.length&&"\n"!==c&&(g+=d),g+=c;return g}function h(a,b){return"\n"+E.repeat(" ",a.indent*b)}function i(a,b){var c,d,e;for(c=0,d=a.implicitTypes.length;d>c;c+=1)if(e=a.implicitTypes[c],e.resolve(b))return!0;return!1}function j(a){return a===M||a===K}function k(a){return a>=32&&126>=a||a>=161&&55295>=a&&8232!==a&&8233!==a||a>=57344&&65533>=a&&65279!==a||a>=65536&&1114111>=a}function l(a){return k(a)&&65279!==a&&a!==U&&a!==$&&a!==_&&a!==ba&&a!==da&&a!==W&&a!==P}function m(a){return k(a)&&65279!==a&&!j(a)&&a!==V&&a!==Y&&a!==W&&a!==U&&a!==$&&a!==_&&a!==ba&&a!==da&&a!==P&&a!==R&&a!==T&&a!==N&&a!==ca&&a!==X&&a!==S&&a!==O&&a!==Q&&a!==Z&&a!==aa}function n(a,b,c,d,e){var f,g,h=!1,i=!1,n=-1!==d,o=-1,p=m(a.charCodeAt(0))&&!j(a.charCodeAt(a.length-1));if(b)for(f=0;f<a.length;f++){if(g=a.charCodeAt(f),!k(g))return ka;p=p&&l(g)}else{for(f=0;f<a.length;f++){if(g=a.charCodeAt(f),g===L)h=!0,n&&(i=i||f-o-1>d&&" "!==a[o+1],o=f);else if(!k(g))return ka;p=p&&l(g)}i=i||n&&f-o-1>d&&" "!==a[o+1]}return h||i?" "===a[0]&&c>9?ka:i?ja:ia:p&&!e(a)?ga:ha}function o(a,b,c,d){a.dump=function(){function e(b){return i(a,b)}if(0===b.length)return"''";if(!a.noCompatMode&&-1!==fa.indexOf(b))return"'"+b+"'";var f=a.indent*Math.max(1,c),h=-1===a.lineWidth?-1:Math.max(Math.min(a.lineWidth,40),a.lineWidth-f),j=d||a.flowLevel>-1&&c>=a.flowLevel;switch(n(b,j,a.indent,h,e)){case ga:return b;case ha:return"'"+b.replace(/'/g,"''")+"'";case ia:return"|"+p(b,a.indent)+q(g(b,f));case ja:return">"+p(b,a.indent)+q(g(r(b,h),f));case ka:return'"'+t(b,h)+'"';default:throw new F("impossible error: invalid scalar style")}}()}function p(a,b){var c=" "===a[0]?String(b):"",d="\n"===a[a.length-1],e=d&&("\n"===a[a.length-2]||"\n"===a),f=e?"+":d?"":"-";return c+f+"\n"}function q(a){return"\n"===a[a.length-1]?a.slice(0,-1):a}function r(a,b){for(var c,d,e=/(\n+)([^\n]*)/g,f=function(){var c=a.indexOf("\n");return c=-1!==c?c:a.length,e.lastIndex=c,s(a.slice(0,c),b)}(),g="\n"===a[0]||" "===a[0];d=e.exec(a);){var h=d[1],i=d[2];c=" "===i[0],f+=h+(g||c||""===i?"":"\n")+s(i,b),g=c}return f}function s(a,b){if(""===a||" "===a[0])return a;for(var c,d,e=/ [^ ]/g,f=0,g=0,h=0,i="";c=e.exec(a);)h=c.index,h-f>b&&(d=g>f?g:h,i+="\n"+a.slice(f,d),f=d+1),g=h;return i+="\n",i+=a.length-f>b&&g>f?a.slice(f,g)+"\n"+a.slice(g+1):a.slice(f),i.slice(1)}function t(a){for(var b,c,d,f="",g=0;g<a.length;g++)b=a.charCodeAt(g),b>=55296&&56319>=b&&(c=a.charCodeAt(g+1),c>=56320&&57343>=c)?(f+=e(1024*(b-55296)+c-56320+65536),g++):(d=ea[b],f+=!d&&k(b)?a[g]:d||e(b));return f}function u(a,b,c){var d,e,f="",g=a.tag;for(d=0,e=c.length;e>d;d+=1)z(a,b,c[d],!1,!1)&&(0!==d&&(f+=","+(a.condenseFlow?"":" ")),f+=a.dump);a.tag=g,a.dump="["+f+"]"}function v(a,b,c,d){var e,f,g="",i=a.tag;for(e=0,f=c.length;f>e;e+=1)z(a,b+1,c[e],!0,!0)&&(d&&0===e||(g+=h(a,b)),g+=a.dump&&L===a.dump.charCodeAt(0)?"-":"- ",g+=a.dump);a.tag=i,a.dump=g||"[]"}function w(a,b,c){var d,e,f,g,h,i="",j=a.tag,k=Object.keys(c);for(d=0,e=k.length;e>d;d+=1)h=a.condenseFlow?'"':"",0!==d&&(h+=", "),f=k[d],g=c[f],z(a,b,f,!1,!1)&&(a.dump.length>1024&&(h+="? "),h+=a.dump+(a.condenseFlow?'"':"")+":"+(a.condenseFlow?"":" "),z(a,b,g,!1,!1)&&(h+=a.dump,i+=h));a.tag=j,a.dump="{"+i+"}"}function x(a,b,c,d){var e,f,g,i,j,k,l="",m=a.tag,n=Object.keys(c);if(a.sortKeys===!0)n.sort();else if("function"==typeof a.sortKeys)n.sort(a.sortKeys);else if(a.sortKeys)throw new F("sortKeys must be a boolean or a function");for(e=0,f=n.length;f>e;e+=1)k="",d&&0===e||(k+=h(a,b)),g=n[e],i=c[g],z(a,b+1,g,!0,!0,!0)&&(j=null!==a.tag&&"?"!==a.tag||a.dump&&a.dump.length>1024,j&&(k+=a.dump&&L===a.dump.charCodeAt(0)?"?":"? "),k+=a.dump,j&&(k+=h(a,b)),z(a,b+1,i,!0,j)&&(k+=a.dump&&L===a.dump.charCodeAt(0)?":":": ",k+=a.dump,l+=k));a.tag=m,a.dump=l||"{}"}function y(a,b,c){var d,e,f,g,h,i;for(e=c?a.explicitTypes:a.implicitTypes,f=0,g=e.length;g>f;f+=1)if(h=e[f],(h.instanceOf||h.predicate)&&(!h.instanceOf||"object"==typeof b&&b instanceof h.instanceOf)&&(!h.predicate||h.predicate(b))){if(a.tag=c?h.tag:"?",h.represent){if(i=a.styleMap[h.tag]||h.defaultStyle,"[object Function]"===I.call(h.represent))d=h.represent(b,i);else{if(!J.call(h.represent,i))throw new F("!<"+h.tag+'> tag resolver accepts not "'+i+'" style');d=h.represent[i](b,i)}a.dump=d}return!0}return!1}function z(a,b,c,d,e,f){a.tag=null,a.dump=c,y(a,c,!1)||y(a,c,!0);var g=I.call(a.dump);d&&(d=a.flowLevel<0||a.flowLevel>b);var h,i,j="[object Object]"===g||"[object Array]"===g;if(j&&(h=a.duplicates.indexOf(c),i=-1!==h),(null!==a.tag&&"?"!==a.tag||i||2!==a.indent&&b>0)&&(e=!1),i&&a.usedDuplicates[h])a.dump="*ref_"+h;else{if(j&&i&&!a.usedDuplicates[h]&&(a.usedDuplicates[h]=!0),"[object Object]"===g)d&&0!==Object.keys(a.dump).length?(x(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(w(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else if("[object Array]"===g)d&&0!==a.dump.length?(v(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(u(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else{if("[object String]"!==g){if(a.skipInvalid)return!1;throw new F("unacceptable kind of an object to dump "+g)}"?"!==a.tag&&o(a,a.dump,b,f)}null!==a.tag&&"?"!==a.tag&&(a.dump="!<"+a.tag+"> "+a.dump)}return!0}function A(a,b){var c,d,e=[],f=[];for(B(a,e,f),c=0,d=f.length;d>c;c+=1)b.duplicates.push(e[f[c]]);b.usedDuplicates=new Array(d)}function B(a,b,c){var d,e,f;if(null!==a&&"object"==typeof a)if(e=b.indexOf(a),-1!==e)-1===c.indexOf(e)&&c.push(e);else if(b.push(a),Array.isArray(a))for(e=0,f=a.length;f>e;e+=1)B(a[e],b,c);else for(d=Object.keys(a),e=0,f=d.length;f>e;e+=1)B(a[d[e]],b,c)}function C(a,b){b=b||{};var c=new f(b);return c.noRefs||A(a,c),z(c,0,a,!0,!0)?c.dump+"\n":""}function D(a,b){return C(a,E.extend({schema:H},b))}var E=a("./common"),F=a("./exception"),G=a("./schema/default_full"),H=a("./schema/default_safe"),I=Object.prototype.toString,J=Object.prototype.hasOwnProperty,K=9,L=10,M=32,N=33,O=34,P=35,Q=37,R=38,S=39,T=42,U=44,V=45,W=58,X=62,Y=63,Z=64,$=91,_=93,aa=96,ba=123,ca=124,da=125,ea={};ea[0]="\\0",ea[7]="\\a",ea[8]="\\b",ea[9]="\\t",ea[10]="\\n",ea[11]="\\v",ea[12]="\\f",ea[13]="\\r",ea[27]="\\e",ea[34]='\\"',ea[92]="\\\\",ea[133]="\\N",ea[160]="\\_",ea[8232]="\\L",ea[8233]="\\P";var fa=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ga=1,ha=2,ia=3,ja=4,ka=5;b.exports.dump=C,b.exports.safeDump=D},{"./common":47,"./exception":49,"./schema/default_full":54,"./schema/default_safe":55}],49:[function(a,b,c){"use strict";function d(a,b){Error.call(this),this.name="YAMLException",this.reason=a,this.mark=b,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=function(a){var b=this.name+": ";return b+=this.reason||"(unknown reason)",!a&&this.mark&&(b+=" "+this.mark.toString()),b},b.exports=d},{}],50:[function(a,b,c){"use strict";function d(a){return 10===a||13===a}function e(a){return 9===a||32===a}function f(a){return 9===a||32===a||10===a||13===a}function g(a){return 44===a||91===a||93===a||123===a||125===a}function h(a){var b;return a>=48&&57>=a?a-48:(b=32|a,b>=97&&102>=b?b-97+10:-1)}function i(a){return 120===a?2:117===a?4:85===a?8:0}function j(a){return a>=48&&57>=a?a-48:-1}function k(a){return 48===a?"\x00":97===a?"":98===a?"\b":116===a?"	":9===a?"	":110===a?"\n":118===a?"":102===a?"\f":114===a?"\r":101===a?"":32===a?" ":34===a?'"':47===a?"/":92===a?"\\":78===a?"":95===a?" ":76===a?"\u2028":80===a?"\u2029":""}function l(a){return 65535>=a?String.fromCharCode(a):String.fromCharCode((a-65536>>10)+55296,(a-65536&1023)+56320)}function m(a,b){this.input=a,this.filename=b.filename||null,this.schema=b.schema||S,this.onWarning=b.onWarning||null,this.legacy=b.legacy||!1,this.json=b.json||!1,this.listener=b.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=a.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function n(a,b){return new P(b,new Q(a.filename,a.input,a.position,a.line,a.position-a.lineStart))}function o(a,b){throw n(a,b)}function p(a,b){a.onWarning&&a.onWarning.call(null,n(a,b))}function q(a,b,c,d){var e,f,g,h;if(c>b){if(h=a.input.slice(b,c),d)for(e=0,f=h.length;f>e;e+=1)g=h.charCodeAt(e),9===g||g>=32&&1114111>=g||o(a,"expected valid JSON character");else _.test(h)&&o(a,"the stream contains non-printable characters");a.result+=h}}function r(a,b,c,d){var e,f,g,h;for(O.isObject(c)||o(a,"cannot merge mappings; the provided source object is unacceptable"),e=Object.keys(c),g=0,h=e.length;h>g;g+=1)f=e[g],T.call(b,f)||(b[f]=c[f],d[f]=!0)}function s(a,b,c,d,e,f,g,h){var i,j;if(e=String(e),null===b&&(b={}),"tag:yaml.org,2002:merge"===d)if(Array.isArray(f))for(i=0,j=f.length;j>i;i+=1)r(a,b,f[i],c);else r(a,b,f,c);else a.json||T.call(c,e)||!T.call(b,e)||(a.line=g||a.line,a.position=h||a.position,o(a,"duplicated mapping key")),b[e]=f,delete c[e];return b}function t(a){var b;b=a.input.charCodeAt(a.position),10===b?a.position++:13===b?(a.position++,10===a.input.charCodeAt(a.position)&&a.position++):o(a,"a line break is expected"),a.line+=1,a.lineStart=a.position}function u(a,b,c){for(var f=0,g=a.input.charCodeAt(a.position);0!==g;){for(;e(g);)g=a.input.charCodeAt(++a.position);if(b&&35===g)do g=a.input.charCodeAt(++a.position);while(10!==g&&13!==g&&0!==g);if(!d(g))break;for(t(a),g=a.input.charCodeAt(a.position),f++,a.lineIndent=0;32===g;)a.lineIndent++,g=a.input.charCodeAt(++a.position)}return-1!==c&&0!==f&&a.lineIndent<c&&p(a,"deficient indentation"),f}function v(a){var b,c=a.position;return b=a.input.charCodeAt(c),45!==b&&46!==b||b!==a.input.charCodeAt(c+1)||b!==a.input.charCodeAt(c+2)||(c+=3,b=a.input.charCodeAt(c),0!==b&&!f(b))?!1:!0}function w(a,b){1===b?a.result+=" ":b>1&&(a.result+=O.repeat("\n",b-1))}function x(a,b,c){var h,i,j,k,l,m,n,o,p,r=a.kind,s=a.result;if(p=a.input.charCodeAt(a.position),f(p)||g(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i)))return!1;for(a.kind="scalar",a.result="",j=k=a.position,l=!1;0!==p;){if(58===p){if(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i))break}else if(35===p){if(h=a.input.charCodeAt(a.position-1),f(h))break}else{if(a.position===a.lineStart&&v(a)||c&&g(p))break;if(d(p)){if(m=a.line,n=a.lineStart,o=a.lineIndent,u(a,!1,-1),a.lineIndent>=b){l=!0,p=a.input.charCodeAt(a.position);continue}a.position=k,a.line=m,a.lineStart=n,a.lineIndent=o;break}}l&&(q(a,j,k,!1),w(a,a.line-m),j=k=a.position,l=!1),e(p)||(k=a.position+1),p=a.input.charCodeAt(++a.position)}return q(a,j,k,!1),a.result?!0:(a.kind=r,a.result=s,!1)}function y(a,b){var c,e,f;if(c=a.input.charCodeAt(a.position),39!==c)return!1;for(a.kind="scalar",a.result="",a.position++,e=f=a.position;0!==(c=a.input.charCodeAt(a.position));)if(39===c){if(q(a,e,a.position,!0),c=a.input.charCodeAt(++a.position),39!==c)return!0;e=a.position,a.position++,f=a.position}else d(c)?(q(a,e,f,!0),w(a,u(a,!1,b)),e=f=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a single quoted scalar"):(a.position++,f=a.position);o(a,"unexpected end of the stream within a single quoted scalar")}function z(a,b){var c,e,f,g,j,k;if(k=a.input.charCodeAt(a.position),34!==k)return!1;for(a.kind="scalar",a.result="",a.position++,c=e=a.position;0!==(k=a.input.charCodeAt(a.position));){if(34===k)return q(a,c,a.position,!0),a.position++,!0;if(92===k){if(q(a,c,a.position,!0),k=a.input.charCodeAt(++a.position),d(k))u(a,!1,b);else if(256>k&&ea[k])a.result+=fa[k],a.position++;else if((j=i(k))>0){for(f=j,g=0;f>0;f--)k=a.input.charCodeAt(++a.position),(j=h(k))>=0?g=(g<<4)+j:o(a,"expected hexadecimal character");a.result+=l(g),a.position++}else o(a,"unknown escape sequence");c=e=a.position}else d(k)?(q(a,c,e,!0),w(a,u(a,!1,b)),c=e=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a double quoted scalar"):(a.position++,e=a.position)}o(a,"unexpected end of the stream within a double quoted scalar")}function A(a,b){var c,d,e,g,h,i,j,k,l,m,n,p=!0,q=a.tag,r=a.anchor,t={};if(n=a.input.charCodeAt(a.position),91===n)g=93,j=!1,d=[];else{if(123!==n)return!1;g=125,j=!0,d={}}for(null!==a.anchor&&(a.anchorMap[a.anchor]=d),n=a.input.charCodeAt(++a.position);0!==n;){if(u(a,!0,b),n=a.input.charCodeAt(a.position),n===g)return a.position++,a.tag=q,a.anchor=r,a.kind=j?"mapping":"sequence",a.result=d,!0;p||o(a,"missed comma between flow collection entries"),l=k=m=null,h=i=!1,63===n&&(e=a.input.charCodeAt(a.position+1),f(e)&&(h=i=!0,a.position++,u(a,!0,b))),c=a.line,H(a,b,U,!1,!0),l=a.tag,k=a.result,u(a,!0,b),n=a.input.charCodeAt(a.position),!i&&a.line!==c||58!==n||(h=!0,n=a.input.charCodeAt(++a.position),u(a,!0,b),H(a,b,U,!1,!0),m=a.result),j?s(a,d,t,l,k,m):h?d.push(s(a,null,t,l,k,m)):d.push(k),u(a,!0,b),n=a.input.charCodeAt(a.position),44===n?(p=!0,n=a.input.charCodeAt(++a.position)):p=!1}o(a,"unexpected end of the stream within a flow collection")}function B(a,b){var c,f,g,h,i=Y,k=!1,l=!1,m=b,n=0,p=!1;if(h=a.input.charCodeAt(a.position),124===h)f=!1;else{if(62!==h)return!1;f=!0}for(a.kind="scalar",a.result="";0!==h;)if(h=a.input.charCodeAt(++a.position),43===h||45===h)Y===i?i=43===h?$:Z:o(a,"repeat of a chomping mode identifier");else{if(!((g=j(h))>=0))break;0===g?o(a,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?o(a,"repeat of an indentation width identifier"):(m=b+g-1,l=!0)}if(e(h)){do h=a.input.charCodeAt(++a.position);while(e(h));if(35===h)do h=a.input.charCodeAt(++a.position);while(!d(h)&&0!==h)}for(;0!==h;){for(t(a),a.lineIndent=0,h=a.input.charCodeAt(a.position);(!l||a.lineIndent<m)&&32===h;)a.lineIndent++,h=a.input.charCodeAt(++a.position);if(!l&&a.lineIndent>m&&(m=a.lineIndent),d(h))n++;else{if(a.lineIndent<m){i===$?a.result+=O.repeat("\n",k?1+n:n):i===Y&&k&&(a.result+="\n");break}for(f?e(h)?(p=!0,a.result+=O.repeat("\n",k?1+n:n)):p?(p=!1,a.result+=O.repeat("\n",n+1)):0===n?k&&(a.result+=" "):a.result+=O.repeat("\n",n):a.result+=O.repeat("\n",k?1+n:n),k=!0,l=!0,n=0,c=a.position;!d(h)&&0!==h;)h=a.input.charCodeAt(++a.position);q(a,c,a.position,!1)}}return!0}function C(a,b){var c,d,e,g=a.tag,h=a.anchor,i=[],j=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=i),e=a.input.charCodeAt(a.position);0!==e&&45===e&&(d=a.input.charCodeAt(a.position+1),f(d));)if(j=!0,a.position++,u(a,!0,-1)&&a.lineIndent<=b)i.push(null),e=a.input.charCodeAt(a.position);else if(c=a.line,H(a,b,W,!1,!0),i.push(a.result),u(a,!0,-1),e=a.input.charCodeAt(a.position),(a.line===c||a.lineIndent>b)&&0!==e)o(a,"bad indentation of a sequence entry");else if(a.lineIndent<b)break;return j?(a.tag=g,a.anchor=h,a.kind="sequence",a.result=i,!0):!1}function D(a,b,c){var d,g,h,i,j,k=a.tag,l=a.anchor,m={},n={},p=null,q=null,r=null,t=!1,v=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=m),j=a.input.charCodeAt(a.position);0!==j;){if(d=a.input.charCodeAt(a.position+1),h=a.line,i=a.position,63!==j&&58!==j||!f(d)){if(!H(a,c,V,!1,!0))break;if(a.line===h){for(j=a.input.charCodeAt(a.position);e(j);)j=a.input.charCodeAt(++a.position);if(58===j)j=a.input.charCodeAt(++a.position),f(j)||o(a,"a whitespace character is expected after the key-value separator within a block mapping"),t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!1,g=!1,p=a.tag,q=a.result;else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===j?(t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!0,g=!0):t?(t=!1,g=!0):o(a,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),a.position+=1,j=d;if((a.line===h||a.lineIndent>b)&&(H(a,b,X,!0,g)&&(t?q=a.result:r=a.result),t||(s(a,m,n,p,q,r,h,i),p=q=r=null),u(a,!0,-1),j=a.input.charCodeAt(a.position)),a.lineIndent>b&&0!==j)o(a,"bad indentation of a mapping entry");else if(a.lineIndent<b)break}return t&&s(a,m,n,p,q,null),v&&(a.tag=k,a.anchor=l,a.kind="mapping",a.result=m),v}function E(a){var b,c,d,e,g=!1,h=!1;if(e=a.input.charCodeAt(a.position),33!==e)return!1;if(null!==a.tag&&o(a,"duplication of a tag property"),e=a.input.charCodeAt(++a.position),60===e?(g=!0,e=a.input.charCodeAt(++a.position)):33===e?(h=!0,c="!!",e=a.input.charCodeAt(++a.position)):c="!",b=a.position,g){do e=a.input.charCodeAt(++a.position);while(0!==e&&62!==e);a.position<a.length?(d=a.input.slice(b,a.position),e=a.input.charCodeAt(++a.position)):o(a,"unexpected end of the stream within a verbatim tag")}else{for(;0!==e&&!f(e);)33===e&&(h?o(a,"tag suffix cannot contain exclamation marks"):(c=a.input.slice(b-1,a.position+1),ca.test(c)||o(a,"named tag handle cannot contain such characters"),h=!0,b=a.position+1)),e=a.input.charCodeAt(++a.position);d=a.input.slice(b,a.position),ba.test(d)&&o(a,"tag suffix cannot contain flow indicator characters")}return d&&!da.test(d)&&o(a,"tag name cannot contain such characters: "+d),g?a.tag=d:T.call(a.tagMap,c)?a.tag=a.tagMap[c]+d:"!"===c?a.tag="!"+d:"!!"===c?a.tag="tag:yaml.org,2002:"+d:o(a,'undeclared tag handle "'+c+'"'),!0}function F(a){var b,c;if(c=a.input.charCodeAt(a.position),38!==c)return!1;for(null!==a.anchor&&o(a,"duplication of an anchor property"),c=a.input.charCodeAt(++a.position),b=a.position;0!==c&&!f(c)&&!g(c);)c=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an anchor node must contain at least one character"),a.anchor=a.input.slice(b,a.position),!0}function G(a){var b,c,d;if(d=a.input.charCodeAt(a.position),42!==d)return!1;for(d=a.input.charCodeAt(++a.position),b=a.position;0!==d&&!f(d)&&!g(d);)d=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an alias node must contain at least one character"),c=a.input.slice(b,a.position),a.anchorMap.hasOwnProperty(c)||o(a,'unidentified alias "'+c+'"'),a.result=a.anchorMap[c],u(a,!0,-1),!0}function H(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=1,p=!1,q=!1;if(null!==a.listener&&a.listener("open",a),a.tag=null,a.anchor=null,a.kind=null,a.result=null,f=g=h=X===c||W===c,d&&u(a,!0,-1)&&(p=!0,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)),
1===n)for(;E(a)||F(a);)u(a,!0,-1)?(p=!0,h=f,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)):h=!1;if(h&&(h=p||e),(1===n||X===c)&&(l=U===c||V===c?b:b+1,m=a.position-a.lineStart,1===n?h&&(C(a,m)||D(a,m,l))||A(a,l)?q=!0:(g&&B(a,l)||y(a,l)||z(a,l)?q=!0:G(a)?(q=!0,(null!==a.tag||null!==a.anchor)&&o(a,"alias node should not have any properties")):x(a,l,U===c)&&(q=!0,null===a.tag&&(a.tag="?")),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):0===n&&(q=h&&C(a,m))),null!==a.tag&&"!"!==a.tag)if("?"===a.tag){for(i=0,j=a.implicitTypes.length;j>i;i+=1)if(k=a.implicitTypes[i],k.resolve(a.result)){a.result=k.construct(a.result),a.tag=k.tag,null!==a.anchor&&(a.anchorMap[a.anchor]=a.result);break}}else T.call(a.typeMap[a.kind||"fallback"],a.tag)?(k=a.typeMap[a.kind||"fallback"][a.tag],null!==a.result&&k.kind!==a.kind&&o(a,"unacceptable node kind for !<"+a.tag+'> tag; it should be "'+k.kind+'", not "'+a.kind+'"'),k.resolve(a.result)?(a.result=k.construct(a.result),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):o(a,"cannot resolve a node with !<"+a.tag+"> explicit tag")):o(a,"unknown tag !<"+a.tag+">");return null!==a.listener&&a.listener("close",a),null!==a.tag||null!==a.anchor||q}function I(a){var b,c,g,h,i=a.position,j=!1;for(a.version=null,a.checkLineBreaks=a.legacy,a.tagMap={},a.anchorMap={};0!==(h=a.input.charCodeAt(a.position))&&(u(a,!0,-1),h=a.input.charCodeAt(a.position),!(a.lineIndent>0||37!==h));){for(j=!0,h=a.input.charCodeAt(++a.position),b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);for(c=a.input.slice(b,a.position),g=[],c.length<1&&o(a,"directive name must not be less than one character in length");0!==h;){for(;e(h);)h=a.input.charCodeAt(++a.position);if(35===h){do h=a.input.charCodeAt(++a.position);while(0!==h&&!d(h));break}if(d(h))break;for(b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);g.push(a.input.slice(b,a.position))}0!==h&&t(a),T.call(ha,c)?ha[c](a,c,g):p(a,'unknown document directive "'+c+'"')}return u(a,!0,-1),0===a.lineIndent&&45===a.input.charCodeAt(a.position)&&45===a.input.charCodeAt(a.position+1)&&45===a.input.charCodeAt(a.position+2)?(a.position+=3,u(a,!0,-1)):j&&o(a,"directives end mark is expected"),H(a,a.lineIndent-1,X,!1,!0),u(a,!0,-1),a.checkLineBreaks&&aa.test(a.input.slice(i,a.position))&&p(a,"non-ASCII line breaks are interpreted as content"),a.documents.push(a.result),a.position===a.lineStart&&v(a)?void(46===a.input.charCodeAt(a.position)&&(a.position+=3,u(a,!0,-1))):void(a.position<a.length-1&&o(a,"end of the stream or a document separator is expected"))}function J(a,b){a=String(a),b=b||{},0!==a.length&&(10!==a.charCodeAt(a.length-1)&&13!==a.charCodeAt(a.length-1)&&(a+="\n"),65279===a.charCodeAt(0)&&(a=a.slice(1)));var c=new m(a,b);for(c.input+="\x00";32===c.input.charCodeAt(c.position);)c.lineIndent+=1,c.position+=1;for(;c.position<c.length-1;)I(c);return c.documents}function K(a,b,c){var d,e,f=J(a,c);if("function"!=typeof b)return f;for(d=0,e=f.length;e>d;d+=1)b(f[d])}function L(a,b){var c=J(a,b);if(0===c.length)return void 0;if(1===c.length)return c[0];throw new P("expected a single document in the stream, but found more")}function M(a,b,c){return"function"!=typeof b?K(a,O.extend({schema:R},c)):void K(a,b,O.extend({schema:R},c))}function N(a,b){return L(a,O.extend({schema:R},b))}for(var O=a("./common"),P=a("./exception"),Q=a("./mark"),R=a("./schema/default_safe"),S=a("./schema/default_full"),T=Object.prototype.hasOwnProperty,U=1,V=2,W=3,X=4,Y=1,Z=2,$=3,_=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,aa=/[\x85\u2028\u2029]/,ba=/[,\[\]\{\}]/,ca=/^(?:!|!!|![a-z\-]+!)$/i,da=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ea=new Array(256),fa=new Array(256),ga=0;256>ga;ga++)ea[ga]=k(ga)?1:0,fa[ga]=k(ga);var ha={YAML:function(a,b,c){var d,e,f;null!==a.version&&o(a,"duplication of %YAML directive"),1!==c.length&&o(a,"YAML directive accepts exactly one argument"),d=/^([0-9]+)\.([0-9]+)$/.exec(c[0]),null===d&&o(a,"ill-formed argument of the YAML directive"),e=parseInt(d[1],10),f=parseInt(d[2],10),1!==e&&o(a,"unacceptable YAML version of the document"),a.version=c[0],a.checkLineBreaks=2>f,1!==f&&2!==f&&p(a,"unsupported YAML version of the document")},TAG:function(a,b,c){var d,e;2!==c.length&&o(a,"TAG directive accepts exactly two arguments"),d=c[0],e=c[1],ca.test(d)||o(a,"ill-formed tag handle (first argument) of the TAG directive"),T.call(a.tagMap,d)&&o(a,'there is a previously declared suffix for "'+d+'" tag handle'),da.test(e)||o(a,"ill-formed tag prefix (second argument) of the TAG directive"),a.tagMap[d]=e}};b.exports.loadAll=K,b.exports.load=L,b.exports.safeLoadAll=M,b.exports.safeLoad=N},{"./common":47,"./exception":49,"./mark":51,"./schema/default_full":54,"./schema/default_safe":55}],51:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.name=a,this.buffer=b,this.position=c,this.line=d,this.column=e}var e=a("./common");d.prototype.getSnippet=function(a,b){var c,d,f,g,h;if(!this.buffer)return null;for(a=a||4,b=b||75,c="",d=this.position;d>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(d-1));)if(d-=1,this.position-d>b/2-1){c=" ... ",d+=5;break}for(f="",g=this.position;g<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(g));)if(g+=1,g-this.position>b/2-1){f=" ... ",g-=5;break}return h=this.buffer.slice(d,g),e.repeat(" ",a)+c+h+f+"\n"+e.repeat(" ",a+this.position-d+c.length)+"^"},d.prototype.toString=function(a){var b,c="";return this.name&&(c+='in "'+this.name+'" '),c+="at line "+(this.line+1)+", column "+(this.column+1),a||(b=this.getSnippet(),b&&(c+=":\n"+b)),c},b.exports=d},{"./common":47}],52:[function(a,b,c){"use strict";function d(a,b,c){var e=[];return a.include.forEach(function(a){c=d(a,b,c)}),a[b].forEach(function(a){c.forEach(function(b,c){b.tag===a.tag&&b.kind===a.kind&&e.push(c)}),c.push(a)}),c.filter(function(a,b){return-1===e.indexOf(b)})}function e(){function a(a){d[a.kind][a.tag]=d.fallback[a.tag]=a}var b,c,d={scalar:{},sequence:{},mapping:{},fallback:{}};for(b=0,c=arguments.length;c>b;b+=1)arguments[b].forEach(a);return d}function f(a){this.include=a.include||[],this.implicit=a.implicit||[],this.explicit=a.explicit||[],this.implicit.forEach(function(a){if(a.loadKind&&"scalar"!==a.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=d(this,"implicit",[]),this.compiledExplicit=d(this,"explicit",[]),this.compiledTypeMap=e(this.compiledImplicit,this.compiledExplicit)}var g=a("./common"),h=a("./exception"),i=a("./type");f.DEFAULT=null,f.create=function(){var a,b;switch(arguments.length){case 1:a=f.DEFAULT,b=arguments[0];break;case 2:a=arguments[0],b=arguments[1];break;default:throw new h("Wrong number of arguments for Schema.create function")}if(a=g.toArray(a),b=g.toArray(b),!a.every(function(a){return a instanceof f}))throw new h("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!b.every(function(a){return a instanceof i}))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new f({include:a,explicit:b})},b.exports=f},{"./common":47,"./exception":49,"./type":58}],53:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./json")]})},{"../schema":52,"./json":57}],54:[function(a,b,c){"use strict";var d=a("../schema");b.exports=d.DEFAULT=new d({include:[a("./default_safe")],explicit:[a("../type/js/undefined"),a("../type/js/regexp"),a("../type/js/function")]})},{"../schema":52,"../type/js/function":63,"../type/js/regexp":64,"../type/js/undefined":65,"./default_safe":55}],55:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./core")],implicit:[a("../type/timestamp"),a("../type/merge")],explicit:[a("../type/binary"),a("../type/omap"),a("../type/pairs"),a("../type/set")]})},{"../schema":52,"../type/binary":59,"../type/merge":67,"../type/omap":69,"../type/pairs":70,"../type/set":72,"../type/timestamp":74,"./core":53}],56:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({explicit:[a("../type/str"),a("../type/seq"),a("../type/map")]})},{"../schema":52,"../type/map":66,"../type/seq":71,"../type/str":73}],57:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./failsafe")],implicit:[a("../type/null"),a("../type/bool"),a("../type/int"),a("../type/float")]})},{"../schema":52,"../type/bool":60,"../type/float":61,"../type/int":62,"../type/null":68,"./failsafe":56}],58:[function(a,b,c){"use strict";function d(a){var b={};return null!==a&&Object.keys(a).forEach(function(c){a[c].forEach(function(a){b[String(a)]=c})}),b}function e(a,b){if(b=b||{},Object.keys(b).forEach(function(b){if(-1===g.indexOf(b))throw new f('Unknown option "'+b+'" is met in definition of "'+a+'" YAML type.')}),this.tag=a,this.kind=b.kind||null,this.resolve=b.resolve||function(){return!0},this.construct=b.construct||function(a){return a},this.instanceOf=b.instanceOf||null,this.predicate=b.predicate||null,this.represent=b.represent||null,this.defaultStyle=b.defaultStyle||null,this.styleAliases=d(b.styleAliases||null),-1===h.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+a+'" YAML type.')}var f=a("./exception"),g=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],h=["scalar","sequence","mapping"];b.exports=e},{"./exception":49}],59:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b,c,d=0,e=a.length,f=l;for(c=0;e>c;c++)if(b=f.indexOf(a.charAt(c)),!(b>64)){if(0>b)return!1;d+=6}return d%8===0}function e(a){var b,c,d=a.replace(/[\r\n=]/g,""),e=d.length,f=l,g=0,i=[];for(b=0;e>b;b++)b%4===0&&b&&(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)),g=g<<6|f.indexOf(d.charAt(b));return c=e%4*6,0===c?(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)):18===c?(i.push(g>>10&255),i.push(g>>2&255)):12===c&&i.push(g>>4&255),h?h.from?h.from(i):new h(i):i}function f(a){var b,c,d="",e=0,f=a.length,g=l;for(b=0;f>b;b++)b%3===0&&b&&(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]),e=(e<<8)+a[b];return c=f%3,0===c?(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]):2===c?(d+=g[e>>10&63],d+=g[e>>4&63],d+=g[e<<2&63],d+=g[64]):1===c&&(d+=g[e>>2&63],d+=g[e<<4&63],d+=g[64],d+=g[64]),d}function g(a){return h&&h.isBuffer(a)}var h;try{var i=a;h=i("buffer").Buffer}catch(j){}var k=a("../type"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";b.exports=new k("tag:yaml.org,2002:binary",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../type":58}],60:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b=a.length;return 4===b&&("true"===a||"True"===a||"TRUE"===a)||5===b&&("false"===a||"False"===a||"FALSE"===a)}function e(a){return"true"===a||"True"===a||"TRUE"===a}function f(a){return"[object Boolean]"===Object.prototype.toString.call(a)}var g=a("../type");b.exports=new g("tag:yaml.org,2002:bool",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"})},{"../type":58}],61:[function(a,b,c){"use strict";function d(a){return null===a?!1:j.test(a)&&"_"!==a[a.length-1]?!0:!1}function e(a){var b,c,d,e;return b=a.replace(/_/g,"").toLowerCase(),c="-"===b[0]?-1:1,e=[],"+-".indexOf(b[0])>=0&&(b=b.slice(1)),".inf"===b?1===c?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===b?NaN:b.indexOf(":")>=0?(b.split(":").forEach(function(a){e.unshift(parseFloat(a,10))}),b=0,d=1,e.forEach(function(a){b+=a*d,d*=60}),c*b):c*parseFloat(b,10)}function f(a,b){var c;if(isNaN(a))switch(b){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===a)switch(b){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===a)switch(b){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(h.isNegativeZero(a))return"-0.0";return c=a.toString(10),k.test(c)?c.replace("e",".e"):c}function g(a){return"[object Number]"===Object.prototype.toString.call(a)&&(a%1!==0||h.isNegativeZero(a))}var h=a("../common"),i=a("../type"),j=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),k=/^[-+]?[0-9]+e/;b.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f,defaultStyle:"lowercase"})},{"../common":47,"../type":58}],62:[function(a,b,c){"use strict";function d(a){return a>=48&&57>=a||a>=65&&70>=a||a>=97&&102>=a}function e(a){return a>=48&&55>=a}function f(a){return a>=48&&57>=a}function g(a){if(null===a)return!1;var b,c=a.length,g=0,h=!1;if(!c)return!1;if(b=a[g],("-"===b||"+"===b)&&(b=a[++g]),"0"===b){if(g+1===c)return!0;if(b=a[++g],"b"===b){for(g++;c>g;g++)if(b=a[g],"_"!==b){if("0"!==b&&"1"!==b)return!1;h=!0}return h&&"_"!==b}if("x"===b){for(g++;c>g;g++)if(b=a[g],"_"!==b){if(!d(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}for(;c>g;g++)if(b=a[g],"_"!==b){if(!e(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}if("_"===b)return!1;for(;c>g;g++)if(b=a[g],"_"!==b){if(":"===b)break;if(!f(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b?":"!==b?!0:/^(:[0-5]?[0-9])+$/.test(a.slice(g)):!1}function h(a){var b,c,d=a,e=1,f=[];return-1!==d.indexOf("_")&&(d=d.replace(/_/g,"")),b=d[0],("-"===b||"+"===b)&&("-"===b&&(e=-1),d=d.slice(1),b=d[0]),"0"===d?0:"0"===b?"b"===d[1]?e*parseInt(d.slice(2),2):"x"===d[1]?e*parseInt(d,16):e*parseInt(d,8):-1!==d.indexOf(":")?(d.split(":").forEach(function(a){f.unshift(parseInt(a,10))}),d=0,c=1,f.forEach(function(a){d+=a*c,c*=60}),e*d):e*parseInt(d,10)}function i(a){return"[object Number]"===Object.prototype.toString.call(a)&&a%1===0&&!j.isNegativeZero(a)}var j=a("../common"),k=a("../type");b.exports=new k("tag:yaml.org,2002:int",{kind:"scalar",resolve:g,construct:h,predicate:i,represent:{binary:function(a){return"0b"+a.toString(2)},octal:function(a){return"0"+a.toString(8)},decimal:function(a){return a.toString(10)},hexadecimal:function(a){return"0x"+a.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":47,"../type":58}],63:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;try{var b="("+a+")",c=h.parse(b,{range:!0});return"Program"!==c.type||1!==c.body.length||"ExpressionStatement"!==c.body[0].type||"FunctionExpression"!==c.body[0].expression.type?!1:!0}catch(d){return!1}}function e(a){var b,c="("+a+")",d=h.parse(c,{range:!0}),e=[];if("Program"!==d.type||1!==d.body.length||"ExpressionStatement"!==d.body[0].type||"FunctionExpression"!==d.body[0].expression.type)throw new Error("Failed to resolve function");return d.body[0].expression.params.forEach(function(a){e.push(a.name)}),b=d.body[0].expression.body.range,new Function(e,c.slice(b[0]+1,b[1]-1))}function f(a){return a.toString()}function g(a){return"[object Function]"===Object.prototype.toString.call(a)}var h;try{var i=a;h=i("esprima")}catch(j){"undefined"!=typeof window&&(h=window.esprima)}var k=a("../../type");b.exports=new k("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":58}],64:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;if(0===a.length)return!1;var b=a,c=/\/([gim]*)$/.exec(a),d="";if("/"===b[0]){if(c&&(d=c[1]),d.length>3)return!1;if("/"!==b[b.length-d.length-1])return!1}return!0}function e(a){var b=a,c=/\/([gim]*)$/.exec(a),d="";return"/"===b[0]&&(c&&(d=c[1]),b=b.slice(1,b.length-d.length-1)),new RegExp(b,d)}function f(a){var b="/"+a.source+"/";return a.global&&(b+="g"),a.multiline&&(b+="m"),a.ignoreCase&&(b+="i"),b}function g(a){return"[object RegExp]"===Object.prototype.toString.call(a)}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":58}],65:[function(a,b,c){"use strict";function d(){return!0}function e(){return void 0}function f(){return""}function g(a){return"undefined"==typeof a}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":58}],66:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(a){return null!==a?a:{}}})},{"../type":58}],67:[function(a,b,c){"use strict";function d(a){return"<<"===a||null===a}var e=a("../type");b.exports=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:d})},{"../type":58}],68:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b=a.length;return 1===b&&"~"===a||4===b&&("null"===a||"Null"===a||"NULL"===a)}function e(){return null}function f(a){return null===a}var g=a("../type");b.exports=new g("tag:yaml.org,2002:null",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":58}],69:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,i=[],j=a;for(b=0,c=j.length;c>b;b+=1){if(d=j[b],f=!1,"[object Object]"!==h.call(d))return!1;for(e in d)if(g.call(d,e)){if(f)return!1;f=!0}if(!f)return!1;if(-1!==i.indexOf(e))return!1;i.push(e)}return!0}function e(a){return null!==a?a:[]}var f=a("../type"),g=Object.prototype.hasOwnProperty,h=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:omap",{kind:"sequence",resolve:d,construct:e})},{"../type":58}],70:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,h=a;for(f=new Array(h.length),b=0,c=h.length;c>b;b+=1){if(d=h[b],"[object Object]"!==g.call(d))return!1;if(e=Object.keys(d),1!==e.length)return!1;f[b]=[e[0],d[e[0]]]}return!0}function e(a){if(null===a)return[];var b,c,d,e,f,g=a;for(f=new Array(g.length),b=0,c=g.length;c>b;b+=1)d=g[b],e=Object.keys(d),f[b]=[e[0],d[e[0]]];return f}var f=a("../type"),g=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:d,construct:e})},{"../type":58}],71:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(a){return null!==a?a:[]}})},{"../type":58}],72:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c=a;for(b in c)if(g.call(c,b)&&null!==c[b])return!1;return!0}function e(a){return null!==a?a:{}}var f=a("../type"),g=Object.prototype.hasOwnProperty;b.exports=new f("tag:yaml.org,2002:set",{kind:"mapping",resolve:d,construct:e})},{"../type":58}],73:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(a){return null!==a?a:""}})},{"../type":58}],74:[function(a,b,c){"use strict";function d(a){return null===a?!1:null!==h.exec(a)?!0:null!==i.exec(a)?!0:!1}function e(a){var b,c,d,e,f,g,j,k,l,m,n=0,o=null;if(b=h.exec(a),null===b&&(b=i.exec(a)),null===b)throw new Error("Date resolve error");if(c=+b[1],d=+b[2]-1,e=+b[3],!b[4])return new Date(Date.UTC(c,d,e));if(f=+b[4],g=+b[5],j=+b[6],b[7]){for(n=b[7].slice(0,3);n.length<3;)n+="0";n=+n}return b[9]&&(k=+b[10],l=+(b[11]||0),o=6e4*(60*k+l),"-"===b[9]&&(o=-o)),m=new Date(Date.UTC(c,d,e,f,g,j,n)),o&&m.setTime(m.getTime()-o),m}function f(a){return a.toISOString()}var g=a("../type"),h=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");b.exports=new g("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d,construct:e,instanceOf:Date,represent:f})},{"../type":58}],75:[function(a,b,c){function d(a){if(a=String(a),!(a.length>100)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return void 0}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){b=b||{};var c=typeof a;if("string"===c&&a.length>0)return d(a);if("number"===c&&isNaN(a)===!1)return b["long"]?f(a):e(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],76:[function(a,b,c){"use strict";function d(a){return function(c,d,h,i){var j=[],k="";"string"==typeof c?(j=q.call(arguments),c=d=void 0):"string"==typeof d?(j=q.call(arguments,1),d=void 0):"string"==typeof h&&(j=q.call(arguments,2)),j.length>0&&(k=b.exports.formatter.apply(null,j)),c&&c.message&&(k+=(k?" \n":"")+c.message);var l=new a(k);return e(l,c),f(l),g(l,d),l}}function e(a,b){j(a,b),g(a,b)}function f(a){a.toJSON=h,a.inspect=i}function g(a,b){if(b&&"object"==typeof b)for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];if(!(r.indexOf(e)>=0))try{a[e]=b[e]}catch(f){}}}function h(){var a={},b=Object.keys(this);b=b.concat(s);for(var c=0;c<b.length;c++){var d=b[c],e=this[d],f=typeof e;"undefined"!==f&&"function"!==f&&(a[d]=e)}return a}function i(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function j(a,b){m(a)?b?n(a,b):o(a):b?a.stack=k(a.stack,b.stack):a.stack=l(a.stack)}function k(a,b){return a=l(a),a&&b?a+"\n\n"+b:a||b}function l(a){if(a){var b=a.split("\n");if(b.length<2)return a;for(var c=0;c<b.length;c++){var d=b[c];if(d.indexOf("onoFactory")>=0)return b.splice(c,1),b.join("\n")}return a}}function m(a){if(!t)return!1;var b=Object.getOwnPropertyDescriptor(a,"stack");return b?"function"==typeof b.get:!1}function n(a,b){var c=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return k(c.get.apply(a),b.stack)},enumerable:!1,configurable:!0})}function o(a){var b=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return l(b.get.apply(a))},enumerable:!1,configurable:!0})}var p=a("format-util"),q=Array.prototype.slice,r=["name","message","stack"],s=["name","message","description","number","code","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];b.exports=d(Error),b.exports.error=d(Error),b.exports.eval=d(EvalError),b.exports.range=d(RangeError),b.exports.reference=d(ReferenceError),b.exports.syntax=d(SyntaxError),b.exports.type=d(TypeError),b.exports.uri=d(URIError),b.exports.formatter=p;var t=function(){return!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}()},{"format-util":15}],77:[function(a,b,c){(function(a){"use strict";function c(a,b){return null==a?void 0:a[b]}function d(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function e(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function f(){this.__data__=ra?ra(null):{}}function g(a){return this.has(a)&&delete this.__data__[a]}function h(a){var b=this.__data__;if(ra){var c=b[a];return c===S?void 0:c}return la.call(b,a)?b[a]:void 0}function i(a){var b=this.__data__;return ra?void 0!==b[a]:la.call(b,a)}function j(a,b){var c=this.__data__;return c[a]=ra&&void 0===b?S:b,this}function k(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function l(){this.__data__=[]}function m(a){var b=this.__data__,c=w(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():pa.call(b,c,1),!0}function n(a){var b=this.__data__,c=w(b,a);return 0>c?void 0:b[c][1]}function o(a){return w(this.__data__,a)>-1}function p(a,b){var c=this.__data__,d=w(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this}function q(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function r(){this.__data__={hash:new e,map:new(qa||k),string:new e}}function s(a){return B(this,a)["delete"](a)}function t(a){return B(this,a).get(a)}function u(a){return B(this,a).has(a)}function v(a,b){return B(this,a).set(a,b),this}function w(a,b){for(var c=a.length;c--;)if(J(a[c][0],b))return c;return-1}function x(a,b){b=D(b,a)?[b]:A(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[G(b[c++])];return c&&c==d?a:void 0}function y(a){if(!L(a)||F(a))return!1;var b=K(a)||d(a)?na:ba;return b.test(H(a))}function z(a){if("string"==typeof a)return a;if(N(a))return ta?ta.call(a):"";var b=a+"";return"0"==b&&1/a==-T?"-0":b}function A(a){return va(a)?a:ua(a)}function B(a,b){var c=a.__data__;return E(b)?c["string"==typeof b?"string":"hash"]:c.map}function C(a,b){var d=c(a,b);return y(d)?d:void 0}function D(a,b){if(va(a))return!1;var c="undefined"==typeof a?"undefined":Q(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||N(a)?!0:Y.test(a)||!X.test(a)||null!=b&&a in Object(b)}function E(a){var b="undefined"==typeof a?"undefined":Q(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function F(a){return!!ja&&ja in a}function G(a){if("string"==typeof a||N(a))return a;var b=a+"";return"0"==b&&1/a==-T?"-0":b}function H(a){if(null!=a){try{return ka.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function I(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError(R);var c=function d(){var c=arguments,e=b?b.apply(this,c):c[0],f=d.cache;if(f.has(e))return f.get(e);var g=a.apply(this,c);return d.cache=f.set(e,g),g};return c.cache=new(I.Cache||q),c}function J(a,b){return a===b||a!==a&&b!==b}function K(a){var b=L(a)?ma.call(a):"";return b==U||b==V}function L(a){var b="undefined"==typeof a?"undefined":Q(a);return!!a&&("object"==b||"function"==b)}function M(a){return!!a&&"object"==("undefined"==typeof a?"undefined":Q(a))}function N(a){return"symbol"==("undefined"==typeof a?"undefined":Q(a))||M(a)&&ma.call(a)==W}function O(a){return null==a?"":z(a)}function P(a,b,c){var d=null==a?void 0:x(a,b);return void 0===d?c:d}var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},R="Expected a function",S="__lodash_hash_undefined__",T=1/0,U="[object Function]",V="[object GeneratorFunction]",W="[object Symbol]",X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,Z=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/[\\^$.*+?()[\]{}|]/g,aa=/\\(\\)?/g,ba=/^\[object .+?Constructor\]$/,ca="object"==("undefined"==typeof a?"undefined":Q(a))&&a&&a.Object===Object&&a,da="object"==("undefined"==typeof self?"undefined":Q(self))&&self&&self.Object===Object&&self,ea=ca||da||Function("return this")(),fa=Array.prototype,ga=Function.prototype,ha=Object.prototype,ia=ea["__core-js_shared__"],ja=function(){var a=/[^.]+$/.exec(ia&&ia.keys&&ia.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ka=ga.toString,la=ha.hasOwnProperty,ma=ha.toString,na=RegExp("^"+ka.call(la).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oa=ea.Symbol,pa=fa.splice,qa=C(ea,"Map"),ra=C(Object,"create"),sa=oa?oa.prototype:void 0,ta=sa?sa.toString:void 0;e.prototype.clear=f,e.prototype["delete"]=g,e.prototype.get=h,e.prototype.has=i,e.prototype.set=j,k.prototype.clear=l,k.prototype["delete"]=m,k.prototype.get=n,k.prototype.has=o,k.prototype.set=p,q.prototype.clear=r,q.prototype["delete"]=s,q.prototype.get=t,q.prototype.has=u,q.prototype.set=v;var ua=I(function(a){a=O(a);var b=[];return Z.test(a)&&b.push(""),a.replace($,function(a,c,d,e){b.push(d?e.replace(aa,"$1"):c||a)}),b});I.Cache=q;var va=Array.isArray;b.exports=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],78:[function(a,b,c){(function(a){"use strict";function d(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function e(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function f(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function g(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function h(a){return function(b){return a(b)}}function i(a,b){return a.has(b)}function j(a,b){return null==a?void 0:a[b]}function k(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function l(a,b){return function(c){return a(b(c))}}function m(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function n(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function o(){this.__data__=Mb?Mb(null):{},this.size=0}function p(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function q(a){var b=this.__data__;if(Mb){var c=b[a];return c===va?void 0:c}return ub.call(b,a)?b[a]:void 0}function r(a){var b=this.__data__;return Mb?void 0!==b[a]:ub.call(b,a)}function s(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=Mb&&void 0===b?va:b,this}function t(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function u(){this.__data__=[],this.size=0}function v(a){var b=this.__data__,c=P(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():Cb.call(b,c,1),--this.size,!0}function w(a){var b=this.__data__,c=P(b,a);return 0>c?void 0:b[c][1]}function x(a){return P(this.__data__,a)>-1}function y(a,b){var c=this.__data__,d=P(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}function z(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function A(){this.size=0,this.__data__={hash:new n,map:new(Ib||t),string:new n}}function B(a){var b=aa(this,a)["delete"](a);return this.size-=b?1:0,b}function C(a){return aa(this,a).get(a)}function D(a){return aa(this,a).has(a)}function E(a,b){var c=aa(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function F(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new z;++b<c;)this.add(a[b])}function G(a){return this.__data__.set(a,va),this}function H(a){return this.__data__.has(a)}function I(a){var b=this.__data__=new t(a);this.size=b.size}function J(){this.__data__=new t,this.size=0}function K(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}function L(a){return this.__data__.get(a)}function M(a){return this.__data__.has(a)}function N(a,b){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!Ib||d.length<ua-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new z(d)}return c.set(a,b),this.size=c.size,this}function O(a,b){var c=Xb(a),d=!c&&Wb(a),e=!c&&!d&&Yb(a),f=!c&&!d&&!e&&Zb(a),h=c||d||e||f,i=h?g(a.length,String):[],j=i.length;for(var k in a)!b&&!ub.call(a,k)||h&&("length"==k||e&&("offset"==k||"parent"==k)||f&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||da(k,j))||i.push(k);return i}function P(a,b){for(var c=a.length;c--;)if(ja(a[c][0],b))return c;return-1}function Q(a,b,c){var d=b(a);return Xb(a)?d:e(d,c(a))}function R(a){
return null==a?void 0===a?Ra:Ja:Db&&Db in Object(a)?ca(a):ha(a)}function S(a){return pa(a)&&R(a)==za}function T(a,b,c,d,e){return a===b?!0:null==a||null==b||!pa(a)&&!pa(b)?a!==a&&b!==b:U(a,b,c,d,T,e)}function U(a,b,c,d,e,f){var g=Xb(a),h=Xb(b),i=g?Aa:Vb(a),j=h?Aa:Vb(b);i=i==za?Ka:i,j=j==za?Ka:j;var k=i==Ka,l=j==Ka,m=i==j;if(m&&Yb(a)){if(!Yb(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new I),g||Zb(a)?Y(a,b,c,d,e,f):Z(a,b,i,c,d,e,f);if(!(c&wa)){var n=k&&ub.call(a,"__wrapped__"),o=l&&ub.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new I),e(p,q,c,d,f)}}return m?(f||(f=new I),$(a,b,c,d,e,f)):!1}function V(a){if(!oa(a)||fa(a))return!1;var b=ma(a)?xb:db;return b.test(ia(a))}function W(a){return pa(a)&&na(a.length)&&!!fb[R(a)]}function X(a){if(!ga(a))return Gb(a);var b=[];for(var c in Object(a))ub.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Y(a,b,c,d,e,g){var h=c&wa,j=a.length,k=b.length;if(j!=k&&!(h&&k>j))return!1;var l=g.get(a);if(l&&g.get(b))return l==b;var m=-1,n=!0,o=c&xa?new F:void 0;for(g.set(a,b),g.set(b,a);++m<j;){var p=a[m],q=b[m];if(d)var r=h?d(q,p,m,b,a,g):d(p,q,m,a,b,g);if(void 0!==r){if(r)continue;n=!1;break}if(o){if(!f(b,function(a,b){return i(o,b)||p!==a&&!e(p,a,c,d,g)?void 0:o.push(b)})){n=!1;break}}else if(p!==q&&!e(p,q,c,d,g)){n=!1;break}}return g["delete"](a),g["delete"](b),n}function Z(a,b,c,d,e,f,g){switch(c){case Ua:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Ta:return a.byteLength==b.byteLength&&f(new Ab(a),new Ab(b))?!0:!1;case Ca:case Da:case Ia:return ja(+a,+b);case Ea:return a.name==b.name&&a.message==b.message;case Na:case Pa:return a==b+"";case Ha:var h=k;case Oa:var i=d&wa;if(h||(h=m),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=xa,g.set(a,b);var l=Y(h(a),h(b),d,e,f,g);return g["delete"](a),l;case Qa:if(Tb)return Tb.call(a)==Tb.call(b)}return!1}function $(a,b,c,d,e,f){var g=c&wa,h=_(a),i=h.length,j=_(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:ub.call(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(void 0===s?q===r||e(q,r,c,d,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f["delete"](a),f["delete"](b),o}function _(a){return Q(a,qa,Ub)}function aa(a,b){var c=a.__data__;return ea(b)?c["string"==typeof b?"string":"hash"]:c.map}function ba(a,b){var c=j(a,b);return V(c)?c:void 0}function ca(a){var b=ub.call(a,Db),c=a[Db];try{a[Db]=void 0;var d=!0}catch(e){}var f=wb.call(a);return d&&(b?a[Db]=c:delete a[Db]),f}function da(a,b){return b=null==b?ya:b,!!b&&("number"==typeof a||eb.test(a))&&a>-1&&a%1==0&&b>a}function ea(a){var b="undefined"==typeof a?"undefined":ta(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function fa(a){return!!vb&&vb in a}function ga(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||rb;return a===c}function ha(a){return wb.call(a)}function ia(a){if(null!=a){try{return tb.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function ja(a,b){return a===b||a!==a&&b!==b}function ka(a){return null!=a&&na(a.length)&&!ma(a)}function la(a,b){return T(a,b)}function ma(a){if(!oa(a))return!1;var b=R(a);return b==Fa||b==Ga||b==Ba||b==Ma}function na(a){return"number"==typeof a&&a>-1&&a%1==0&&ya>=a}function oa(a){var b="undefined"==typeof a?"undefined":ta(a);return null!=a&&("object"==b||"function"==b)}function pa(a){return null!=a&&"object"==("undefined"==typeof a?"undefined":ta(a))}function qa(a){return ka(a)?O(a):X(a)}function ra(){return[]}function sa(){return!1}var ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ua=200,va="__lodash_hash_undefined__",wa=1,xa=2,ya=9007199254740991,za="[object Arguments]",Aa="[object Array]",Ba="[object AsyncFunction]",Ca="[object Boolean]",Da="[object Date]",Ea="[object Error]",Fa="[object Function]",Ga="[object GeneratorFunction]",Ha="[object Map]",Ia="[object Number]",Ja="[object Null]",Ka="[object Object]",La="[object Promise]",Ma="[object Proxy]",Na="[object RegExp]",Oa="[object Set]",Pa="[object String]",Qa="[object Symbol]",Ra="[object Undefined]",Sa="[object WeakMap]",Ta="[object ArrayBuffer]",Ua="[object DataView]",Va="[object Float32Array]",Wa="[object Float64Array]",Xa="[object Int8Array]",Ya="[object Int16Array]",Za="[object Int32Array]",$a="[object Uint8Array]",_a="[object Uint8ClampedArray]",ab="[object Uint16Array]",bb="[object Uint32Array]",cb=/[\\^$.*+?()[\]{}|]/g,db=/^\[object .+?Constructor\]$/,eb=/^(?:0|[1-9]\d*)$/,fb={};fb[Va]=fb[Wa]=fb[Xa]=fb[Ya]=fb[Za]=fb[$a]=fb[_a]=fb[ab]=fb[bb]=!0,fb[za]=fb[Aa]=fb[Ta]=fb[Ca]=fb[Ua]=fb[Da]=fb[Ea]=fb[Fa]=fb[Ha]=fb[Ia]=fb[Ka]=fb[Na]=fb[Oa]=fb[Pa]=fb[Sa]=!1;var gb="object"==("undefined"==typeof a?"undefined":ta(a))&&a&&a.Object===Object&&a,hb="object"==("undefined"==typeof self?"undefined":ta(self))&&self&&self.Object===Object&&self,ib=gb||hb||Function("return this")(),jb="object"==("undefined"==typeof c?"undefined":ta(c))&&c&&!c.nodeType&&c,kb=jb&&"object"==("undefined"==typeof b?"undefined":ta(b))&&b&&!b.nodeType&&b,lb=kb&&kb.exports===jb,mb=lb&&gb.process,nb=function(){try{return mb&&mb.binding&&mb.binding("util")}catch(a){}}(),ob=nb&&nb.isTypedArray,pb=Array.prototype,qb=Function.prototype,rb=Object.prototype,sb=ib["__core-js_shared__"],tb=qb.toString,ub=rb.hasOwnProperty,vb=function(){var a=/[^.]+$/.exec(sb&&sb.keys&&sb.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),wb=rb.toString,xb=RegExp("^"+tb.call(ub).replace(cb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yb=lb?ib.Buffer:void 0,zb=ib.Symbol,Ab=ib.Uint8Array,Bb=rb.propertyIsEnumerable,Cb=pb.splice,Db=zb?zb.toStringTag:void 0,Eb=Object.getOwnPropertySymbols,Fb=yb?yb.isBuffer:void 0,Gb=l(Object.keys,Object),Hb=ba(ib,"DataView"),Ib=ba(ib,"Map"),Jb=ba(ib,"Promise"),Kb=ba(ib,"Set"),Lb=ba(ib,"WeakMap"),Mb=ba(Object,"create"),Nb=ia(Hb),Ob=ia(Ib),Pb=ia(Jb),Qb=ia(Kb),Rb=ia(Lb),Sb=zb?zb.prototype:void 0,Tb=Sb?Sb.valueOf:void 0;n.prototype.clear=o,n.prototype["delete"]=p,n.prototype.get=q,n.prototype.has=r,n.prototype.set=s,t.prototype.clear=u,t.prototype["delete"]=v,t.prototype.get=w,t.prototype.has=x,t.prototype.set=y,z.prototype.clear=A,z.prototype["delete"]=B,z.prototype.get=C,z.prototype.has=D,z.prototype.set=E,F.prototype.add=F.prototype.push=G,F.prototype.has=H,I.prototype.clear=J,I.prototype["delete"]=K,I.prototype.get=L,I.prototype.has=M,I.prototype.set=N;var Ub=Eb?function(a){return null==a?[]:(a=Object(a),d(Eb(a),function(b){return Bb.call(a,b)}))}:ra,Vb=R;(Hb&&Vb(new Hb(new ArrayBuffer(1)))!=Ua||Ib&&Vb(new Ib)!=Ha||Jb&&Vb(Jb.resolve())!=La||Kb&&Vb(new Kb)!=Oa||Lb&&Vb(new Lb)!=Sa)&&(Vb=function(a){var b=R(a),c=b==Ka?a.constructor:void 0,d=c?ia(c):"";if(d)switch(d){case Nb:return Ua;case Ob:return Ha;case Pb:return La;case Qb:return Oa;case Rb:return Sa}return b});var Wb=S(function(){return arguments}())?S:function(a){return pa(a)&&ub.call(a,"callee")&&!Bb.call(a,"callee")},Xb=Array.isArray,Yb=Fb||sa,Zb=ob?h(ob):W;b.exports=la}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(b,c,d){(function(b){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function f(a,b){return a.set(b[0],b[1]),a}function g(a,b){return a.add(b),a}function h(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function i(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function j(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function k(a,b){for(var c=null==a?0:a.length;c--&&b(a[c],c,a)!==!1;);return a}function l(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function m(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function n(a,b){var c=null==a?0:a.length;return!!c&&y(a,b,0)>-1}function o(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function p(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function q(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function r(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function s(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function t(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function u(a){return a.split("")}function v(a){return a.match(Rb)||[]}function w(a,b,c){var d;return c(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function x(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function y(a,b,c){return b===b?Z(a,b,c):x(a,A,c)}function z(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function A(a){return a!==a}function B(a,b){var c=null==a?0:a.length;return c?G(a,b)/c:La}function C(a){return function(b){return null==b?ea:b[a]}}function D(a){return function(b){return null==a?ea:a[b]}}function E(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function F(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function G(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==ea&&(c=c===ea?f:c+f)}return c}function H(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function I(a,b){return p(b,function(b){return[b,a[b]]})}function J(a){return function(b){return a(b)}}function K(a,b){return p(b,function(b){return a[b]})}function L(a,b){return a.has(b)}function M(a,b){for(var c=-1,d=a.length;++c<d&&y(b,a[c],0)>-1;);return c}function N(a,b){for(var c=a.length;c--&&y(b,a[c],0)>-1;);return c}function O(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function P(a){return"\\"+bd[a]}function Q(a,b){return null==a?ea:a[b]}function R(a){return Uc.test(a)}function S(a){return Vc.test(a)}function T(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function V(a,b){return function(c){return a(b(c))}}function W(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];(g===b||g===la)&&(a[c]=la,f[e++]=c)}return f}function X(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Y(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function Z(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function $(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function _(a){return R(a)?ba(a):sd(a)}function aa(a){return R(a)?ca(a):u(a)}function ba(a){for(var b=Sc.lastIndex=0;Sc.test(a);)++b;return b}function ca(a){return a.match(Sc)||[]}function da(a){return a.match(Tc)||[]}var ea,fa="4.17.4",ga=200,ha="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ia="Expected a function",ja="__lodash_hash_undefined__",ka=500,la="__lodash_placeholder__",ma=1,na=2,oa=4,pa=1,qa=2,ra=1,sa=2,ta=4,ua=8,va=16,wa=32,xa=64,ya=128,za=256,Aa=512,Ba=30,Ca="...",Da=800,Ea=16,Fa=1,Ga=2,Ha=3,Ia=1/0,Ja=9007199254740991,Ka=1.7976931348623157e308,La=NaN,Ma=4294967295,Na=Ma-1,Oa=Ma>>>1,Pa=[["ary",ya],["bind",ra],["bindKey",sa],["curry",ua],["curryRight",va],["flip",Aa],["partial",wa],["partialRight",xa],["rearg",za]],Qa="[object Arguments]",Ra="[object Array]",Sa="[object AsyncFunction]",Ta="[object Boolean]",Ua="[object Date]",Va="[object DOMException]",Wa="[object Error]",Xa="[object Function]",Ya="[object GeneratorFunction]",Za="[object Map]",$a="[object Number]",_a="[object Null]",ab="[object Object]",bb="[object Promise]",cb="[object Proxy]",db="[object RegExp]",eb="[object Set]",fb="[object String]",gb="[object Symbol]",hb="[object Undefined]",ib="[object WeakMap]",jb="[object WeakSet]",kb="[object ArrayBuffer]",lb="[object DataView]",mb="[object Float32Array]",nb="[object Float64Array]",ob="[object Int8Array]",pb="[object Int16Array]",qb="[object Int32Array]",rb="[object Uint8Array]",sb="[object Uint8ClampedArray]",tb="[object Uint16Array]",ub="[object Uint32Array]",vb=/\b__p \+= '';/g,wb=/\b(__p \+=) '' \+/g,xb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yb=/&(?:amp|lt|gt|quot|#39);/g,zb=/[&<>"']/g,Ab=RegExp(yb.source),Bb=RegExp(zb.source),Cb=/<%-([\s\S]+?)%>/g,Db=/<%([\s\S]+?)%>/g,Eb=/<%=([\s\S]+?)%>/g,Fb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gb=/^\w*$/,Hb=/^\./,Ib=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jb=/[\\^$.*+?()[\]{}|]/g,Kb=RegExp(Jb.source),Lb=/^\s+|\s+$/g,Mb=/^\s+/,Nb=/\s+$/,Ob=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pb=/\{\n\/\* \[wrapped with (.+)\] \*/,Qb=/,? & /,Rb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sb=/\\(\\)?/g,Tb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ub=/\w*$/,Vb=/^[-+]0x[0-9a-f]+$/i,Wb=/^0b[01]+$/i,Xb=/^\[object .+?Constructor\]$/,Yb=/^0o[0-7]+$/i,Zb=/^(?:0|[1-9]\d*)$/,$b=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_b=/($^)/,ac=/['\n\r\u2028\u2029\\]/g,bc="\\ud800-\\udfff",cc="\\u0300-\\u036f",dc="\\ufe20-\\ufe2f",ec="\\u20d0-\\u20ff",fc=cc+dc+ec,gc="\\u2700-\\u27bf",hc="a-z\\xdf-\\xf6\\xf8-\\xff",ic="\\xac\\xb1\\xd7\\xf7",jc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kc="\\u2000-\\u206f",lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mc="A-Z\\xc0-\\xd6\\xd8-\\xde",nc="\\ufe0e\\ufe0f",oc=ic+jc+kc+lc,pc="['’]",qc="["+bc+"]",rc="["+oc+"]",sc="["+fc+"]",tc="\\d+",uc="["+gc+"]",vc="["+hc+"]",wc="[^"+bc+oc+tc+gc+hc+mc+"]",xc="\\ud83c[\\udffb-\\udfff]",yc="(?:"+sc+"|"+xc+")",zc="[^"+bc+"]",Ac="(?:\\ud83c[\\udde6-\\uddff]){2}",Bc="[\\ud800-\\udbff][\\udc00-\\udfff]",Cc="["+mc+"]",Dc="\\u200d",Ec="(?:"+vc+"|"+wc+")",Fc="(?:"+Cc+"|"+wc+")",Gc="(?:"+pc+"(?:d|ll|m|re|s|t|ve))?",Hc="(?:"+pc+"(?:D|LL|M|RE|S|T|VE))?",Ic=yc+"?",Jc="["+nc+"]?",Kc="(?:"+Dc+"(?:"+[zc,Ac,Bc].join("|")+")"+Jc+Ic+")*",Lc="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Mc="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Nc=Jc+Ic+Kc,Oc="(?:"+[uc,Ac,Bc].join("|")+")"+Nc,Pc="(?:"+[zc+sc+"?",sc,Ac,Bc,qc].join("|")+")",Qc=RegExp(pc,"g"),Rc=RegExp(sc,"g"),Sc=RegExp(xc+"(?="+xc+")|"+Pc+Nc,"g"),Tc=RegExp([Cc+"?"+vc+"+"+Gc+"(?="+[rc,Cc,"$"].join("|")+")",Fc+"+"+Hc+"(?="+[rc,Cc+Ec,"$"].join("|")+")",Cc+"?"+Ec+"+"+Gc,Cc+"+"+Hc,Mc,Lc,tc,Oc].join("|"),"g"),Uc=RegExp("["+Dc+bc+fc+nc+"]"),Vc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xc=-1,Yc={};Yc[mb]=Yc[nb]=Yc[ob]=Yc[pb]=Yc[qb]=Yc[rb]=Yc[sb]=Yc[tb]=Yc[ub]=!0,Yc[Qa]=Yc[Ra]=Yc[kb]=Yc[Ta]=Yc[lb]=Yc[Ua]=Yc[Wa]=Yc[Xa]=Yc[Za]=Yc[$a]=Yc[ab]=Yc[db]=Yc[eb]=Yc[fb]=Yc[ib]=!1;var Zc={};Zc[Qa]=Zc[Ra]=Zc[kb]=Zc[lb]=Zc[Ta]=Zc[Ua]=Zc[mb]=Zc[nb]=Zc[ob]=Zc[pb]=Zc[qb]=Zc[Za]=Zc[$a]=Zc[ab]=Zc[db]=Zc[eb]=Zc[fb]=Zc[gb]=Zc[rb]=Zc[sb]=Zc[tb]=Zc[ub]=!0,Zc[Wa]=Zc[Xa]=Zc[ib]=!1;var $c={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},_c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cd=parseFloat,dd=parseInt,ed="object"==("undefined"==typeof b?"undefined":e(b))&&b&&b.Object===Object&&b,fd="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,gd=ed||fd||Function("return this")(),hd="object"==("undefined"==typeof d?"undefined":e(d))&&d&&!d.nodeType&&d,id=hd&&"object"==("undefined"==typeof c?"undefined":e(c))&&c&&!c.nodeType&&c,jd=id&&id.exports===hd,kd=jd&&ed.process,ld=function(){try{return kd&&kd.binding&&kd.binding("util")}catch(a){}}(),md=ld&&ld.isArrayBuffer,nd=ld&&ld.isDate,od=ld&&ld.isMap,pd=ld&&ld.isRegExp,qd=ld&&ld.isSet,rd=ld&&ld.isTypedArray,sd=C("length"),td=D($c),ud=D(_c),vd=D(ad),wd=function yd(a){function b(a){if(ji(a)&&!um(a)&&!(a instanceof u)){if(a instanceof d)return a;if(uk.call(a,"__wrapped__"))return gg(a)}return new d(a)}function c(){}function d(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=ea}function u(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ma,this.__views__=[]}function D(){var a=new u(this.__wrapped__);return a.__actions__=Oe(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Oe(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Oe(this.__views__),a}function Z(){if(this.__filtered__){var a=new u(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ba(){var a=this.__wrapped__.value(),b=this.__dir__,c=um(a),d=0>b,e=c?a.length:0,f=Ef(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Yk(i,this.__takeCount__);if(!c||!d&&e==i&&n==i)return ve(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Ga)q=u;else if(!u){if(t==Fa)continue a;break a}}o[m++]=q}return o}function ca(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Rb(){this.__data__=gl?gl(null):{},this.size=0}function bc(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function cc(a){var b=this.__data__;if(gl){var c=b[a];return c===ja?ea:c}return uk.call(b,a)?b[a]:ea}function dc(a){var b=this.__data__;return gl?b[a]!==ea:uk.call(b,a)}function ec(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=gl&&b===ea?ja:b,this}function fc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function gc(){this.__data__=[],this.size=0}function hc(a){var b=this.__data__,c=Gc(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():Ik.call(b,c,1),--this.size,!0}function ic(a){var b=this.__data__,c=Gc(b,a);return 0>c?ea:b[c][1]}function jc(a){return Gc(this.__data__,a)>-1}function kc(a,b){var c=this.__data__,d=Gc(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}function lc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function mc(){this.size=0,this.__data__={hash:new ca,map:new(cl||fc),string:new ca}}function nc(a){var b=Af(this,a)["delete"](a);return this.size-=b?1:0,b}function oc(a){return Af(this,a).get(a)}function pc(a){return Af(this,a).has(a)}function qc(a,b){var c=Af(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function rc(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new lc;++b<c;)this.add(a[b])}function sc(a){return this.__data__.set(a,ja),this}function tc(a){return this.__data__.has(a)}function uc(a){var b=this.__data__=new fc(a);this.size=b.size}function vc(){this.__data__=new fc,this.size=0}function wc(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}function xc(a){return this.__data__.get(a)}function yc(a){return this.__data__.has(a)}function zc(a,b){var c=this.__data__;if(c instanceof fc){var d=c.__data__;if(!cl||d.length<ga-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new lc(d)}return c.set(a,b),this.size=c.size,this}function Ac(a,b){var c=um(a),d=!c&&tm(a),e=!c&&!d&&wm(a),f=!c&&!d&&!e&&Bm(a),g=c||d||e||f,h=g?H(a.length,nk):[],i=h.length;for(var j in a)!b&&!uk.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Mf(j,i))||h.push(j);return h}function Bc(a){var b=a.length;return b?a[ce(0,b-1)]:ea}function Cc(a,b){return cg(Oe(a),Mc(b,0,a.length))}function Dc(a){return cg(Oe(a))}function Ec(a,b,c){(c!==ea&&!Xh(a[b],c)||c===ea&&!(b in a))&&Kc(a,b,c)}function Fc(a,b,c){var d=a[b];uk.call(a,b)&&Xh(d,c)&&(c!==ea||b in a)||Kc(a,b,c)}function Gc(a,b){for(var c=a.length;c--;)if(Xh(a[c][0],b))return c;return-1}function Hc(a,b,c,d){return sl(a,function(a,e,f){b(d,a,c(a),f)}),d}function Ic(a,b){return a&&Pe(b,Si(b),a)}function Jc(a,b){return a&&Pe(b,Ti(b),a)}function Kc(a,b,c){"__proto__"==b&&Mk?Mk(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Lc(a,b){for(var c=-1,d=b.length,e=gk(d),f=null==a;++c<d;)e[c]=f?ea:Pi(a,b[c]);return e}function Mc(a,b,c){return a===a&&(c!==ea&&(a=c>=a?a:c),b!==ea&&(a=a>=b?a:b)),a}function Nc(a,b,c,d,e,f){var g,h=b&ma,i=b&na,k=b&oa;if(c&&(g=e?c(a,d,e,f):c(a)),g!==ea)return g;if(!ii(a))return a;var l=um(a);if(l){if(g=Hf(a),!h)return Oe(a,g)}else{var m=El(a),n=m==Xa||m==Ya;if(wm(a))return Ce(a,h);if(m==ab||m==Qa||n&&!e){if(g=i||n?{}:If(a),!h)return i?Re(a,Jc(g,a)):Qe(a,Ic(g,a))}else{if(!Zc[m])return e?a:{};g=Jf(a,m,Nc,h)}}f||(f=new uc);var o=f.get(a);if(o)return o;f.set(a,g);var p=k?i?wf:vf:i?Ti:Si,q=l?ea:p(a);return j(q||a,function(d,e){q&&(e=d,d=a[e]),Fc(g,e,Nc(d,b,c,e,a,f))}),g}function Oc(a){var b=Si(a);return function(c){return Pc(c,a,b)}}function Pc(a,b,c){var d=c.length;if(null==a)return!d;for(a=lk(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===ea&&!(e in a)||!f(g))return!1}return!0}function Sc(a,b,c){if("function"!=typeof a)throw new ok(ia);return Hl(function(){a.apply(ea,c)},b)}function Tc(a,b,c,d){var e=-1,f=n,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=p(b,J(c))),d?(f=o,g=!1):b.length>=ga&&(f=L,g=!1,b=new rc(b));a:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l===l){for(var m=j;m--;)if(b[m]===l)continue a;i.push(k)}else f(b,l,d)||i.push(k)}return i}function Uc(a,b){var c=!0;return sl(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Vc(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===ea?g===g&&!ui(g):c(g,h)))var h=g,i=f}return i}function $c(a,b,c,d){var e=a.length;for(c=Ai(c),0>c&&(c=-c>e?0:e+c),d=d===ea||d>e?e:Ai(d),0>d&&(d+=e),d=c>d?0:Bi(d);d>c;)a[c++]=b;return a}function _c(a,b){var c=[];return sl(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function ad(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Lf),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?ad(h,b-1,c,d,e):q(e,h):d||(e[e.length]=h)}return e}function bd(a,b){return a&&ul(a,b,Si)}function ed(a,b){return a&&vl(a,b,Si)}function fd(a,b){return m(b,function(b){return fi(a[b])})}function hd(a,b){b=Ae(b,a);for(var c=0,d=b.length;null!=a&&d>c;)a=a[dg(b[c++])];return c&&c==d?a:ea}function id(a,b,c){var d=b(a);return um(a)?d:q(d,c(a))}function kd(a){return null==a?a===ea?hb:_a:Lk&&Lk in lk(a)?Df(a):Yf(a)}function ld(a,b){return a>b}function sd(a,b){return null!=a&&uk.call(a,b)}function wd(a,b){return null!=a&&b in lk(a)}function zd(a,b,c){return a>=Yk(b,c)&&a<Xk(b,c)}function Ad(a,b,c){for(var d=c?o:n,e=a[0].length,f=a.length,g=f,h=gk(f),i=1/0,j=[];g--;){var k=a[g];g&&b&&(k=p(k,J(b))),i=Yk(k.length,i),h[g]=!c&&(b||e>=120&&k.length>=120)?new rc(g&&k):ea}k=a[0];var l=-1,m=h[0];a:for(;++l<e&&j.length<i;){var q=k[l],r=b?b(q):q;if(q=c||0!==q?q:0,!(m?L(m,r):d(j,r,c))){for(g=f;--g;){var s=h[g];if(!(s?L(s,r):d(a[g],r,c)))continue a}m&&m.push(r),j.push(q)}}return j}function Bd(a,b,c,d){return bd(a,function(a,e,f){b(d,c(a),e,f)}),d}function Cd(a,b,c){b=Ae(b,a),a=$f(a,b);var d=null==a?a:a[dg(zg(b))];return null==d?ea:h(d,a,c)}function Dd(a){return ji(a)&&kd(a)==Qa}function Ed(a){return ji(a)&&kd(a)==kb}function Fd(a){return ji(a)&&kd(a)==Ua}function Gd(a,b,c,d,e){return a===b?!0:null==a||null==b||!ji(a)&&!ji(b)?a!==a&&b!==b:Hd(a,b,c,d,Gd,e)}function Hd(a,b,c,d,e,f){var g=um(a),h=um(b),i=g?Ra:El(a),j=h?Ra:El(b);i=i==Qa?ab:i,j=j==Qa?ab:j;var k=i==ab,l=j==ab,m=i==j;if(m&&wm(a)){if(!wm(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new uc),g||Bm(a)?rf(a,b,c,d,e,f):sf(a,b,i,c,d,e,f);if(!(c&pa)){var n=k&&uk.call(a,"__wrapped__"),o=l&&uk.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new uc),e(p,q,c,d,f)}}return m?(f||(f=new uc),tf(a,b,c,d,e,f)):!1}function Id(a){return ji(a)&&El(a)==Za}function Jd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=lk(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===ea&&!(i in a))return!1}else{var l=new uc;if(d)var m=d(j,k,i,a,b,l);if(!(m===ea?Gd(k,j,pa|qa,d,l):m))return!1}}return!0}function Kd(a){if(!ii(a)||Rf(a))return!1;var b=fi(a)?Ak:Xb;return b.test(eg(a))}function Ld(a){return ji(a)&&kd(a)==db}function Md(a){return ji(a)&&El(a)==eb}function Nd(a){return ji(a)&&hi(a.length)&&!!Yc[kd(a)]}function Od(a){return"function"==typeof a?a:null==a?Ij:"object"==("undefined"==typeof a?"undefined":e(a))?um(a)?Ud(a[0],a[1]):Td(a):Qj(a)}function Pd(a){if(!Sf(a))return Wk(a);var b=[];for(var c in lk(a))uk.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Qd(a){if(!ii(a))return Xf(a);var b=Sf(a),c=[];for(var d in a)("constructor"!=d||!b&&uk.call(a,d))&&c.push(d);return c}function Rd(a,b){return b>a}function Sd(a,b){var c=-1,d=Yh(a)?gk(a.length):[];return sl(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Td(a){var b=Bf(a);return 1==b.length&&b[0][2]?Uf(b[0][0],b[0][1]):function(c){return c===a||Jd(c,a,b)}}function Ud(a,b){return Of(a)&&Tf(b)?Uf(dg(a),b):function(c){var d=Pi(c,a);return d===ea&&d===b?Ri(c,a):Gd(b,d,pa|qa)}}function Vd(a,b,c,d,e){a!==b&&ul(b,function(f,g){if(ii(f))e||(e=new uc),Wd(a,b,g,c,Vd,d,e);else{var h=d?d(a[g],f,g+"",a,b,e):ea;h===ea&&(h=f),Ec(a,g,h)}},Ti)}function Wd(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void Ec(a,c,j);var k=f?f(h,i,c+"",a,b,g):ea,l=k===ea;if(l){var m=um(i),n=!m&&wm(i),o=!m&&!n&&Bm(i);k=i,m||n||o?um(h)?k=h:Zh(h)?k=Oe(h):n?(l=!1,k=Ce(i,!0)):o?(l=!1,k=Je(i,!0)):k=[]:ri(i)||tm(i)?(k=h,tm(h)?k=Di(h):(!ii(h)||d&&fi(h))&&(k=If(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g["delete"](i)),Ec(a,c,k)}function Xd(a,b){var c=a.length;if(c)return b+=0>b?c:0,Mf(b,c)?a[b]:ea}function Yd(a,b,c){var d=-1;b=p(b.length?b:[Ij],J(zf()));var e=Sd(a,function(a,c,e){var f=p(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return F(e,function(a,b){return Le(a,b,c)})}function Zd(a,b){return $d(a,b,function(b,c){return Ri(a,c)})}function $d(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=hd(a,g);c(h,g)&&ie(f,Ae(g,a),h)}return f}function _d(a){return function(b){return hd(b,a)}}function ae(a,b,c,d){var e=d?z:y,f=-1,g=b.length,h=a;for(a===b&&(b=Oe(b)),c&&(h=p(a,J(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&Ik.call(h,i,1),Ik.call(a,i,1);return a}function be(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;Mf(e)?Ik.call(a,e,1):se(a,e)}}return a}function ce(a,b){return a+Rk(_k()*(b-a+1))}function de(a,b,c,d){for(var e=-1,f=Xk(Qk((b-a)/(c||1)),0),g=gk(f);f--;)g[d?f:++e]=a,a+=c;return g}function ee(a,b){var c="";if(!a||1>b||b>Ja)return c;do b%2&&(c+=a),b=Rk(b/2),b&&(a+=a);while(b);return c}function fe(a,b){return Il(Zf(a,b,Ij),a+"")}function ge(a){return Bc(dj(a))}function he(a,b){var c=dj(a);return cg(c,Mc(b,0,c.length))}function ie(a,b,c,d){if(!ii(a))return a;b=Ae(b,a);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=dg(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):ea,j===ea&&(j=ii(k)?k:Mf(b[e+1])?[]:{})}Fc(h,i,j),h=h[i]}return a}function je(a){return cg(dj(a))}function ke(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=gk(e);++d<e;)f[d]=a[d+b];return f}function le(a,b){var c;return sl(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function me(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&Oa>=e){for(;e>d;){var f=d+e>>>1,g=a[f];null!==g&&!ui(g)&&(c?b>=g:b>g)?d=f+1:e=f}return e}return ne(a,b,Ij,c)}function ne(a,b,c,d){b=c(b);for(var e=0,f=null==a?0:a.length,g=b!==b,h=null===b,i=ui(b),j=b===ea;f>e;){var k=Rk((e+f)/2),l=c(a[k]),m=l!==ea,n=null===l,o=l===l,p=ui(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):n||p?!1:d?b>=l:b>l;q?e=k+1:f=k}return Yk(f,Na)}function oe(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Xh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function pe(a){return"number"==typeof a?a:ui(a)?La:+a}function qe(a){if("string"==typeof a)return a;if(um(a))return p(a,qe)+"";if(ui(a))return ql?ql.call(a):"";var b=a+"";return"0"==b&&1/a==-Ia?"-0":b}function re(a,b,c){var d=-1,e=n,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=o;else if(f>=ga){var j=b?null:Al(a);if(j)return X(j);g=!1,e=L,i=new rc}else i=b?[]:h;a:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l===l){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function se(a,b){return b=Ae(b,a),a=$f(a,b),null==a||delete a[dg(zg(b))]}function te(a,b,c,d){return ie(a,b,c(hd(a,b)),d)}function ue(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?ke(a,d?0:f,d?f+1:e):ke(a,d?f+1:0,d?e:f)}function ve(a,b){var c=a;return c instanceof u&&(c=c.value()),r(b,function(a,b){return b.func.apply(b.thisArg,q([a],b.args))},c)}function we(a,b,c){var d=a.length;if(2>d)return d?re(a[0]):[];for(var e=-1,f=gk(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=Tc(f[e]||g,a[h],b,c));return re(ad(f,1),b,c)}function xe(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=f>d?b[d]:ea;c(g,a[d],h)}return g}function ye(a){return Zh(a)?a:[]}function ze(a){return"function"==typeof a?a:Ij}function Ae(a,b){return um(a)?a:Of(a,b)?[a]:Jl(Fi(a))}function Be(a,b,c){var d=a.length;return c=c===ea?d:c,!b&&c>=d?a:ke(a,b,c)}function Ce(a,b){if(b)return a.slice();var c=a.length,d=Ek?Ek(c):new a.constructor(c);return a.copy(d),d}function De(a){var b=new a.constructor(a.byteLength);return new Dk(b).set(new Dk(a)),b}function Ee(a,b){var c=b?De(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Fe(a,b,c){var d=b?c(U(a),ma):U(a);return r(d,f,new a.constructor)}function Ge(a){
var b=new a.constructor(a.source,Ub.exec(a));return b.lastIndex=a.lastIndex,b}function He(a,b,c){var d=b?c(X(a),ma):X(a);return r(d,g,new a.constructor)}function Ie(a){return pl?lk(pl.call(a)):{}}function Je(a,b){var c=b?De(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function Ke(a,b){if(a!==b){var c=a!==ea,d=null===a,e=a===a,f=ui(a),g=b!==ea,h=null===b,i=b===b,j=ui(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&b>a||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Le(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=Ke(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function Me(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Xk(f-g,0),k=gk(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||f>e)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Ne(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Xk(f-h,0),l=gk(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||f>e)&&(l[n+c[g]]=a[e++]);return l}function Oe(a,b){var c=-1,d=a.length;for(b||(b=gk(d));++c<d;)b[c]=a[c];return b}function Pe(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):ea;i===ea&&(i=a[h]),e?Kc(c,h,i):Fc(c,h,i)}return c}function Qe(a,b){return Pe(a,Cl(a),b)}function Re(a,b){return Pe(a,Dl(a),b)}function Se(a,b){return function(c,d){var e=um(c)?i:Hc,f=b?b():{};return e(c,a,zf(d,2),f)}}function Te(a){return fe(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:ea,g=e>2?c[2]:ea;for(f=a.length>3&&"function"==typeof f?(e--,f):ea,g&&Nf(c[0],c[1],g)&&(f=3>e?ea:f,e=1),b=lk(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Ue(a,b){return function(c,d){if(null==c)return c;if(!Yh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=lk(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function Ve(a){return function(b,c,d){for(var e=-1,f=lk(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function We(a,b,c){function d(){var b=this&&this!==gd&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&ra,f=Ze(a);return d}function Xe(a){return function(b){b=Fi(b);var c=R(b)?aa(b):ea,d=c?c[0]:b.charAt(0),e=c?Be(c,1).join(""):b.slice(1);return d[a]()+e}}function Ye(a){return function(b){return r(Dj(jj(b).replace(Qc,"")),a,"")}}function Ze(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=rl(a.prototype),d=a.apply(c,b);return ii(d)?d:c}}function $e(a,b,c){function d(){for(var f=arguments.length,g=gk(f),i=f,j=yf(d);i--;)g[i]=arguments[i];var k=3>f&&g[0]!==j&&g[f-1]!==j?[]:W(g,j);if(f-=k.length,c>f)return kf(a,b,bf,d.placeholder,ea,g,k,ea,ea,c-f);var l=this&&this!==gd&&this instanceof d?e:a;return h(l,this,g)}var e=Ze(a);return d}function _e(a){return function(b,c,d){var e=lk(b);if(!Yh(b)){var f=zf(c,3);b=Si(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:ea}}function af(a){return uf(function(b){var c=b.length,e=c,f=d.prototype.thru;for(a&&b.reverse();e--;){var g=b[e];if("function"!=typeof g)throw new ok(ia);if(f&&!h&&"wrapper"==xf(g))var h=new d([],!0)}for(e=h?e:c;++e<c;){g=b[e];var i=xf(g),j="wrapper"==i?Bl(g):ea;h=j&&Qf(j[0])&&j[1]==(ya|ua|wa|za)&&!j[4].length&&1==j[9]?h[xf(j[0])].apply(h,j[3]):1==g.length&&Qf(g)?h[i]():h.thru(g)}return function(){var a=arguments,d=a[0];if(h&&1==a.length&&um(d))return h.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function bf(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=gk(r),t=r;t--;)s[t]=arguments[t];if(o)var u=yf(k),v=O(s,u);if(d&&(s=Me(s,d,e,o)),f&&(s=Ne(s,f,g,o)),r-=v,o&&j>r){var w=W(s,u);return kf(a,b,bf,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=_f(s,h):p&&r>1&&s.reverse(),l&&r>i&&(s.length=i),this&&this!==gd&&this instanceof k&&(y=q||Ze(y)),y.apply(x,s)}var l=b&ya,m=b&ra,n=b&sa,o=b&(ua|va),p=b&Aa,q=n?ea:Ze(a);return k}function cf(a,b){return function(c,d){return Bd(c,a,b(d),{})}}function df(a,b){return function(c,d){var e;if(c===ea&&d===ea)return b;if(c!==ea&&(e=c),d!==ea){if(e===ea)return d;"string"==typeof c||"string"==typeof d?(c=qe(c),d=qe(d)):(c=pe(c),d=pe(d)),e=a(c,d)}return e}}function ef(a){return uf(function(b){return b=p(b,J(zf())),fe(function(c){var d=this;return a(b,function(a){return h(a,d,c)})})})}function ff(a,b){b=b===ea?" ":qe(b);var c=b.length;if(2>c)return c?ee(b,a):b;var d=ee(b,Qk(a/_(b)));return R(b)?Be(aa(d),0,a).join(""):d.slice(0,a)}function gf(a,b,c,d){function e(){for(var b=-1,i=arguments.length,j=-1,k=d.length,l=gk(k+i),m=this&&this!==gd&&this instanceof e?g:a;++j<k;)l[j]=d[j];for(;i--;)l[j++]=arguments[++b];return h(m,f?c:this,l)}var f=b&ra,g=Ze(a);return e}function hf(a){return function(b,c,d){return d&&"number"!=typeof d&&Nf(b,c,d)&&(c=d=ea),b=zi(b),c===ea?(c=b,b=0):c=zi(c),d=d===ea?c>b?1:-1:zi(d),de(b,c,d,a)}}function jf(a){return function(b,c){return("string"!=typeof b||"string"!=typeof c)&&(b=Ci(b),c=Ci(c)),a(b,c)}}function kf(a,b,c,d,e,f,g,h,i,j){var k=b&ua,l=k?g:ea,m=k?ea:g,n=k?f:ea,o=k?ea:f;b|=k?wa:xa,b&=~(k?xa:wa),b&ta||(b&=~(ra|sa));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(ea,p);return Qf(a)&&Gl(q,p),q.placeholder=d,ag(q,a,b)}function lf(a){var b=kk[a];return function(a,c){if(a=Ci(a),c=null==c?0:Yk(Ai(c),292)){var d=(Fi(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(Fi(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function mf(a){return function(b){var c=El(b);return c==Za?U(b):c==eb?Y(b):I(b,a(b))}}function nf(a,b,c,d,e,f,g,h){var i=b&sa;if(!i&&"function"!=typeof a)throw new ok(ia);var j=d?d.length:0;if(j||(b&=~(wa|xa),d=e=ea),g=g===ea?g:Xk(Ai(g),0),h=h===ea?h:Ai(h),j-=e?e.length:0,b&xa){var k=d,l=e;d=e=ea}var m=i?ea:Bl(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Wf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=n[9]===ea?i?0:a.length:Xk(n[9]-j,0),!h&&b&(ua|va)&&(b&=~(ua|va)),b&&b!=ra)o=b==ua||b==va?$e(a,b,h):b!=wa&&b!=(ra|wa)||e.length?bf.apply(ea,n):gf(a,b,c,d);else var o=We(a,b,c);var p=m?wl:Gl;return ag(p(o,n),a,b)}function of(a,b,c,d){return a===ea||Xh(a,rk[c])&&!uk.call(d,c)?b:a}function pf(a,b,c,d,e,f){return ii(a)&&ii(b)&&(f.set(b,a),Vd(a,b,ea,pf,f),f["delete"](b)),a}function qf(a){return ri(a)?ea:a}function rf(a,b,c,d,e,f){var g=c&pa,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&qa?new rc:ea;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(p!==ea){if(p)continue;l=!1;break}if(m){if(!t(b,function(a,b){return L(m,b)||n!==a&&!e(n,a,c,d,f)?void 0:m.push(b)})){l=!1;break}}else if(n!==o&&!e(n,o,c,d,f)){l=!1;break}}return f["delete"](a),f["delete"](b),l}function sf(a,b,c,d,e,f,g){switch(c){case lb:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case kb:return a.byteLength==b.byteLength&&f(new Dk(a),new Dk(b))?!0:!1;case Ta:case Ua:case $a:return Xh(+a,+b);case Wa:return a.name==b.name&&a.message==b.message;case db:case fb:return a==b+"";case Za:var h=U;case eb:var i=d&pa;if(h||(h=X),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=qa,g.set(a,b);var k=rf(h(a),h(b),d,e,f,g);return g["delete"](a),k;case gb:if(pl)return pl.call(a)==pl.call(b)}return!1}function tf(a,b,c,d,e,f){var g=c&pa,h=vf(a),i=h.length,j=vf(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:uk.call(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===ea?q===r||e(q,r,c,d,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f["delete"](a),f["delete"](b),o}function uf(a){return Il(Zf(a,ea,rg),a+"")}function vf(a){return id(a,Si,Cl)}function wf(a){return id(a,Ti,Dl)}function xf(a){for(var b=a.name+"",c=il[b],d=uk.call(il,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function yf(a){var c=uk.call(b,"placeholder")?b:a;return c.placeholder}function zf(){var a=b.iteratee||Jj;return a=a===Jj?Od:a,arguments.length?a(arguments[0],arguments[1]):a}function Af(a,b){var c=a.__data__;return Pf(b)?c["string"==typeof b?"string":"hash"]:c.map}function Bf(a){for(var b=Si(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Tf(e)]}return b}function Cf(a,b){var c=Q(a,b);return Kd(c)?c:ea}function Df(a){var b=uk.call(a,Lk),c=a[Lk];try{a[Lk]=ea;var d=!0}catch(e){}var f=xk.call(a);return d&&(b?a[Lk]=c:delete a[Lk]),f}function Ef(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Yk(b,a+g);break;case"takeRight":a=Xk(a,b-g)}}return{start:a,end:b}}function Ff(a){var b=a.match(Pb);return b?b[1].split(Qb):[]}function Gf(a,b,c){b=Ae(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=dg(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:(e=null==a?0:a.length,!!e&&hi(e)&&Mf(g,e)&&(um(a)||tm(a)))}function Hf(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&uk.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function If(a){return"function"!=typeof a.constructor||Sf(a)?{}:rl(Fk(a))}function Jf(a,b,c,d){var e=a.constructor;switch(b){case kb:return De(a);case Ta:case Ua:return new e(+a);case lb:return Ee(a,d);case mb:case nb:case ob:case pb:case qb:case rb:case sb:case tb:case ub:return Je(a,d);case Za:return Fe(a,d,c);case $a:case fb:return new e(a);case db:return Ge(a);case eb:return He(a,d,c);case gb:return Ie(a)}}function Kf(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Ob,"{\n/* [wrapped with "+b+"] */\n")}function Lf(a){return um(a)||tm(a)||!!(Jk&&a&&a[Jk])}function Mf(a,b){return b=null==b?Ja:b,!!b&&("number"==typeof a||Zb.test(a))&&a>-1&&a%1==0&&b>a}function Nf(a,b,c){if(!ii(c))return!1;var d="undefined"==typeof b?"undefined":e(b);return("number"==d?Yh(c)&&Mf(b,c.length):"string"==d&&b in c)?Xh(c[b],a):!1}function Of(a,b){if(um(a))return!1;var c="undefined"==typeof a?"undefined":e(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||ui(a)?!0:Gb.test(a)||!Fb.test(a)||null!=b&&a in lk(b)}function Pf(a){var b="undefined"==typeof a?"undefined":e(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function Qf(a){var c=xf(a),d=b[c];if("function"!=typeof d||!(c in u.prototype))return!1;if(a===d)return!0;var e=Bl(d);return!!e&&a===e[0]}function Rf(a){return!!wk&&wk in a}function Sf(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||rk;return a===c}function Tf(a){return a===a&&!ii(a)}function Uf(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==ea||a in lk(c))}}function Vf(a){var b=Jh(a,function(a){return c.size===ka&&c.clear(),a}),c=b.cache;return b}function Wf(a,b){var c=a[1],d=b[1],e=c|d,f=(ra|sa|ya)>e,g=d==ya&&c==ua||d==ya&&c==za&&a[7].length<=b[8]||d==(ya|za)&&b[7].length<=b[8]&&c==ua;if(!f&&!g)return a;d&ra&&(a[2]=b[2],e|=c&ra?0:ta);var h=b[3];if(h){var i=a[3];a[3]=i?Me(i,h,b[4]):h,a[4]=i?W(a[3],la):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?Ne(i,h,b[6]):h,a[6]=i?W(a[5],la):b[6]),h=b[7],h&&(a[7]=h),d&ya&&(a[8]=null==a[8]?b[8]:Yk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Xf(a){var b=[];if(null!=a)for(var c in lk(a))b.push(c);return b}function Yf(a){return xk.call(a)}function Zf(a,b,c){return b=Xk(b===ea?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=Xk(d.length-b,0),g=gk(f);++e<f;)g[e]=d[b+e];e=-1;for(var i=gk(b+1);++e<b;)i[e]=d[e];return i[b]=c(g),h(a,this,i)}}function $f(a,b){return b.length<2?a:hd(a,ke(b,0,-1))}function _f(a,b){for(var c=a.length,d=Yk(b.length,c),e=Oe(a);d--;){var f=b[d];a[d]=Mf(f,c)?e[f]:ea}return a}function ag(a,b,c){var d=b+"";return Il(a,Kf(d,fg(Ff(d),c)))}function bg(a){var b=0,c=0;return function(){var d=Zk(),e=Ea-(d-c);if(c=d,e>0){if(++b>=Da)return arguments[0]}else b=0;return a.apply(ea,arguments)}}function cg(a,b){var c=-1,d=a.length,e=d-1;for(b=b===ea?d:b;++c<b;){var f=ce(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function dg(a){if("string"==typeof a||ui(a))return a;var b=a+"";return"0"==b&&1/a==-Ia?"-0":b}function eg(a){if(null!=a){try{return tk.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function fg(a,b){return j(Pa,function(c){var d="_."+c[0];b&c[1]&&!n(a,d)&&a.push(d)}),a.sort()}function gg(a){if(a instanceof u)return a.clone();var b=new d(a.__wrapped__,a.__chain__);return b.__actions__=Oe(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function hg(a,b,c){b=(c?Nf(a,b,c):b===ea)?1:Xk(Ai(b),0);var d=null==a?0:a.length;if(!d||1>b)return[];for(var e=0,f=0,g=gk(Qk(d/b));d>e;)g[f++]=ke(a,e,e+=b);return g}function ig(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function jg(){var a=arguments.length;if(!a)return[];for(var b=gk(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return q(um(c)?Oe(c):[c],ad(b,1))}function kg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),ke(a,0>b?0:b,d)):[]}function lg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),b=d-b,ke(a,0,0>b?0:b)):[]}function mg(a,b){return a&&a.length?ue(a,zf(b,3),!0,!0):[]}function ng(a,b){return a&&a.length?ue(a,zf(b,3),!0):[]}function og(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Nf(a,b,c)&&(c=0,d=e),$c(a,b,c,d)):[]}function pg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:Ai(c);return 0>e&&(e=Xk(d+e,0)),x(a,zf(b,3),e)}function qg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==ea&&(e=Ai(c),e=0>c?Xk(d+e,0):Yk(e,d-1)),x(a,zf(b,3),e,!0)}function rg(a){var b=null==a?0:a.length;return b?ad(a,1):[]}function sg(a){var b=null==a?0:a.length;return b?ad(a,Ia):[]}function tg(a,b){var c=null==a?0:a.length;return c?(b=b===ea?1:Ai(b),ad(a,b)):[]}function ug(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function vg(a){return a&&a.length?a[0]:ea}function wg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:Ai(c);return 0>e&&(e=Xk(d+e,0)),y(a,b,e)}function xg(a){var b=null==a?0:a.length;return b?ke(a,0,-1):[]}function yg(a,b){return null==a?"":Vk.call(a,b)}function zg(a){var b=null==a?0:a.length;return b?a[b-1]:ea}function Ag(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==ea&&(e=Ai(c),e=0>e?Xk(d+e,0):Yk(e,d-1)),b===b?$(a,b,e):x(a,A,e,!0)}function Bg(a,b){return a&&a.length?Xd(a,Ai(b)):ea}function Cg(a,b){return a&&a.length&&b&&b.length?ae(a,b):a}function Dg(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,zf(c,2)):a}function Eg(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,ea,c):a}function Fg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=zf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return be(a,e),c}function Gg(a){return null==a?a:al.call(a)}function Hg(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Nf(a,b,c)?(b=0,c=d):(b=null==b?0:Ai(b),c=c===ea?d:Ai(c)),ke(a,b,c)):[]}function Ig(a,b){return me(a,b)}function Jg(a,b,c){return ne(a,b,zf(c,2))}function Kg(a,b){var c=null==a?0:a.length;if(c){var d=me(a,b);if(c>d&&Xh(a[d],b))return d}return-1}function Lg(a,b){return me(a,b,!0)}function Mg(a,b,c){return ne(a,b,zf(c,2),!0)}function Ng(a,b){var c=null==a?0:a.length;if(c){var d=me(a,b,!0)-1;if(Xh(a[d],b))return d}return-1}function Og(a){return a&&a.length?oe(a):[]}function Pg(a,b){return a&&a.length?oe(a,zf(b,2)):[]}function Qg(a){var b=null==a?0:a.length;return b?ke(a,1,b):[]}function Rg(a,b,c){return a&&a.length?(b=c||b===ea?1:Ai(b),ke(a,0,0>b?0:b)):[]}function Sg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),b=d-b,ke(a,0>b?0:b,d)):[]}function Tg(a,b){return a&&a.length?ue(a,zf(b,3),!1,!0):[]}function Ug(a,b){return a&&a.length?ue(a,zf(b,3)):[]}function Vg(a){return a&&a.length?re(a):[]}function Wg(a,b){return a&&a.length?re(a,zf(b,2)):[]}function Xg(a,b){return b="function"==typeof b?b:ea,a&&a.length?re(a,ea,b):[]}function Yg(a){if(!a||!a.length)return[];var b=0;return a=m(a,function(a){return Zh(a)?(b=Xk(a.length,b),!0):void 0}),H(b,function(b){return p(a,C(b))})}function Zg(a,b){if(!a||!a.length)return[];var c=Yg(a);return null==b?c:p(c,function(a){return h(b,ea,a)})}function $g(a,b){return xe(a||[],b||[],Fc)}function _g(a,b){return xe(a||[],b||[],ie)}function ah(a){var c=b(a);return c.__chain__=!0,c}function bh(a,b){return b(a),a}function ch(a,b){return b(a)}function dh(){return ah(this)}function eh(){return new d(this.value(),this.__chain__)}function fh(){this.__values__===ea&&(this.__values__=yi(this.value()));var a=this.__index__>=this.__values__.length,b=a?ea:this.__values__[this.__index__++];return{done:a,value:b}}function gh(){return this}function hh(a){for(var b,d=this;d instanceof c;){var e=gg(d);e.__index__=0,e.__values__=ea,b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function ih(){var a=this.__wrapped__;if(a instanceof u){var b=a;return this.__actions__.length&&(b=new u(this)),b=b.reverse(),b.__actions__.push({func:ch,args:[Gg],thisArg:ea}),new d(b,this.__chain__)}return this.thru(Gg)}function jh(){return ve(this.__wrapped__,this.__actions__)}function kh(a,b,c){var d=um(a)?l:Uc;return c&&Nf(a,b,c)&&(b=ea),d(a,zf(b,3))}function lh(a,b){var c=um(a)?m:_c;return c(a,zf(b,3))}function mh(a,b){return ad(sh(a,b),1)}function nh(a,b){return ad(sh(a,b),Ia)}function oh(a,b,c){return c=c===ea?1:Ai(c),ad(sh(a,b),c)}function ph(a,b){var c=um(a)?j:sl;return c(a,zf(b,3))}function qh(a,b){var c=um(a)?k:tl;return c(a,zf(b,3))}function rh(a,b,c,d){a=Yh(a)?a:dj(a),c=c&&!d?Ai(c):0;var e=a.length;return 0>c&&(c=Xk(e+c,0)),ti(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&y(a,b,c)>-1}function sh(a,b){var c=um(a)?p:Sd;return c(a,zf(b,3))}function th(a,b,c,d){return null==a?[]:(um(b)||(b=null==b?[]:[b]),c=d?ea:c,um(c)||(c=null==c?[]:[c]),Yd(a,b,c))}function uh(a,b,c){var d=um(a)?r:E,e=arguments.length<3;return d(a,zf(b,4),c,e,sl)}function vh(a,b,c){var d=um(a)?s:E,e=arguments.length<3;return d(a,zf(b,4),c,e,tl)}function wh(a,b){var c=um(a)?m:_c;return c(a,Kh(zf(b,3)))}function xh(a){var b=um(a)?Bc:ge;return b(a)}function yh(a,b,c){b=(c?Nf(a,b,c):b===ea)?1:Ai(b);var d=um(a)?Cc:he;return d(a,b)}function zh(a){var b=um(a)?Dc:je;return b(a)}function Ah(a){if(null==a)return 0;if(Yh(a))return ti(a)?_(a):a.length;var b=El(a);return b==Za||b==eb?a.size:Pd(a).length}function Bh(a,b,c){var d=um(a)?t:le;return c&&Nf(a,b,c)&&(b=ea),d(a,zf(b,3))}function Ch(a,b){if("function"!=typeof b)throw new ok(ia);return a=Ai(a),function(){return--a<1?b.apply(this,arguments):void 0}}function Dh(a,b,c){return b=c?ea:b,b=a&&null==b?a.length:b,nf(a,ya,ea,ea,ea,ea,b)}function Eh(a,b){var c;if("function"!=typeof b)throw new ok(ia);return a=Ai(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=ea),c}}function Fh(a,b,c){b=c?ea:b;var d=nf(a,ua,ea,ea,ea,ea,ea,b);return d.placeholder=Fh.placeholder,d}function Gh(a,b,c){b=c?ea:b;var d=nf(a,va,ea,ea,ea,ea,ea,b);return d.placeholder=Gh.placeholder,d}function Hh(a,b,c){function d(b){var c=m,d=n;return m=n=ea,s=b,p=a.apply(d,c)}function e(a){return s=a,q=Hl(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?Yk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===ea||c>=b||0>c||u&&d>=o}function h(){var a=im();return g(a)?i(a):void(q=Hl(h,f(a)))}function i(a){return q=ea,v&&m?d(a):(m=n=ea,p)}function j(){q!==ea&&zl(q),s=0,m=r=n=q=ea}function k(){return q===ea?p:i(im())}function l(){var a=im(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===ea)return e(r);if(u)return q=Hl(h,b),d(r)}return q===ea&&(q=Hl(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new ok(ia);return b=Ci(b)||0,ii(c)&&(t=!!c.leading,u="maxWait"in c,o=u?Xk(Ci(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function Ih(a){return nf(a,Aa)}function Jh(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new ok(ia);var c=function d(){var c=arguments,e=b?b.apply(this,c):c[0],f=d.cache;if(f.has(e))return f.get(e);var g=a.apply(this,c);return d.cache=f.set(e,g)||f,g};return c.cache=new(Jh.Cache||lc),c}function Kh(a){if("function"!=typeof a)throw new ok(ia);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Lh(a){return Eh(2,a)}function Mh(a,b){if("function"!=typeof a)throw new ok(ia);return b=b===ea?b:Ai(b),fe(a,b)}function Nh(a,b){if("function"!=typeof a)throw new ok(ia);return b=null==b?0:Xk(Ai(b),0),fe(function(c){var d=c[b],e=Be(c,0,b);return d&&q(e,d),h(a,this,e)})}function Oh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ok(ia);return ii(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Hh(a,b,{leading:d,maxWait:b,trailing:e})}function Ph(a){return Dh(a,1)}function Qh(a,b){return om(ze(b),a)}function Rh(){if(!arguments.length)return[];var a=arguments[0];return um(a)?a:[a]}function Sh(a){return Nc(a,oa)}function Th(a,b){return b="function"==typeof b?b:ea,Nc(a,oa,b)}function Uh(a){return Nc(a,ma|oa)}function Vh(a,b){return b="function"==typeof b?b:ea,Nc(a,ma|oa,b)}function Wh(a,b){return null==b||Pc(a,b,Si(b))}function Xh(a,b){return a===b||a!==a&&b!==b}function Yh(a){return null!=a&&hi(a.length)&&!fi(a)}function Zh(a){return ji(a)&&Yh(a)}function $h(a){return a===!0||a===!1||ji(a)&&kd(a)==Ta}function _h(a){return ji(a)&&1===a.nodeType&&!ri(a)}function ai(a){if(null==a)return!0;if(Yh(a)&&(um(a)||"string"==typeof a||"function"==typeof a.splice||wm(a)||Bm(a)||tm(a)))return!a.length;var b=El(a);if(b==Za||b==eb)return!a.size;if(Sf(a))return!Pd(a).length;for(var c in a)if(uk.call(a,c))return!1;return!0}function bi(a,b){return Gd(a,b)}function ci(a,b,c){c="function"==typeof c?c:ea;var d=c?c(a,b):ea;return d===ea?Gd(a,b,ea,c):!!d}function di(a){if(!ji(a))return!1;var b=kd(a);return b==Wa||b==Va||"string"==typeof a.message&&"string"==typeof a.name&&!ri(a)}function ei(a){return"number"==typeof a&&Uk(a)}function fi(a){if(!ii(a))return!1;var b=kd(a);return b==Xa||b==Ya||b==Sa||b==cb}function gi(a){return"number"==typeof a&&a==Ai(a)}function hi(a){return"number"==typeof a&&a>-1&&a%1==0&&Ja>=a}function ii(a){var b="undefined"==typeof a?"undefined":e(a);return null!=a&&("object"==b||"function"==b)}function ji(a){return null!=a&&"object"==("undefined"==typeof a?"undefined":e(a))}function ki(a,b){return a===b||Jd(a,b,Bf(b))}function li(a,b,c){return c="function"==typeof c?c:ea,Jd(a,b,Bf(b),c)}function mi(a){return qi(a)&&a!=+a}function ni(a){if(Fl(a))throw new ik(ha);return Kd(a)}function oi(a){return null===a}function pi(a){return null==a}function qi(a){return"number"==typeof a||ji(a)&&kd(a)==$a}function ri(a){if(!ji(a)||kd(a)!=ab)return!1;var b=Fk(a);if(null===b)return!0;var c=uk.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&tk.call(c)==yk}function si(a){return gi(a)&&a>=-Ja&&Ja>=a}function ti(a){return"string"==typeof a||!um(a)&&ji(a)&&kd(a)==fb}function ui(a){return"symbol"==("undefined"==typeof a?"undefined":e(a))||ji(a)&&kd(a)==gb}function vi(a){return a===ea}function wi(a){return ji(a)&&El(a)==ib}function xi(a){return ji(a)&&kd(a)==jb}function yi(a){if(!a)return[];if(Yh(a))return ti(a)?aa(a):Oe(a);if(Kk&&a[Kk])return T(a[Kk]());var b=El(a),c=b==Za?U:b==eb?X:dj;return c(a)}function zi(a){if(!a)return 0===a?a:0;if(a=Ci(a),a===Ia||a===-Ia){var b=0>a?-1:1;return b*Ka}return a===a?a:0}function Ai(a){var b=zi(a),c=b%1;return b===b?c?b-c:b:0}function Bi(a){return a?Mc(Ai(a),0,Ma):0}function Ci(a){if("number"==typeof a)return a;if(ui(a))return La;if(ii(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=ii(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Lb,"");var c=Wb.test(a);return c||Yb.test(a)?dd(a.slice(2),c?2:8):Vb.test(a)?La:+a}function Di(a){return Pe(a,Ti(a))}function Ei(a){return a?Mc(Ai(a),-Ja,Ja):0===a?a:0}function Fi(a){return null==a?"":qe(a)}function Gi(a,b){var c=rl(a);return null==b?c:Ic(c,b)}function Hi(a,b){return w(a,zf(b,3),bd)}function Ii(a,b){return w(a,zf(b,3),ed)}function Ji(a,b){return null==a?a:ul(a,zf(b,3),Ti)}function Ki(a,b){return null==a?a:vl(a,zf(b,3),Ti)}function Li(a,b){return a&&bd(a,zf(b,3))}function Mi(a,b){return a&&ed(a,zf(b,3))}function Ni(a){return null==a?[]:fd(a,Si(a))}function Oi(a){return null==a?[]:fd(a,Ti(a))}function Pi(a,b,c){var d=null==a?ea:hd(a,b);return d===ea?c:d}function Qi(a,b){return null!=a&&Gf(a,b,sd)}function Ri(a,b){return null!=a&&Gf(a,b,wd)}function Si(a){return Yh(a)?Ac(a):Pd(a)}function Ti(a){return Yh(a)?Ac(a,!0):Qd(a)}function Ui(a,b){var c={};return b=zf(b,3),bd(a,function(a,d,e){Kc(c,b(a,d,e),a)}),c}function Vi(a,b){var c={};return b=zf(b,3),bd(a,function(a,d,e){Kc(c,d,b(a,d,e))}),c}function Wi(a,b){return Xi(a,Kh(zf(b)))}function Xi(a,b){if(null==a)return{};var c=p(wf(a),function(a){return[a]});return b=zf(b),$d(a,c,function(a,c){return b(a,c[0])})}function Yi(a,b,c){b=Ae(b,a);var d=-1,e=b.length;for(e||(e=1,a=ea);++d<e;){var f=null==a?ea:a[dg(b[d])];f===ea&&(d=e,f=c),a=fi(f)?f.call(a):f}return a}function Zi(a,b,c){return null==a?a:ie(a,b,c)}function $i(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:ie(a,b,c,d)}function _i(a,b,c){var d=um(a),e=d||wm(a)||Bm(a);if(b=zf(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:ii(a)&&fi(f)?rl(Fk(a)):{}}return(e?j:bd)(a,function(a,d,e){return b(c,a,d,e)}),c}function aj(a,b){return null==a?!0:se(a,b)}function bj(a,b,c){return null==a?a:te(a,b,ze(c))}function cj(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:te(a,b,ze(c),d)}function dj(a){return null==a?[]:K(a,Si(a))}function ej(a){return null==a?[]:K(a,Ti(a))}function fj(a,b,c){return c===ea&&(c=b,b=ea),c!==ea&&(c=Ci(c),c=c===c?c:0),b!==ea&&(b=Ci(b),b=b===b?b:0),Mc(Ci(a),b,c)}function gj(a,b,c){return b=zi(b),c===ea?(c=b,b=0):c=zi(c),a=Ci(a),zd(a,b,c)}function hj(a,b,c){if(c&&"boolean"!=typeof c&&Nf(a,b,c)&&(b=c=ea),c===ea&&("boolean"==typeof b?(c=b,b=ea):"boolean"==typeof a&&(c=a,a=ea)),a===ea&&b===ea?(a=0,b=1):(a=zi(a),b===ea?(b=a,a=0):b=zi(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=_k();return Yk(a+e*(b-a+cd("1e-"+((e+"").length-1))),b)}return ce(a,b)}function ij(a){return _m(Fi(a).toLowerCase())}function jj(a){return a=Fi(a),a&&a.replace($b,td).replace(Rc,"")}function kj(a,b,c){a=Fi(a),b=qe(b);var d=a.length;c=c===ea?d:Mc(Ai(c),0,d);var e=c;return c-=b.length,c>=0&&a.slice(c,e)==b}function lj(a){return a=Fi(a),a&&Bb.test(a)?a.replace(zb,ud):a}function mj(a){return a=Fi(a),a&&Kb.test(a)?a.replace(Jb,"\\$&"):a}function nj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return ff(Rk(e),c)+a+ff(Qk(e),c)}function oj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;return b&&b>d?a+ff(b-d,c):a}function pj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;return b&&b>d?ff(b-d,c)+a:a}function qj(a,b,c){return c||null==b?b=0:b&&(b=+b),$k(Fi(a).replace(Mb,""),b||0)}function rj(a,b,c){return b=(c?Nf(a,b,c):b===ea)?1:Ai(b),ee(Fi(a),b)}function sj(){var a=arguments,b=Fi(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function tj(a,b,c){return c&&"number"!=typeof c&&Nf(a,b,c)&&(b=c=ea),(c=c===ea?Ma:c>>>0)?(a=Fi(a),a&&("string"==typeof b||null!=b&&!zm(b))&&(b=qe(b),!b&&R(a))?Be(aa(a),0,c):a.split(b,c)):[]}function uj(a,b,c){return a=Fi(a),c=null==c?0:Mc(Ai(c),0,a.length),b=qe(b),a.slice(c,c+b.length)==b}function vj(a,c,d){var e=b.templateSettings;d&&Nf(a,c,d)&&(c=ea),a=Fi(a),c=Gm({},c,e,of);var f,g,h=Gm({},c.imports,e.imports,of),i=Si(h),j=K(h,i),k=0,l=c.interpolate||_b,m="__p += '",n=mk((c.escape||_b).source+"|"+l.source+"|"+(l===Eb?Tb:_b).source+"|"+(c.evaluate||_b).source+"|$","g"),o="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Xc+"]")+"\n";a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(ac,P),c&&(f=!0,m+="' +\n__e("+c+") +\n'"),h&&(g=!0,m+="';\n"+h+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=c.variable;p||(m="with (obj) {\n"+m+"\n}\n"),m=(g?m.replace(vb,""):m).replace(wb,"$1").replace(xb,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q=an(function(){return jk(i,o+"return "+m).apply(ea,j)});if(q.source=m,di(q))throw q;return q}function wj(a){return Fi(a).toLowerCase()}function xj(a){return Fi(a).toUpperCase()}function yj(a,b,c){if(a=Fi(a),a&&(c||b===ea))return a.replace(Lb,"");if(!a||!(b=qe(b)))return a;var d=aa(a),e=aa(b),f=M(d,e),g=N(d,e)+1;return Be(d,f,g).join("")}function zj(a,b,c){if(a=Fi(a),a&&(c||b===ea))return a.replace(Nb,"");if(!a||!(b=qe(b)))return a;var d=aa(a),e=N(d,aa(b))+1;return Be(d,0,e).join("")}function Aj(a,b,c){if(a=Fi(a),a&&(c||b===ea))return a.replace(Mb,"");if(!a||!(b=qe(b)))return a;var d=aa(a),e=M(d,aa(b));return Be(d,e).join("")}function Bj(a,b){var c=Ba,d=Ca;if(ii(b)){var e="separator"in b?b.separator:e;c="length"in b?Ai(b.length):c,d="omission"in b?qe(b.omission):d}a=Fi(a);var f=a.length;if(R(a)){var g=aa(a);f=g.length}if(c>=f)return a;var h=c-_(d);if(1>h)return d;var i=g?Be(g,0,h).join(""):a.slice(0,h);if(e===ea)return i+d;if(g&&(h+=i.length-h),zm(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=mk(e.source,Fi(Ub.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===ea?h:l)}}else if(a.indexOf(qe(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function Cj(a){return a=Fi(a),a&&Ab.test(a)?a.replace(yb,vd):a}function Dj(a,b,c){return a=Fi(a),b=c?ea:b,b===ea?S(a)?da(a):v(a):a.match(b)||[]}function Ej(a){var b=null==a?0:a.length,c=zf();return a=b?p(a,function(a){if("function"!=typeof a[1])throw new ok(ia);return[c(a[0]),a[1]]}):[],fe(function(c){for(var d=-1;++d<b;){var e=a[d];if(h(e[0],this,c))return h(e[1],this,c)}})}function Fj(a){return Oc(Nc(a,ma))}function Gj(a){return function(){return a}}function Hj(a,b){return null==a||a!==a?b:a}function Ij(a){return a}function Jj(a){return Od("function"==typeof a?a:Nc(a,ma))}function Kj(a){return Td(Nc(a,ma))}function Lj(a,b){return Ud(a,Nc(b,ma))}function Mj(a,b,c){var d=Si(b),e=fd(b,d);null!=c||ii(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=fd(b,Si(b)));var f=!(ii(c)&&"chain"in c&&!c.chain),g=fi(a);return j(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__),e=c.__actions__=Oe(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,q([this.value()],arguments))})}),a}function Nj(){return gd._===this&&(gd._=zk),this}function Oj(){}function Pj(a){return a=Ai(a),fe(function(b){return Xd(b,a)})}function Qj(a){return Of(a)?C(dg(a)):_d(a)}function Rj(a){return function(b){return null==a?ea:hd(a,b)}}function Sj(){return[]}function Tj(){return!1}function Uj(){return{}}function Vj(){return""}function Wj(){return!0}function Xj(a,b){if(a=Ai(a),1>a||a>Ja)return[];var c=Ma,d=Yk(a,Ma);b=zf(b),a-=Ma;for(var e=H(d,b);++c<a;)b(c);return e}function Yj(a){return um(a)?p(a,dg):ui(a)?[a]:Oe(Jl(Fi(a)))}function Zj(a){var b=++vk;return Fi(a)+b}function $j(a){return a&&a.length?Vc(a,Ij,ld):ea}function _j(a,b){return a&&a.length?Vc(a,zf(b,2),ld):ea}function ak(a){return B(a,Ij)}function bk(a,b){return B(a,zf(b,2))}function ck(a){return a&&a.length?Vc(a,Ij,Rd):ea}function dk(a,b){return a&&a.length?Vc(a,zf(b,2),Rd):ea}function ek(a){return a&&a.length?G(a,Ij):0}function fk(a,b){return a&&a.length?G(a,zf(b,2)):0}a=null==a?gd:xd.defaults(gd.Object(),a,xd.pick(gd,Wc));
var gk=a.Array,hk=a.Date,ik=a.Error,jk=a.Function,kk=a.Math,lk=a.Object,mk=a.RegExp,nk=a.String,ok=a.TypeError,pk=gk.prototype,qk=jk.prototype,rk=lk.prototype,sk=a["__core-js_shared__"],tk=qk.toString,uk=rk.hasOwnProperty,vk=0,wk=function(){var a=/[^.]+$/.exec(sk&&sk.keys&&sk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),xk=rk.toString,yk=tk.call(lk),zk=gd._,Ak=mk("^"+tk.call(uk).replace(Jb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bk=jd?a.Buffer:ea,Ck=a.Symbol,Dk=a.Uint8Array,Ek=Bk?Bk.allocUnsafe:ea,Fk=V(lk.getPrototypeOf,lk),Gk=lk.create,Hk=rk.propertyIsEnumerable,Ik=pk.splice,Jk=Ck?Ck.isConcatSpreadable:ea,Kk=Ck?Ck.iterator:ea,Lk=Ck?Ck.toStringTag:ea,Mk=function(){try{var a=Cf(lk,"defineProperty");return a({},"",{}),a}catch(b){}}(),Nk=a.clearTimeout!==gd.clearTimeout&&a.clearTimeout,Ok=hk&&hk.now!==gd.Date.now&&hk.now,Pk=a.setTimeout!==gd.setTimeout&&a.setTimeout,Qk=kk.ceil,Rk=kk.floor,Sk=lk.getOwnPropertySymbols,Tk=Bk?Bk.isBuffer:ea,Uk=a.isFinite,Vk=pk.join,Wk=V(lk.keys,lk),Xk=kk.max,Yk=kk.min,Zk=hk.now,$k=a.parseInt,_k=kk.random,al=pk.reverse,bl=Cf(a,"DataView"),cl=Cf(a,"Map"),dl=Cf(a,"Promise"),el=Cf(a,"Set"),fl=Cf(a,"WeakMap"),gl=Cf(lk,"create"),hl=fl&&new fl,il={},jl=eg(bl),kl=eg(cl),ll=eg(dl),ml=eg(el),nl=eg(fl),ol=Ck?Ck.prototype:ea,pl=ol?ol.valueOf:ea,ql=ol?ol.toString:ea,rl=function(){function a(){}return function(b){if(!ii(b))return{};if(Gk)return Gk(b);a.prototype=b;var c=new a;return a.prototype=ea,c}}();b.templateSettings={escape:Cb,evaluate:Db,interpolate:Eb,variable:"",imports:{_:b}},b.prototype=c.prototype,b.prototype.constructor=b,d.prototype=rl(c.prototype),d.prototype.constructor=d,u.prototype=rl(c.prototype),u.prototype.constructor=u,ca.prototype.clear=Rb,ca.prototype["delete"]=bc,ca.prototype.get=cc,ca.prototype.has=dc,ca.prototype.set=ec,fc.prototype.clear=gc,fc.prototype["delete"]=hc,fc.prototype.get=ic,fc.prototype.has=jc,fc.prototype.set=kc,lc.prototype.clear=mc,lc.prototype["delete"]=nc,lc.prototype.get=oc,lc.prototype.has=pc,lc.prototype.set=qc,rc.prototype.add=rc.prototype.push=sc,rc.prototype.has=tc,uc.prototype.clear=vc,uc.prototype["delete"]=wc,uc.prototype.get=xc,uc.prototype.has=yc,uc.prototype.set=zc;var sl=Ue(bd),tl=Ue(ed,!0),ul=Ve(),vl=Ve(!0),wl=hl?function(a,b){return hl.set(a,b),a}:Ij,xl=Mk?function(a,b){return Mk(a,"toString",{configurable:!0,enumerable:!1,value:Gj(b),writable:!0})}:Ij,yl=fe,zl=Nk||function(a){return gd.clearTimeout(a)},Al=el&&1/X(new el([,-0]))[1]==Ia?function(a){return new el(a)}:Oj,Bl=hl?function(a){return hl.get(a)}:Oj,Cl=Sk?function(a){return null==a?[]:(a=lk(a),m(Sk(a),function(b){return Hk.call(a,b)}))}:Sj,Dl=Sk?function(a){for(var b=[];a;)q(b,Cl(a)),a=Fk(a);return b}:Sj,El=kd;(bl&&El(new bl(new ArrayBuffer(1)))!=lb||cl&&El(new cl)!=Za||dl&&El(dl.resolve())!=bb||el&&El(new el)!=eb||fl&&El(new fl)!=ib)&&(El=function(a){var b=kd(a),c=b==ab?a.constructor:ea,d=c?eg(c):"";if(d)switch(d){case jl:return lb;case kl:return Za;case ll:return bb;case ml:return eb;case nl:return ib}return b});var Fl=sk?fi:Tj,Gl=bg(wl),Hl=Pk||function(a,b){return gd.setTimeout(a,b)},Il=bg(xl),Jl=Vf(function(a){var b=[];return Hb.test(a)&&b.push(""),a.replace(Ib,function(a,c,d,e){b.push(d?e.replace(Sb,"$1"):c||a)}),b}),Kl=fe(function(a,b){return Zh(a)?Tc(a,ad(b,1,Zh,!0)):[]}),Ll=fe(function(a,b){var c=zg(b);return Zh(c)&&(c=ea),Zh(a)?Tc(a,ad(b,1,Zh,!0),zf(c,2)):[]}),Ml=fe(function(a,b){var c=zg(b);return Zh(c)&&(c=ea),Zh(a)?Tc(a,ad(b,1,Zh,!0),ea,c):[]}),Nl=fe(function(a){var b=p(a,ye);return b.length&&b[0]===a[0]?Ad(b):[]}),Ol=fe(function(a){var b=zg(a),c=p(a,ye);return b===zg(c)?b=ea:c.pop(),c.length&&c[0]===a[0]?Ad(c,zf(b,2)):[]}),Pl=fe(function(a){var b=zg(a),c=p(a,ye);return b="function"==typeof b?b:ea,b&&c.pop(),c.length&&c[0]===a[0]?Ad(c,ea,b):[]}),Ql=fe(Cg),Rl=uf(function(a,b){var c=null==a?0:a.length,d=Lc(a,b);return be(a,p(b,function(a){return Mf(a,c)?+a:a}).sort(Ke)),d}),Sl=fe(function(a){return re(ad(a,1,Zh,!0))}),Tl=fe(function(a){var b=zg(a);return Zh(b)&&(b=ea),re(ad(a,1,Zh,!0),zf(b,2))}),Ul=fe(function(a){var b=zg(a);return b="function"==typeof b?b:ea,re(ad(a,1,Zh,!0),ea,b)}),Vl=fe(function(a,b){return Zh(a)?Tc(a,b):[]}),Wl=fe(function(a){return we(m(a,Zh))}),Xl=fe(function(a){var b=zg(a);return Zh(b)&&(b=ea),we(m(a,Zh),zf(b,2))}),Yl=fe(function(a){var b=zg(a);return b="function"==typeof b?b:ea,we(m(a,Zh),ea,b)}),Zl=fe(Yg),$l=fe(function(a){var b=a.length,c=b>1?a[b-1]:ea;return c="function"==typeof c?(a.pop(),c):ea,Zg(a,c)}),_l=uf(function(a){var b=a.length,c=b?a[0]:0,e=this.__wrapped__,f=function(b){return Lc(b,a)};return!(b>1||this.__actions__.length)&&e instanceof u&&Mf(c)?(e=e.slice(c,+c+(b?1:0)),e.__actions__.push({func:ch,args:[f],thisArg:ea}),new d(e,this.__chain__).thru(function(a){return b&&!a.length&&a.push(ea),a})):this.thru(f)}),am=Se(function(a,b,c){uk.call(a,c)?++a[c]:Kc(a,c,1)}),bm=_e(pg),cm=_e(qg),dm=Se(function(a,b,c){uk.call(a,c)?a[c].push(b):Kc(a,c,[b])}),em=fe(function(a,b,c){var d=-1,e="function"==typeof b,f=Yh(a)?gk(a.length):[];return sl(a,function(a){f[++d]=e?h(b,a,c):Cd(a,b,c)}),f}),fm=Se(function(a,b,c){Kc(a,c,b)}),gm=Se(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),hm=fe(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Nf(a,b[0],b[1])?b=[]:c>2&&Nf(b[0],b[1],b[2])&&(b=[b[0]]),Yd(a,ad(b,1),[])}),im=Ok||function(){return gd.Date.now()},jm=fe(function(a,b,c){var d=ra;if(c.length){var e=W(c,yf(jm));d|=wa}return nf(a,d,b,c,e)}),km=fe(function(a,b,c){var d=ra|sa;if(c.length){var e=W(c,yf(km));d|=wa}return nf(b,d,a,c,e)}),lm=fe(function(a,b){return Sc(a,1,b)}),mm=fe(function(a,b,c){return Sc(a,Ci(b)||0,c)});Jh.Cache=lc;var nm=yl(function(a,b){b=1==b.length&&um(b[0])?p(b[0],J(zf())):p(ad(b,1),J(zf()));var c=b.length;return fe(function(d){for(var e=-1,f=Yk(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return h(a,this,d)})}),om=fe(function(a,b){var c=W(b,yf(om));return nf(a,wa,ea,b,c)}),pm=fe(function(a,b){var c=W(b,yf(pm));return nf(a,xa,ea,b,c)}),qm=uf(function(a,b){return nf(a,za,ea,ea,ea,b)}),rm=jf(ld),sm=jf(function(a,b){return a>=b}),tm=Dd(function(){return arguments}())?Dd:function(a){return ji(a)&&uk.call(a,"callee")&&!Hk.call(a,"callee")},um=gk.isArray,vm=md?J(md):Ed,wm=Tk||Tj,xm=nd?J(nd):Fd,ym=od?J(od):Id,zm=pd?J(pd):Ld,Am=qd?J(qd):Md,Bm=rd?J(rd):Nd,Cm=jf(Rd),Dm=jf(function(a,b){return b>=a}),Em=Te(function(a,b){if(Sf(b)||Yh(b))return void Pe(b,Si(b),a);for(var c in b)uk.call(b,c)&&Fc(a,c,b[c])}),Fm=Te(function(a,b){Pe(b,Ti(b),a)}),Gm=Te(function(a,b,c,d){Pe(b,Ti(b),a,d)}),Hm=Te(function(a,b,c,d){Pe(b,Si(b),a,d)}),Im=uf(Lc),Jm=fe(function(a){return a.push(ea,of),h(Gm,ea,a)}),Km=fe(function(a){return a.push(ea,pf),h(Pm,ea,a)}),Lm=cf(function(a,b,c){a[b]=c},Gj(Ij)),Mm=cf(function(a,b,c){uk.call(a,b)?a[b].push(c):a[b]=[c]},zf),Nm=fe(Cd),Om=Te(function(a,b,c){Vd(a,b,c)}),Pm=Te(function(a,b,c,d){Vd(a,b,c,d)}),Qm=uf(function(a,b){var c={};if(null==a)return c;var d=!1;b=p(b,function(b){return b=Ae(b,a),d||(d=b.length>1),b}),Pe(a,wf(a),c),d&&(c=Nc(c,ma|na|oa,qf));for(var e=b.length;e--;)se(c,b[e]);return c}),Rm=uf(function(a,b){return null==a?{}:Zd(a,b)}),Sm=mf(Si),Tm=mf(Ti),Um=Ye(function(a,b,c){return b=b.toLowerCase(),a+(c?ij(b):b)}),Vm=Ye(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Wm=Ye(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Xm=Xe("toLowerCase"),Ym=Ye(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Zm=Ye(function(a,b,c){return a+(c?" ":"")+_m(b)}),$m=Ye(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),_m=Xe("toUpperCase"),an=fe(function(a,b){try{return h(a,ea,b)}catch(c){return di(c)?c:new ik(c)}}),bn=uf(function(a,b){return j(b,function(b){b=dg(b),Kc(a,b,jm(a[b],a))}),a}),cn=af(),dn=af(!0),en=fe(function(a,b){return function(c){return Cd(c,a,b)}}),fn=fe(function(a,b){return function(c){return Cd(a,c,b)}}),gn=ef(p),hn=ef(l),jn=ef(t),kn=hf(),ln=hf(!0),mn=df(function(a,b){return a+b},0),nn=lf("ceil"),on=df(function(a,b){return a/b},1),pn=lf("floor"),qn=df(function(a,b){return a*b},1),rn=lf("round"),sn=df(function(a,b){return a-b},0);return b.after=Ch,b.ary=Dh,b.assign=Em,b.assignIn=Fm,b.assignInWith=Gm,b.assignWith=Hm,b.at=Im,b.before=Eh,b.bind=jm,b.bindAll=bn,b.bindKey=km,b.castArray=Rh,b.chain=ah,b.chunk=hg,b.compact=ig,b.concat=jg,b.cond=Ej,b.conforms=Fj,b.constant=Gj,b.countBy=am,b.create=Gi,b.curry=Fh,b.curryRight=Gh,b.debounce=Hh,b.defaults=Jm,b.defaultsDeep=Km,b.defer=lm,b.delay=mm,b.difference=Kl,b.differenceBy=Ll,b.differenceWith=Ml,b.drop=kg,b.dropRight=lg,b.dropRightWhile=mg,b.dropWhile=ng,b.fill=og,b.filter=lh,b.flatMap=mh,b.flatMapDeep=nh,b.flatMapDepth=oh,b.flatten=rg,b.flattenDeep=sg,b.flattenDepth=tg,b.flip=Ih,b.flow=cn,b.flowRight=dn,b.fromPairs=ug,b.functions=Ni,b.functionsIn=Oi,b.groupBy=dm,b.initial=xg,b.intersection=Nl,b.intersectionBy=Ol,b.intersectionWith=Pl,b.invert=Lm,b.invertBy=Mm,b.invokeMap=em,b.iteratee=Jj,b.keyBy=fm,b.keys=Si,b.keysIn=Ti,b.map=sh,b.mapKeys=Ui,b.mapValues=Vi,b.matches=Kj,b.matchesProperty=Lj,b.memoize=Jh,b.merge=Om,b.mergeWith=Pm,b.method=en,b.methodOf=fn,b.mixin=Mj,b.negate=Kh,b.nthArg=Pj,b.omit=Qm,b.omitBy=Wi,b.once=Lh,b.orderBy=th,b.over=gn,b.overArgs=nm,b.overEvery=hn,b.overSome=jn,b.partial=om,b.partialRight=pm,b.partition=gm,b.pick=Rm,b.pickBy=Xi,b.property=Qj,b.propertyOf=Rj,b.pull=Ql,b.pullAll=Cg,b.pullAllBy=Dg,b.pullAllWith=Eg,b.pullAt=Rl,b.range=kn,b.rangeRight=ln,b.rearg=qm,b.reject=wh,b.remove=Fg,b.rest=Mh,b.reverse=Gg,b.sampleSize=yh,b.set=Zi,b.setWith=$i,b.shuffle=zh,b.slice=Hg,b.sortBy=hm,b.sortedUniq=Og,b.sortedUniqBy=Pg,b.split=tj,b.spread=Nh,b.tail=Qg,b.take=Rg,b.takeRight=Sg,b.takeRightWhile=Tg,b.takeWhile=Ug,b.tap=bh,b.throttle=Oh,b.thru=ch,b.toArray=yi,b.toPairs=Sm,b.toPairsIn=Tm,b.toPath=Yj,b.toPlainObject=Di,b.transform=_i,b.unary=Ph,b.union=Sl,b.unionBy=Tl,b.unionWith=Ul,b.uniq=Vg,b.uniqBy=Wg,b.uniqWith=Xg,b.unset=aj,b.unzip=Yg,b.unzipWith=Zg,b.update=bj,b.updateWith=cj,b.values=dj,b.valuesIn=ej,b.without=Vl,b.words=Dj,b.wrap=Qh,b.xor=Wl,b.xorBy=Xl,b.xorWith=Yl,b.zip=Zl,b.zipObject=$g,b.zipObjectDeep=_g,b.zipWith=$l,b.entries=Sm,b.entriesIn=Tm,b.extend=Fm,b.extendWith=Gm,Mj(b,b),b.add=mn,b.attempt=an,b.camelCase=Um,b.capitalize=ij,b.ceil=nn,b.clamp=fj,b.clone=Sh,b.cloneDeep=Uh,b.cloneDeepWith=Vh,b.cloneWith=Th,b.conformsTo=Wh,b.deburr=jj,b.defaultTo=Hj,b.divide=on,b.endsWith=kj,b.eq=Xh,b.escape=lj,b.escapeRegExp=mj,b.every=kh,b.find=bm,b.findIndex=pg,b.findKey=Hi,b.findLast=cm,b.findLastIndex=qg,b.findLastKey=Ii,b.floor=pn,b.forEach=ph,b.forEachRight=qh,b.forIn=Ji,b.forInRight=Ki,b.forOwn=Li,b.forOwnRight=Mi,b.get=Pi,b.gt=rm,b.gte=sm,b.has=Qi,b.hasIn=Ri,b.head=vg,b.identity=Ij,b.includes=rh,b.indexOf=wg,b.inRange=gj,b.invoke=Nm,b.isArguments=tm,b.isArray=um,b.isArrayBuffer=vm,b.isArrayLike=Yh,b.isArrayLikeObject=Zh,b.isBoolean=$h,b.isBuffer=wm,b.isDate=xm,b.isElement=_h,b.isEmpty=ai,b.isEqual=bi,b.isEqualWith=ci,b.isError=di,b.isFinite=ei,b.isFunction=fi,b.isInteger=gi,b.isLength=hi,b.isMap=ym,b.isMatch=ki,b.isMatchWith=li,b.isNaN=mi,b.isNative=ni,b.isNil=pi,b.isNull=oi,b.isNumber=qi,b.isObject=ii,b.isObjectLike=ji,b.isPlainObject=ri,b.isRegExp=zm,b.isSafeInteger=si,b.isSet=Am,b.isString=ti,b.isSymbol=ui,b.isTypedArray=Bm,b.isUndefined=vi,b.isWeakMap=wi,b.isWeakSet=xi,b.join=yg,b.kebabCase=Vm,b.last=zg,b.lastIndexOf=Ag,b.lowerCase=Wm,b.lowerFirst=Xm,b.lt=Cm,b.lte=Dm,b.max=$j,b.maxBy=_j,b.mean=ak,b.meanBy=bk,b.min=ck,b.minBy=dk,b.stubArray=Sj,b.stubFalse=Tj,b.stubObject=Uj,b.stubString=Vj,b.stubTrue=Wj,b.multiply=qn,b.nth=Bg,b.noConflict=Nj,b.noop=Oj,b.now=im,b.pad=nj,b.padEnd=oj,b.padStart=pj,b.parseInt=qj,b.random=hj,b.reduce=uh,b.reduceRight=vh,b.repeat=rj,b.replace=sj,b.result=Yi,b.round=rn,b.runInContext=yd,b.sample=xh,b.size=Ah,b.snakeCase=Ym,b.some=Bh,b.sortedIndex=Ig,b.sortedIndexBy=Jg,b.sortedIndexOf=Kg,b.sortedLastIndex=Lg,b.sortedLastIndexBy=Mg,b.sortedLastIndexOf=Ng,b.startCase=Zm,b.startsWith=uj,b.subtract=sn,b.sum=ek,b.sumBy=fk,b.template=vj,b.times=Xj,b.toFinite=zi,b.toInteger=Ai,b.toLength=Bi,b.toLower=wj,b.toNumber=Ci,b.toSafeInteger=Ei,b.toString=Fi,b.toUpper=xj,b.trim=yj,b.trimEnd=zj,b.trimStart=Aj,b.truncate=Bj,b.unescape=Cj,b.uniqueId=Zj,b.upperCase=$m,b.upperFirst=_m,b.each=ph,b.eachRight=qh,b.first=vg,Mj(b,function(){var a={};return bd(b,function(c,d){uk.call(b.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),b.VERSION=fa,j(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),j(["drop","take"],function(a,b){u.prototype[a]=function(c){c=c===ea?1:Xk(Ai(c),0);var d=this.__filtered__&&!b?new u(this):this.clone();return d.__filtered__?d.__takeCount__=Yk(c,d.__takeCount__):d.__views__.push({size:Yk(c,Ma),type:a+(d.__dir__<0?"Right":"")}),d},u.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),j(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==Fa||c==Ha;u.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:zf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),j(["head","last"],function(a,b){var c="take"+(b?"Right":"");u.prototype[a]=function(){return this[c](1).value()[0]}}),j(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");u.prototype[a]=function(){return this.__filtered__?new u(this):this[c](1)}}),u.prototype.compact=function(){return this.filter(Ij)},u.prototype.find=function(a){return this.filter(a).head()},u.prototype.findLast=function(a){return this.reverse().find(a)},u.prototype.invokeMap=fe(function(a,b){return"function"==typeof a?new u(this):this.map(function(c){return Cd(c,a,b)})}),u.prototype.reject=function(a){return this.filter(Kh(zf(a)))},u.prototype.slice=function(a,b){a=Ai(a);var c=this;return c.__filtered__&&(a>0||0>b)?new u(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==ea&&(b=Ai(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},u.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},u.prototype.toArray=function(){return this.take(Ma)},bd(u.prototype,function(a,c){var e=/^(?:filter|find|map|reject)|While$/.test(c),f=/^(?:head|last)$/.test(c),g=b[f?"take"+("last"==c?"Right":""):c],h=f||/^find/.test(c);g&&(b.prototype[c]=function(){var c=this.__wrapped__,i=f?[1]:arguments,j=c instanceof u,k=i[0],l=j||um(c),m=function(a){var c=g.apply(b,q([a],i));return f&&n?c[0]:c};l&&e&&"function"==typeof k&&1!=k.length&&(j=l=!1);var n=this.__chain__,o=!!this.__actions__.length,p=h&&!n,r=j&&!o;if(!h&&l){c=r?c:new u(this);var s=a.apply(c,i);return s.__actions__.push({func:ch,args:[m],thisArg:ea}),new d(s,n)}return p&&r?a.apply(this,i):(s=this.thru(m),p?f?s.value()[0]:s.value():s)})}),j(["pop","push","shift","sort","splice","unshift"],function(a){var c=pk[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var b=this.value();return c.apply(um(b)?b:[],a)}return this[d](function(b){return c.apply(um(b)?b:[],a)})}}),bd(u.prototype,function(a,c){var d=b[c];if(d){var e=d.name+"",f=il[e]||(il[e]=[]);f.push({name:c,func:d})}}),il[bf(ea,sa).name]=[{name:"wrapper",func:ea}],u.prototype.clone=D,u.prototype.reverse=Z,u.prototype.value=ba,b.prototype.at=_l,b.prototype.chain=dh,b.prototype.commit=eh,b.prototype.next=fh,b.prototype.plant=hh,b.prototype.reverse=ih,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=jh,b.prototype.first=b.prototype.head,Kk&&(b.prototype[Kk]=gh),b},xd=wd();"function"==typeof a&&"object"==e(a.amd)&&a.amd?(gd._=xd,a(function(){return xd})):id?((id.exports=xd)._=xd,hd._=xd):gd._=xd}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],80:[function(a,b,c){"use strict";function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],81:[function(a,b,c){"use strict";var d=a("./lib/converter"),e=a("./lib/importers/index"),f=a("./lib/exporters/index"),g=a("./lib/formats");b.exports={Converter:d.Converter,Formats:g,Importer:e,Exporter:f}},{"./lib/converter":82,"./lib/exporters/index":92,"./lib/formats":96,"./lib/importers/index":102}],82:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./importers/index"),g=a("./exporters/index"),h=function(){function a(b,c){if(d(this,a),this.importer=f.factory(b),!this.importer)throw new Error("from format "+b.name+" not supported");if(this.importer.type=b,this.exporter=g.factory(c),!this.exporter)throw new Error("to format "+c.name+" not supported");this.exporter.type=c,this.format=this.exporter.type.formats[0]}return e(a,[{key:"convertFile",value:function(a,b){var c=this;return new Promise(function(d,e){c.loadFile(a,b).then(function(){c.convert(c._format(b),b).then(d)["catch"](e)})["catch"](e)})}},{key:"convertData",value:function(a,b){var c=this;return new Promise(function(d,e){c.loadData(a,b).then(function(){c.convert(c._format(b),b).then(d)["catch"](e)})["catch"](e)})}},{key:"loadFile",value:function(a,b){return this.importer.loadFile(a,b)}},{key:"loadData",value:function(a,b){var c=this;return new Promise(function(d,e){c.importer.loadData(a,b).then(d)["catch"](e)})}},{key:"convert",value:function(a,b){var c=this;return new Promise(function(d,e){try{c.exporter.loadProject(c.importer["import"]()),c.exporter["export"](a,b).then(d)["catch"](e)}catch(f){e(f)}})}},{key:"_format",value:function(a){return a&&a.format||this.format}}]),a}();c.Converter=h},{"./exporters/index":92,"./importers/index":102}],83:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this._id=null,this.name=b,this.description="",this.tags=[],this.request={},this.request.pathParams={},this.request.bodies=[],this.request.headers="{}",this.responses=[],this.produces,this.consumes,this.middlewareBefore="",this.middlewareAfter="",this["public"]=!0,this.deprecated=null,this.externalDocs=null}return e(a,[{key:"SetOperationId",value:function(a){a&&(this.operationId=a)}},{key:"Id",get:function(){return this._id},set:function(a){this._id=a}},{key:"Path",get:function(){return this.request.path},set:function(a){this.request.path=a}},{key:"Method",get:function(){return this.request.method},set:function(a){this.request.method=a.toLowerCase()}},{key:"Name",set:function(a){a&&(a.length>120?this.name=a.substring(0,119):this.name=a)},get:function(){return this.name||""}},{key:"Consumes",get:function(){return this.consumes},set:function(a){this.consumes=a}},{key:"Produces",get:function(){return this.produces},set:function(a){this.produces=a}},{key:"Headers",get:function(){return this.request.headers},set:function(a){this.request.headers=a}},{key:"Before",get:function(){return this.middlewareBefore},set:function(a){this.middlewareBefore=a}},{key:"After",get:function(){return this.middlewareAfter},set:function(a){this.middlewareAfter=a}},{key:"Body",set:function(a){this.request.bodies.push(a)},get:function(){return Array.isArray(this.request.bodies)&&this.request.bodies.length>0?this.request.bodies:{}}},{key:"QueryString",set:function(a){this.request.queryString=a},get:function(){return this.request.queryString||(this.request.queryString={}),this.request.queryString}},{key:"PathParams",set:function(a){this.request.pathParams=a},get:function(){return this.request.pathParams||(this.request.pathParams={}),this.request.pathParams}},{key:"Responses",set:function(a){this.responses=a},get:function(){return this.responses}},{key:"SLData",set:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}},{key:"Description",set:function(a){this.description=a},get:function(){return this.description||""}},{key:"Tags",get:function(){return this.tags},set:function(a){this.tags=a}},{key:"Summary",set:function(a){this.summary=a},get:function(){return this.summary||""}},{key:"SecuredBy",set:function(a){this.securedBy=a},get:function(){return this.securedBy}},{key:"Public",get:function(){return this["public"]},set:function(a){this["public"]=a}},{key:"Deprecated",get:function(){return this.deprecated},set:function(a){this.deprecated=a}},{key:"ExternalDocs",get:function(){return this.externalDocs},set:function(a){this.externalDocs=a}}]),a}();b.exports=f},{}],84:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.summary="",this.forwardHost=null,this.basePath="",this.protocols=[],this.version="",this.produces=null,this.consumes=null,this.middlewareBefore="",this.middlewareAfter="",this.proxy={},this.securitySchemes={},this.resourcesOrder={utilFuncs:[],docs:[],savedEntries:[]}}return e(a,[{key:"Host",set:function(a){this.forwardHost=a},get:function(){return this.forwardHost}},{key:"BasePath",set:function(a){this.basePath=a},get:function(){return this.basePath||""}},{key:"Consumes",set:function(a){this.consumes=a},get:function(){return this.consumes}},{key:"Produces",set:function(a){this.produces=a},get:function(){return this.produces}},{key:"Protocols",get:function(){return this.protocols},set:function(a){this.protocols=a}},{key:"Version",get:function(){return this.version||""},set:function(a){this.version=a}},{key:"GroupsOrder",set:function(a){this.resourcesOrder=a},get:function(){return this.resourcesOrder}},{key:"SecuritySchemes",set:function(a){this.securitySchemes=a},get:function(){return this.securitySchemes}}]),a}();b.exports=f},{}],85:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./environment"),g=function(){function a(b){d(this,a),this.name=b,this.description="",this.environment=new f,this.endpoints=[],this.resources=[],this.schemas=[],this.texts=[],this.traits=[],this.pathParamsRef={}}return e(a,[{key:"addResource",value:function(a){this.resources.push(a)}},{key:"addEndpoint",value:function(a){this.endpoints.push(a)}},{key:"addSchema",value:function(a){this.schemas.push(a)}},{key:"addText",value:function(a){this.texts.push(a)}},{key:"addTrait",value:function(a){this.traits.push(a)}},{key:"addPathParamRef",value:function(a,b){this.pathParamsRef[a]=b}},{key:"getPathParamRef",value:function(a){return this.pathParamsRef[a]}},{key:"Description",set:function(a){this.description=a||""},get:function(){return this.description||""}},{key:"Name",get:function(){return this.name}},{key:"Endpoints",get:function(){return this.endpoints},set:function(a){this.endpoints=a}},{key:"Resources",get:function(){return this.resources},set:function(a){this.resources=a}},{key:"Schemas",get:function(){return this.schemas},set:function(a){this.schemas=a}},{key:"Environment",get:function(){return this.environment},set:function(a){this.environment=a}},{key:"Texts",get:function(){return this.texts}},{key:"Traits",get:function(){return this.traits}}]),a}();b.exports=g},{"./environment":84}],86:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.name="",this.namespace=b,this.definition=""}return e(a,[{key:"Name",get:function(){return this.name},set:function(a){this.name=a}},{key:"NameSpace",get:function(){return this.namespace}},{key:"Definition",set:function(a){this.definition=a},get:function(){return this.definition}}]),a}();b.exports=f},{}],87:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this.swagger="2.0",this.info={version:"",title:b},c&&(this.info.description=c),this.host="",this.basePath="",this.schemes=[],this.consumes=[],this.produces=[],this.securityDefinitions={},this.paths={},this.parameters={},this.responses=[]}return e(a,[{key:"BasePath",set:function(a){a&&a.length>0?this.basePath=a:delete this.basePath}},{key:"Host",set:function(a){a&&a.length>0?this.host=a:delete this.host}}]),a}();b.exports=f},{}],88:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function f(a,b){d(this,f),this.method=a,this.methodResolved=b,this.summary=this.method.summary||this.methodResolved.summary,this.tags=this.method.tags||this.methodResolved.tags,this.description=this.method.description||this.methodResolved.description,this.deprecated=this.method.deprecated||this.methodResolved.deprecated,this.operationId=this.method.operationId||this.methodResolved.operationId,this.externalDocs=this.method.externalDocs||this.methodResolved.externalDocs,this.schemes=this.method.schemes||this.methodResolved.schemes,this.parameters=this.method.parameters||this.methodResolved.parameters,this.consumes=this.method.consumes||this.methodResolved.consumes,this.produces=this.method.produces||this.methodResolved.produces,this.responses=this.method.responses||this.methodResolved.responses,this.security=this.method.security||this.methodResolved.security};b.exports=e},{}],89:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this._id=null,this.name=b,this.content="",this["public"]=""}return e(a,[{key:"Id",get:function(){return this._id},set:function(a){this._id=a}},{key:"Name",get:function(){return this.name},set:function(a){this.name=a}},{key:"Content",set:function(a){this.content=a},get:function(){return this.content}},{key:"Public",get:function(){return this["public"]},set:function(a){this["public"]=a}}]),a}();b.exports=f},{}],90:[function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("./exporter"),k=a("../helpers/raml"),l=a("../utils/strings"),m=a("../utils/json"),n=a("js-yaml"),o=function(){function a(b,c){f(this,a),this.title=b,this.version=c.Version;var d=c.Host+c.BasePath;d&&(this.baseUri=d),this.mediaType=c.DefaultResponseType||"";var e=p.mapProtocols(c.Protocols);i.isEmpty(e)||(this.protocols=e)}return h(a,[{key:"addMethod",value:function(a,b,c,d,e){if(b)if(b.length<=0){a.uriParameters||(a.uriParameters={});for(var f in d.uriParameters)if(d.uriParameters.hasOwnProperty(f)&&a.displayName){var g=a.displayName.split(f).length-1;g&&(a.uriParameters[f]=d.uriParameters[f])}if(delete d.uriParameters,i.isEmpty(a.uriParameters)&&delete a.uriParameters,a[c]=d,!i.isEmpty(e)){var h=[];for(var j in e)e.hasOwnProperty(j)&&h.push(i.camelCase(e[j]));a.is=h}}else{var k="/"+b[0];a[k]||(a[k]={},i.isEmpty(b[0])||(a[k].displayName=b[0])),b.splice(0,1),this.addMethod(a[k],b,c,d,e)}}}]),a}(),p=function(a){function b(){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return e(b,a),h(b,[{key:"_mapSecurityScheme",value:function(a){var b={};if(a.hasOwnProperty("oauth2"))for(var c in a.oauth2)if(a.oauth2.hasOwnProperty(c)){var d=a.oauth2[c],e=d.name||"oauth2";b[e]={type:"OAuth 2.0",settings:{authorizationUri:d.authorizationUrl||void 0,accessTokenUri:d.tokenUrl||"",authorizationGrants:this.mapAuthorizationGrants(d.flow)}},d.description&&(b[e].description=d.description);var f=[];if(d.scopes&&!i.isEmpty(d.scopes)){for(var g in d.scopes)if(d.scopes.hasOwnProperty(g)){var h=d.scopes[g].name;f.push(h)}b[e].settings.scopes=f}}if(a.hasOwnProperty("basic"))for(var j in a.basic)if(a.basic.hasOwnProperty(j)){var k=a.basic[j],l=k.name;l&&(b[l]={type:"Basic Authentication",description:k.description})}if(a.hasOwnProperty("apiKey")){if(!i.isEmpty(a.apiKey.headers))for(var m in a.apiKey.headers)if(a.apiKey.headers.hasOwnProperty(m)){var n=a.apiKey.headers[m],o={headers:{}};o.headers[n.name]={type:"string"},i.isEmpty(o)||(b[n.externalName||"apiKey"]={type:this.getApiKeyType(),describedBy:o,description:n.description})}if(!i.isEmpty(a.apiKey.queryString))for(var p in a.apiKey.queryString)if(a.apiKey.queryString.hasOwnProperty(p)){var q=a.apiKey.queryString[p],r={queryParameters:{}};r.queryParameters[q.name]={type:"string"},i.isEmpty(r)||(b[q.externalName||"apiKey"]={type:this.getApiKeyType(),describedBy:r,description:q.description})}}return this.mapSecuritySchemes(b)}},{key:"_mapRequestBody",value:function(a,c,d){var e={};if(!a.body||""===c)return e;switch(c){case"application/json":e[c]=this.mapBody(a,c,d),this.convertRequiredFromProperties(e[c]),a.name&&b._createAnnotation(e[c],"body-name",a.name,d);break;case"multipart/form-data":
case"application/x-www-form-urlencoded":var f=m.parse(a.body);e[c]=this.mapRequestBodyForm(this.convertRefFromModel(f,!1,null,d),d)}return a.description&&(e[c].description=a.description),e}},{key:"_mapNamedParams",value:function(a,c){if(a&&!i.isEmpty(a.properties)){var d={},e=this.convertRefFromModel(a.properties,!1,null,c);for(var f in e)e.hasOwnProperty(f)&&(d[f]=k.setParameterFields(e[f],{}),a.required&&a.required.indexOf(f)>-1&&(d[f].required=!0),d[f]=m.orderByKeys(d[f],["type","description"]));return b._validateParam(d)}}},{key:"_mapResponseBody",value:function(a,c,d){var e={};for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(!i.isEmpty(g.codes)){var h=g.codes[0];if("NaN"==parseInt(h)||i.startsWith(h,"x-"))continue;e[h]={};var j=c,k=this.mapBody(g,j,d);this.convertRequiredFromProperties(k),i.isEmpty(k)||(e[h].body={},j?e[h].body[j]=k:e[h].body=k),g.description&&(e[h].description=g.description),m.isEmptySchema(g.headers)||(e[h].headers=this._mapNamedParams(g.headers,d)),g.response_id&&(b._createAnnotation(e[h],"global-response-definition",g.response_id,d),delete g.response_id)}}return e}},{key:"_mapURIParams",value:function(a,c){if(a.properties&&!i.isEmpty(a.properties)){var d={};for(var e in a.properties)if(a.properties.hasOwnProperty(e)){var f=a.properties[e];if(b._mapFormats(f,c),d[e]=k.setParameterFields(f,{}),b.fixEnumValueFormat(f),f.items){var g=f.items;b._mapFormats(g,c),b.fixEnumValueFormat(g),d[e].items=g}f.format&&(d[e].format=f.format),d[e].type=d[e].type||"string";for(var h in d[e])d[e].hasOwnProperty(h)&&("exclusiveMinimum"===h||"exclusiveMaximum"===h||"allowEmptyValue"===h||"collectionFormat"===h)&&(b._createAnnotation(d[e],h,d[e][h],c),delete d[e][h])}return b._validateParam(d)}}},{key:"_mapTextSections",value:function(a){var b=[];if(!a)return resilts;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];d.divider||i.isEmpty(d.name)||i.isEmpty(d.content)||b.push({title:d.name,content:d.content})}return b}},{key:"convertRefFromModel",value:function(a,c,d,e){b._mapFormats(a,e);for(var f in a)if(a.hasOwnProperty(f)){var h=a[f];if(d&&(h=b.convertSchemaTitles(h,"property",e)),"$ref"!=f||d){if("type"!=f||d)"string"==typeof h?"ref"==f?(a.type=h,delete a[f]):"include"==f?(a.type="!include "+h,delete a[f]):"collectionFormat"===f&&b._createAnnotation(a,f,a[f],e):h&&"object"===("undefined"==typeof h?"undefined":g(h))&&("facets"!==f||d)?(b._mapFormats(h,e),d?h.hasOwnProperty("additionalProperties")&&(h.type="object"):"example"===f&&void 0===a.type?a.type="undefined"==typeof h?"undefined":g(h):a.hasOwnProperty("items")&&"array"!==a.type&&(a.type="array"),"readOnly"===f&&b._createAnnotation(a,f,a[f],e),a[f]=this.convertRefFromModel(h,c,"properties"===f&&!d,e)):"$ref"===f?(a.type=h.replace("#/definitions/",""),delete a[f]):"exclusiveMinimum"===f||"exclusiveMaximum"===f||"allowEmptyValue"===f||"collectionFormat"===f?(b._createAnnotation(a,f,a[f],e),delete a[f]):"readOnly"===f?(b._createAnnotation(a,f,a[f],e),delete a[f]):k.isNumberType(a.type)||"maximum"!==f&&"minimum"!==f||(b._createAnnotation(a,f,a[f],e),delete a[f]);else if("null"===h)a.type="nil";else if("object"===("undefined"==typeof h?"undefined":g(h)))for(var j in h)h.hasOwnProperty(j)&&"null"===h[j]&&(h[j]="nil")}else 0==h.indexOf("#/")?(a.type=h.replace("#/definitions/",""),a.type=l.checkAndReplaceInvalidChars(a.type,k.getValidCharacters,k.getReplacementCharacter)):a.type="!include "+h.replace("#/","#"),delete a[f];k.isNumberType(a.type)&&"example"===f&&(a[f]=i.toNumber(a[f])),null!==h&&h.hasOwnProperty("readOnly")&&"properties"!==f&&(b._createAnnotation(h,"readOnly",h.readOnly,e),delete h.readOnly)}return a}},{key:"_mapParametersTraits",value:function(a,b){var c=this.initializeTraits();for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f={};try{var g=m.parse(e.request.queryString);m.isEmptySchema(g)||(f.queryParameters=this._mapNamedParams(g,b))}catch(h){}try{var j=m.parse(e.request.headers);m.isEmptySchema(j)||(f.headers=this._mapNamedParams(j))}catch(h){}try{var k=m.parse(e.request.formData);m.isEmptySchema(k)||(f.body=this._mapRequestBody(k,"multipart/form-data"))}catch(h){}try{var l=m.parse(e.request.body);m.isEmptySchema(l)||(f.body=this._mapRequestBody(l,"application/json",b))}catch(h){}i.isEmpty(e.responses)&&this.addTrait(e.name,f,c)}return c}},{key:"_mapResponsesTraits",value:function(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];try{if(e.responses&&e.responses.length){var f=this._mapResponseBody(e.responses,b);c[e.name]=f[200]}}catch(g){}}return c}},{key:"_export",value:function(){var a=this.project.Environment,c=new o(this.project.Name,a);if(c.mediaType=this.mapMediaType(a.Consumes,a.Produces),this.description(c,this.project),this.project.tags&&b._addTags(c,this.project.tags),this.project.Environment.extensions&&(c["(oas-info)"]||(c["(oas-info)"]={}),b._createAnnotation(c,"info",this.project.Environment.extensions,c),b._addExtensions(c,c["(oas-info)"],this.project.Environment.extensions)),this.project.Environment.ExternalDocs){var d={description:this.project.Environment.ExternalDocs.description,url:this.project.Environment.ExternalDocs.url};b._createAnnotation(c,"externalDocs",d,c),this.project.Environment.ExternalDocs.extensions&&b._addExtensions(c,c["(oas-externalDocs)"],this.project.Environment.ExternalDocs.extensions)}if(this.project.Environment.contactInfo){var e={contact:{}};this.project.Environment.contactInfo.name&&(e.contact.name=this.project.Environment.contactInfo.name),this.project.Environment.contactInfo.url&&(e.contact.url=this.project.Environment.contactInfo.url),this.project.Environment.contactInfo.email&&(e.contact.email=this.project.Environment.contactInfo.email),b._createAnnotation(c,"info",e,c),this.project.Environment.contactInfo.extensions&&b._addExtensions(c,c["(oas-info)"].contact,this.project.Environment.contactInfo.extensions)}if(this.project.Environment.termsOfService){var f={termsOfService:this.project.Environment.termsOfService};b._createAnnotation(c,"info",f,c)}if(this.project.Environment.license){var h={license:{}};this.project.Environment.license.name&&(h.license.name=this.project.Environment.license.name),this.project.Environment.license.url&&(h.license.url=this.project.Environment.license.url),b._createAnnotation(c,"info",h,c),this.project.Environment.license.extensions&&b._addExtensions(c,c["(oas-info)"].license,this.project.Environment.license.extensions)}var j=this._mapTextSections(this.project.Texts);j.length&&(c.documentation=c.documentation||[],c.documentation=c.documentation.concat(j));var l=this.project.Environment.SecuritySchemes,m=this._mapSecurityScheme(l);i.isEmpty(m)||(c.securitySchemes=m),i.isEmpty(this.project.endpointExtensions)||(c["(oas-paths)"]||(c["(oas-paths)"]={}),b._addExtensions(c,c["(oas-paths)"],this.project.endpointExtensions),c.annotationTypes["oas-paths"]={type:"any",allowedTargets:"API"});var n=this.project.Endpoints,p=a.resourcesOrder.docs.reduce(function(a,b){return a.concat(i.map(i.filter(b.items,{type:"endpoints"}),"_id"))},[]);n.sort(function(a,b){return p.indexOf(a._id)<p.indexOf(b._id)?-1:1});for(var q in n)if(n.hasOwnProperty(q)){var r=n[q],s={};r.extensions&&b._addExtensions(c,s,r.extensions),this.setMethodDisplayName(s,r.operationId||r.Name),r.Description&&(s.description=r.Description),r.Summary&&b._createAnnotation(s,"summary",r.Summary,c);var t=b.mapProtocols(r.protocols);i.isEmpty(t)||(s.protocols=t);var u=b._mapEndpointTraits(this.project.Traits,r);if(u.length&&(s.is=u),"post"===i.toLower(r.Method)||"put"===i.toLower(r.Method)||"patch"===i.toLower(r.Method)){var v=b.getDefaultMimeType(r.Consumes,c.mediaType);if(i.isArray(r.Body)&&r.Body.length>0){var w=this._mapRequestBody(r.Body[0],v,c);i.isEmpty(w)||(s.body=w)}}s.headers=this._mapNamedParams(r.Headers,c);var x=b.getDefaultMimeType(r.Produces,c.mediaType),y=this._mapResponseBody(r.Responses,x,c);if(i.isEmpty(y)||(y["default"]&&(b._createAnnotation(s,"responses-default",y["default"],c),delete y["default"]),i.isEmpty(y)||(s.responses=y)),s.queryParameters=this._mapURIParams(r.QueryString,c),s.uriParameters=this._mapURIParams(r.PathParams,c),r.securedBy){var z=[];if(r.securedBy.oauth2)for(var A in l.oauth2)if(l.oauth2.hasOwnProperty(A)){var B=l.oauth2[A];if(B.name===r.securedBy.oauth2.name){var C=B.name||"oauth2";if(i.isEmpty(r.securedBy.oauth2.scope))z.push(C);else{var D={};D[C]={scopes:r.securedBy.oauth2.scope},z.push(D)}}}if(r.securedBy.basic&&l.basic)for(var E in l.basic)if(l.basic.hasOwnProperty(E)){var F=l.basic[E];r.securedBy.basic.name===F.name&&z.push(F.name)}if(r.securedBy.apiKey&&l.apiKey){if(!i.isEmpty(l.apiKey.headers))for(var G in l.apiKey.headers)if(l.apiKey.headers.hasOwnProperty(G)){var H=l.apiKey.headers[G];H.externalName===r.securedBy.apiKey.name&&z.push(H.externalName)}if(!i.isEmpty(l.apiKey.queryString))for(var I in l.apiKey.queryString)if(l.apiKey.queryString.hasOwnProperty(I)){var J=l.apiKey.queryString[I];J.externalName===r.securedBy.apiKey.name&&z.push(J.externalName)}}z.length>0&&(s.securedBy=z)}var K=r.Path.split("/");if(K.splice(0,1),c.addMethod(c,K,r.Method,s,this.project.getPathParamRef(r.Path)),r.Tags&&!i.isEmpty(r.Tags)&&b._createAnnotation(s,"tags",r.Tags,c),r.Deprecated&&b._createAnnotation(s,"deprecated",r.Deprecated,c),r.ExternalDocs){var L={description:r.ExternalDocs.description,url:r.ExternalDocs.url};b._createAnnotation(s,"externalDocs",L,c)}r.responses.extensions&&b._addExtensions(c,s.responses,r.responses.extensions);for(var M in s)if(s.hasOwnProperty(M)){var N=s[M];"object"===("undefined"==typeof N?"undefined":g(N))&&b._addInnerExtensions(c,N)}for(var O in s.responses)if(s.responses.hasOwnProperty(O)){var P=s.responses[O];b._addExampleExtensions(c,P.body)}}b.removeDisplayName(c);var Q=this.project.Schemas;Q&&Q.length>0&&this.addSchema(c,this.mapSchema(Q,c));for(var R in Q)if(Q.hasOwnProperty(R)){var S=Q[R];if("object"===("undefined"==typeof S?"undefined":g(S))){var T=S.definition;b._addInnerExtensions(c,T),b._addInnerExternalDocs(c,T)}}if(this.project.Traits&&this.project.Traits.length>0){var U=this._mapParametersTraits(this.project.Traits,c);i.isEmpty(U)||(c.traits=U)}if(this.project.Traits&&this.project.Traits.length>0){var V=this._mapResponsesTraits(this.project.Traits);i.isEmpty(V)||b._createAnnotation(c,"responses",V,c)}for(var W in c)c.hasOwnProperty(W)&&!c[W]&&delete c[W];b._addExtensions(c,c,this.project.extensions),this.data=k.removeEmptyValueNodes(c)}},{key:"_unescapeYamlIncludes",value:function(a){var b=a.indexOf("'!include ");if(-1==b)return a;var c=a.indexOf("'",b+1);return-1==c?a:a.substring(0,b)+a.substring(b+1,c)+this._unescapeYamlIncludes(a.substring(c+1))}},{key:"_getData",value:function(a){switch(a){case"yaml":var b=this._unescapeYamlIncludes(n.dump(m.parse(JSON.stringify(this.Data)),{lineWidth:-1}));return"#%RAML "+this.version()+"\n"+b;default:throw Error("RAML doesn not support "+a+" format")}}},{key:"convertRequiredFromProperties",value:function(a,c){for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(e&&"object"===("undefined"==typeof e?"undefined":g(e))&&"required"!==d&&this.convertRequiredFromProperties(e,"properties"===d&&!c),"properties"===d&&!c){for(var f in a.properties)if(a.properties.hasOwnProperty(f)&&"//"!==f){var h=a.properties[f];b.checkRequiredProperty(a,f)||"object"!==("undefined"==typeof h?"undefined":g(h))||(h.required=!1)}delete a.required}}}},{key:"description",value:function(){throw new Error("description method not implemented")}},{key:"version",value:function(){throw new Error("version method not implemented")}},{key:"mapAuthorizationGrants",value:function(){throw new Error("mapAuthorizationGrants method not implemented")}},{key:"mapBody",value:function(){throw new Error("mapBody method not implemented")}},{key:"mapRequestBodyForm",value:function(){throw new Error("mapRequestBodyForm method not implemented")}},{key:"addSchema",value:function(){throw new Error("addSchema method not implemented")}},{key:"mapSchema",value:function(){throw new Error("mapSchema method not implemented")}},{key:"getApiKeyType",value:function(){throw new Error("getApiType method not implemented")}},{key:"mapSecuritySchemes",value:function(){throw new Error("mapSecuritySchemes method not implemented")}},{key:"setMethodDisplayName",value:function(){throw new Error("setMethodDisplayName method not implemented")}},{key:"initializeTraits",value:function(){throw new Error("initializeTraits method not implemented")}},{key:"addTrait",value:function(){throw new Error("addTrait method not implemented")}},{key:"mapMediaType",value:function(){throw new Error("mapMediaType method not implemented")}}],[{key:"_validateParam",value:function(a){var b=["string","number","integer","date","boolean","file","array","datetime"];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d)if(d.hasOwnProperty(e))switch(e){case"type":var f=a[c].type;if(b.indexOf(f)<0){delete a[c];continue}break;case"enum":case"pattern":case"minLength":case"maxLength":"string"!==a[c].type&&delete a[c][e];break;case"minimum":case"maximum":var g=i.toLower(a[c].type);"integer"!==g&&"number"!==g&&delete a[c][e];break;case"required":case"displayName":case"description":case"example":case"repeat":case"default":case"items":case"format":case"maxItems":case"minItems":case"uniqueItems":case"facets":case"(oas-format)":case"(oas-allowEmptyValue)":case"(oas-collectionFormat)":case"(oas-exclusiveMaximum)":case"(oas-exclusiveMinimum)":break;default:a[c]&&delete a[c][e]}}return a}},{key:"fixEnumValueFormat",value:function(a){if(a.hasOwnProperty("enum")&&"date-only"===a.type)for(var b in a["enum"])if(a["enum"].hasOwnProperty(b)){var c=a["enum"][b];k.getDateOnlyFormat.test(c)&&(c=c.replace(/_/g,"-"),c=c.replace(new RegExp("/","g"),"-"),a["enum"][b]=c)}}},{key:"mapProtocols",value:function(a){var b=[];for(var c in a)!a.hasOwnProperty(c)||"http"!=i.toLower(a[c])&&"https"!=i.toLower(a[c])||b.push(i.toUpper(a[c]));return b}},{key:"_createAnnotation",value:function(a,b,c,d){var e=void 0,f=!0;switch(b){case"allowEmptyValue":e={type:"boolean"};break;case"tags":e={type:"string[]",allowedTargets:"Method"};break;case"deprecated":e={type:"boolean",allowedTargets:"Method"};break;case"summary":e={type:"string",allowedTargets:"Method"};break;case"externalDocs":e={properties:{"description?":"string",url:"string"},allowedTargets:["API","Method","TypeDeclaration"]};break;case"info":e={properties:{"termsOfService?":"string","contact?":{properties:{"name?":"string","url?":"string","email?":"string"}},"license?":{properties:{"name?":"string","url?":"string"}}},allowedTargets:"API"};break;case"schema-title":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"property-title":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"body-name":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"responses-default":e={type:"any",allowedTargets:"Method"};break;case"global-response-definition":e={type:"any",allowedTargets:"Response"};break;case"definition-name":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"collectionFormat":e={type:"string"};break;case"format":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"readOnly":e={type:"boolean",allowedTargets:"TypeDeclaration"};break;case"responses":e="any";break;case"exclusiveMaximum":case"exclusiveMinimum":e={type:"boolean"};break;case"maximum":case"minimum":e={allowedTargets:"TypeDeclaration",type:"number"};break;default:f=!1}if(!f)return!1;d.annotationTypes||(d.annotationTypes={});var g="oas-"+b;d.annotationTypes.hasOwnProperty(g)||(d.annotationTypes[g]=e);var h="("+g+")";return a.hasOwnProperty(h)?i.merge(a[h],c):a[h]=c,!0}},{key:"_mapFormats",value:function(a,c){var d=["int","int8","int16","int32","int64"];a&&!a.hasOwnProperty("type")&&"string"==a.format?(a.type="string",delete a.format):a&&"string"==a.type?"byte"==a.format||"binary"==a.format||"password"==a.format||"uuid"==a.format?(b._createAnnotation(a,"format",a.format,c),delete a.format):"date"==a.format?(a.type="date-only",delete a.format):"date-time"==a.format?(a.type="datetime",a.format="rfc3339"):a.format&&k.getValidFormat.indexOf(a.format)<0&&(b._createAnnotation(a,"format",a.format,c),delete a.format):a&&"integer"==a.type?d.indexOf(a.format)<0&&delete a.format:a&&"number"==a.type&&d.concat(["long","float","double"]).indexOf(a.format)<0&&("integer"==a.format&&(a.type="integer"),delete a.format)}},{key:"convertSchemaTitles",value:function(a,c,d){for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];"title"===e&&"string"==typeof f&&("schema"===c?b._createAnnotation(a,"schema-title",f,d):"property"===c&&b._createAnnotation(a,"property-title",f,d),delete a[e])}return a}},{key:"_mapEndpointTraits",value:function(a,b){var c=[];for(var d in b.traits)if(b.traits.hasOwnProperty(d)){var e=i.find(a,["_id",b.traits[d]]);e&&c.push(i.camelCase(e.name))}return c}},{key:"getDefaultMimeType",value:function(a,b){var c=a&&a.length>0?a[0]:null;return c||(i.isArray(b)&&b.length?c=b[0]:i.isString(b)&&""!==b&&(c=b)),c||(c="application/json"),c}},{key:"removeDisplayName",value:function(a){delete a.displayName;for(var c in a)if(a.hasOwnProperty(c)&&c.startsWith("/")){var d=a[c];"object"===("undefined"==typeof d?"undefined":g(d))&&b.removeDisplayName(d)}}},{key:"_addTags",value:function(a,b){if(!i.isEmpty(b)){a["(oas-tags-definition)"]=[],a.annotationTypes||(a.annotationTypes={}),a.annotationTypes["oas-tags-definition"]={type:"array",items:{properties:{name:"string","description?":"string","externalDocs?":{properties:{url:"string","description?":"string"}}}},allowedTargets:"API"};for(var c in b)b.hasOwnProperty(c)&&a["(oas-tags-definition)"].push(b[c])}}},{key:"_addExtensions",value:function(a,b,c){for(var d in c)if(c.hasOwnProperty(d)){b.hasOwnProperty(d)&&delete b[d];var e="example"===d?"responses-".concat(d):d;if(b["(oas-"+e+")"]=c[d],a.annotationTypes||(a.annotationTypes={}),!a.annotationTypes.hasOwnProperty("oas-"+e))switch(d){case"example":a.annotationTypes["oas-"+e]={type:"string",allowedTargets:"TypeDeclaration"};break;case"externalDocs":a.annotationTypes["oas-"+e]={properties:{"description?":"string",url:"string"},allowedTargets:["API","Method","TypeDeclaration"]};break;default:a.annotationTypes["oas-"+d]="any"}}}},{key:"_addExampleExtensions",value:function(a,c){for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if(e.hasOwnProperty("example")){var f=e.example;"string"==typeof f&&b._addExtensions(a,e,{example:f})}}}},{key:"_addInnerExtensions",value:function(a,c){var d={},e={};for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];i.startsWith(f,"x-")?d[f]=h:"object"===("undefined"==typeof h?"undefined":g(h))&&(e[f]=h)}i.isEmpty(d)||b._addExtensions(a,c,d);for(var j in e)if(e.hasOwnProperty(j)){var k=e[j];b._addInnerExtensions(a,k)}}},{key:"_addInnerExternalDocs",value:function(a,c){var d={};for(var e in c)if(c.hasOwnProperty(e)){var f=c[e];"externalDocs"===e?b._addExtensions(a,c,{externalDocs:f}):"object"===("undefined"==typeof f?"undefined":g(f))&&(d[e]=f)}for(var h in d)if(d.hasOwnProperty(h)){var i=d[h];b._addInnerExternalDocs(a,i)}}},{key:"checkRequiredProperty",value:function(a,b){if(!a.required)return!1;if(a.required&&a.required.length>0)for(var c in a.required)if(a.required.hasOwnProperty(c)){var d=a.required[c];if(d===b)return!0}return!1}}]),b}(j);b.exports=p},{"../helpers/raml":97,"../utils/json":107,"../utils/strings":108,"./exporter":91,"js-yaml":111,lodash:79}],91:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("js-yaml"),h=a("../importers/index"),i=a("lodash"),j=a("../formats"),k=function(){function a(){d(this,a),this.data=null,this.project=null,this.options=null}return f(a,[{key:"loadProject",value:function(a){this.project=i.cloneDeep(a)}},{key:"_export",value:function(){throw new Error("_export method not implemented")}},{key:"export",value:function(a,b){var c=this;return new Promise(function(d,f){try{c.options=b,c._export();var g=c._getData(a);if(!b||b.validate!==!0&&b.validateExport!==!0)d(g);else{var i="object"===("undefined"==typeof g?"undefined":e(g))?JSON.stringify(g):g,k=h.factory(j.AUTO);k.loadData(i,b).then(function(){try{k["import"](),d(g)}catch(a){a.exportedData=g,f(a)}})["catch"](function(a){a.exportedData=g,f(a)})}}catch(l){f(l)}})}},{key:"_getData",value:function(a){switch(a){case"yaml":return g.dump(JSON.parse(JSON.stringify(this.Data)),{lineWidth:-1});default:return this.Data}}},{key:"_mapEndpoint",value:function(){throw new Error("_mapEndpoint method not implemented")}},{key:"_mapSchema",value:function(){throw new Error("_mapSchema method not implemented")}},{key:"_mapQueryString",value:function(){throw new Error("_mapQueryString method not implemented")}},{key:"_mapURIParams",value:function(){throw new Error("_mapURIParams method not implemented")}},{key:"_mapRequestBody",value:function(){throw new Error("_mapRequestBody method not implemented")}},{key:"_mapResponseBody",value:function(){throw new Error("_mapResponseBody method not implemented")}},{key:"_mapRequestHeaders",value:function(){throw new Error("_mapRequestHeaders method not implemented")}},{key:"Data",get:function(){return this.data}}]),a}();b.exports=k},{"../formats":96,"../importers/index":102,"js-yaml":111,lodash:79}],92:[function(a,b,c){"use strict";function d(a){return!(!a||!a.name||!e.hasOwnProperty(a.className))}var e={Swagger:a("./swagger"),RAML08:a("./raml08"),RAML10:a("./raml10")};b.exports={hasSupport:d,factory:function(a){return d(a)?new e[a.className]:null}}},{"./raml08":93,"./raml10":94,"./swagger":95}],93:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("lodash"),i=a("./baseraml"),j=a("../utils/json"),k=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),g(b,[{key:"version",value:function(){return"0.8"}},{key:"mapMediaType",value:function(a,b){var c=[];return a&&a.length>0&&(c=a),h.isArray(b)&&(c=c.concat(b)),c=h.uniq(c),c.length?c[0]:null}},{key:"mapAuthorizationGrants",value:function(a){var b=[];switch(a){case"implicit":b=["token"];break;case"password":b=["credentials"];break;case"application":b=["owner"];break;case"accessCode":b=["code"]}return b}},{key:"mapRequestBodyForm",value:function(a){var b={formParameters:a.properties};if(a.required&&a.required.length>0)for(var c in a.required)if(a.required.hasOwnProperty(c)){var d=a.required[c];b.formParameters[d]&&(b.formParameters[d].required=!0)}return b}},{key:"mapBody",value:function(a,b){var c={schema:j.format(this.convertRefFromModel(j.parse(a.body),!1,null,b))},d=j.format(a.example);return h.isEmpty(d)||(c.example=d),c}},{key:"addSchema",value:function(a,b){a.schemas=b}},{key:"mapSchema",value:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e={};e[d.NameSpace]=j.format(d.Definition),b.push(e)}return b}},{key:"description",value:function(a,b){a.documentation=[{title:b.Name,content:b.Description}]}},{key:"getApiKeyType",value:function(){return"x-api-key"}},{key:"mapSecuritySchemes",value:function(a){return h.map(a,function(a,b){var c={};return c[b]=a,c})}},{key:"setMethodDisplayName",value:function(){}},{key:"initializeTraits",value:function(){return[]}},{key:"addTrait",value:function(a,b,c){var d={};d[h.camelCase(a)]=b,c.push(d)}}]),b}(i);b.exports=k},{"../utils/json":107,"./baseraml":90,lodash:79}],94:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("./baseraml"),k=a("../utils/strings"),l=a("../helpers/raml"),m=a("../utils/json"),n=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"version",value:function(){return"1.0"}},{key:"mapMediaType",value:function(a,b){var c=[];return a&&a.length>0&&(c=a),i.isArray(b)&&(c=c.concat(b)),c=i.uniq(c),1===c.length?c[0]:c.length?c:null}},{key:"mapAuthorizationGrants",value:function(a){var b=[];switch(a){case"implicit":b=["implicit"];break;case"password":b=["password"];break;case"application":b=["client_credentials"];break;case"accessCode":b=["authorization_code"]}return b}},{key:"mapBody",value:function(a,b,c){var d=m.parse(a.body),e=this.convertAllOfToModel(this.convertRefFromModel(d,!1,null,c));if(e=j.convertSchemaTitles(e,"schema",c),e=this.mapAdditionalProperties(e),a.example&&(e.example=m.parse(a.example),b&&e.example[b])){if(e.example=m.parse(e.example[b]),e.example.hasOwnProperty("value")){var f={};f.value=e.example.value,e.example.value=f}"object"===g(e.example)&&(e.example=this.fixValuesFormat(e.example))}return e}},{key:"fixValuesFormat",value:function(a){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];a[c]=b.fixDateFormat(d),"object"===("undefined"==typeof d?"undefined":g(d))&&(a[c]=this.fixValuesFormat(d))}return a}},{key:"mapRequestBodyForm",value:function(a,b){var c={properties:a.properties};for(var d in c.properties)if(c.properties.hasOwnProperty(d)){var e=c.properties[d];e.required=!1;for(var f in e)if(e.hasOwnProperty(f)){var g=j._createAnnotation(e,f,e[f],b);g&&delete e[f]}}if(a.required&&a.required.length>0)for(var h in a.required)if(a.required.hasOwnProperty(h)){var i=a.required[h];c.properties[i]&&(c.properties[i].required=!0)}return c}},{key:"addSchema",value:function(a,b){a.types=b}},{key:"convertAllOfToModel",value:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c&&("allOf"==b?a=this.convertAllOfAttribute(a):"object"===("undefined"==typeof c?"undefined":g(c))&&(a[b]=this.convertAllOfToModel(c)))}return a}},{key:"convertAllOfAttribute",value:function(a){var b={},c=[];if(!a.allOf)return a;for(var d in a.allOf)if(a.allOf.hasOwnProperty(d)){var e=a.allOf[d];e.properties?b=this.mapSchemaProperties(e):e.type&&c.push(e.type)}return b.type=c.length>1?c:c[0],delete b.allOf,b}},{key:"mapSchema",value:function(a,c){var d={};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e],g=this.convertRefFromModel(m.parse(f.Definition),!0,null,c);g=b.convertSchemaTitles(g,"schema",c),g.allOf?g=this.convertAllOfToModel(g):g.properties&&(g=this.mapSchemaProperties(g)),g=this.mapAdditionalProperties(g),g.externalDocs&&(j._createAnnotation(g,"externalDocs",g.externalDocs,c),delete g.externalDocs),g.additionalProperties&&(g.properties||(g.properties={}),g.properties["//"]=g.additionalProperties,delete g.additionalProperties),f.example&&(g.example=m.parse(f.example));var h=k.checkAndReplaceInvalidChars(f.NameSpace,l.getValidCharacters,l.getReplacementCharacter);h!==f.NameSpace&&j._createAnnotation(g,"definition-name",f.NameSpace,c),d[h]=g}return d}},{key:"mapSchemaProperties",value:function(a){return this.convertRequiredFromProperties(a),a.properties&&"object"==a.type&&delete a.type,a}},{key:"mapAdditionalProperties",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if("additionalProperties"!==c||b)"object"===("undefined"==typeof d?"undefined":g(d))&&(d=this.mapAdditionalProperties(d,"properties"===c&&!b));else{var e="object"===a.type,f=a.hasOwnProperty("properties");"object"!==("undefined"==typeof d?"undefined":g(d))&&d||!d&&!e&&!f?delete a.additionalProperties:"object"===("undefined"==typeof d?"undefined":g(d))&&(f||(a.properties={}),a.properties["//"]=this.mapAdditionalProperties(d,"properties"===c&&!b),delete a.additionalProperties)}}return a}},{key:"description",value:function(a,b){a.description=b.Description}},{key:"getApiKeyType",value:function(){return"Pass Through"}},{key:"mapSecuritySchemes",value:function(a){return a}},{key:"setMethodDisplayName",value:function(a,b){b&&(a.displayName=b)}},{key:"initializeTraits",value:function(){return{}}},{key:"addTrait",value:function(a,b,c){c[i.camelCase(a)]=b}}],[{key:"fixDateFormat",value:function(a){return"string"==typeof a&&l.getRFC3339Format.test(a)&&a.match(/\d*Z/)[0].length>3?a.replace(/\d*Z/,a.match(/\d*Z/)[0].slice(0,3)+"Z"):a}}]),b}(j);b.exports=n},{"../helpers/raml":97,"../utils/json":107,"../utils/strings":108,"./baseraml":90,lodash:79}],95:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./exporter"),j=a("../utils/json.js"),k=a("../utils/strings.js"),l=a("../utils/url"),m=a("../entities/swagger/definition"),n=a("../helpers/swagger"),o=a("../utils/xml.js"),p=a("lodash"),q=a("../utils/array.js"),r=a("url"),s=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"_getResponseTypes",value:function(a,b){var c=b||[],d=a.Produces||[];return d.reduce(function(a,b){return-1===a.indexOf(b)&&-1===c.indexOf(b)&&a.push(b),a},[])}},{key:"_getRequestTypes",value:function(a,b,c){var d=[],e=["multipart/form-data","application/x-www-form-urlencoded"],f=a.Consumes||[],g=c||[];for(var h in b)if(b.hasOwnProperty(h)&&b[h].type&&"file"===b[h].type){e.forEach(function(a){d.length||(f.indexOf(a)>=0?d.push(a):g.indexOf(a)>=0&&d.push(a))}),d.length||d.push(e[0]);
break}return p.isEmpty(f)||f.forEach(function(a){-1===g.indexOf(a)&&d.push(a)}),p.uniq(d)}},{key:"_constructTags",value:function(a,b){var c=a.tags||[],d=p.find(b.GroupsOrder.docs,function(b){return p.find(b.items,["_id",a._id])});return d&&c.push(d.name),p.uniq(c)}},{key:"_constructSwaggerMethod",value:function(a,b,c,d){var e=this._getRequestTypes(a,b,d.Consumes),f=this._getResponseTypes(a,d.Produces);a.SetOperationId(a.operationId);var g={};p.isEmpty(a.operationId)||(g.operationId=a.operationId),p.isEmpty(a.Name)||(g.summary=a.Name);var h=this._constructTags(a,d);return p.isEmpty(h)||(g.tags=h),p.isEmpty(a.Description)||(g.description=a.Description),p.isArray(e)&&a.Consumes&&!p.isEqual(d.Consumes,e)&&!p.isEmpty(e)&&(g.consumes=e.filter(p.isString)),p.isArray(f)&&a.Produces&&!p.isEqual(d.Produces,f)&&!p.isEmpty(f)&&(g.produces=f.filter(p.isString)),p.isEmpty(b)||(g.parameters=b),g.responses=c,g}},{key:"_mapURIParams",value:function(a){var c=[];if(!a.properties||p.isEmpty(a))return c;for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d],f=n.setParameterFields(e,{});f.name=d,f["in"]="path",f.required=!0,f.type=f.type||"string",p.isEmpty(e.description)||(f.description=e.description),b._addPatternedObjects(e,f),c.push(f)}return c}},{key:"_mapQueryString",value:function(a){var b=[];if(a.name&&"queryString"===a.name&&!a.properties)return a["in"]="query",a;if(!a.properties)return b;for(var c in a.properties)if(a.properties.hasOwnProperty(c)){var d=this._convertExamples(a.properties[c],!1);d=n.setParameterFields(d,{}),d.name=c,d["in"]="query",d.required=a.hasOwnProperty("required")&&a.required.indexOf(d.name)>=0,b.push(d)}return b}},{key:"mapResponseBody",value:function(a,c){var d={};d.description=a.description||"";var e=j.parse(a.body);if(e&&!p.isEmpty(e)&&(e.hasOwnProperty("$schema")&&delete e.$schema,d.schema=this.convertRefFromModel(e,!1)),c&&""!==c&&a.example&&"{}"!==a.example&&a.example.length>2&&(d.examples={},d.examples[c]=j.parse(a.example)),a.headers){this.mapHeaderProperties(a.headers),d.headers=a.headers;var f=d.headers;for(var g in f)f.hasOwnProperty(g)&&(f[g]=this._convertExamples(f[g],!1))}return b._addPatternedObjects(a,d),d}},{key:"mapHeaderProperties",value:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c.hasOwnProperty("description")&&null==c.description&&(c.description=""),c.hasOwnProperty("required")&&(this.addExtension(c,"x-raml-required",c.required),delete c.required),c.hasOwnProperty("repeat")&&(this.addExtension(c,"x-raml-repeat",c.repeat),delete c.repeat)}}},{key:"addExtension",value:function(a,b,c){!p.isEmpty(this.options)&&this.options.hasOwnProperty("noExtension")&&this.options.noExtension!==!0&&(a[b]=c)}},{key:"_mapResponseBody",value:function(a){var b=a.Responses,c={};for(var d in b)if(b.hasOwnProperty(d)){var e=b[d],f=a.Produces&&a.Produces.length?a.Produces[0]:null,g=e.codes&&e.codes.length>0&&parseInt(e.codes[0])?e.codes[0]:"default";c[g]=this.mapResponseBody(e,f)}return c}},{key:"_mapRequestBodies",value:function(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];this.addExtension(c,"x-raml-body-"+e.mimeType,this._mapRequestBody(e,b,!1))}return c}},{key:"_mapRequestBody",value:function(a,b,c){var d=[];if(p.isEmpty(a.body))return d;var e=j.parse(a.body)||{},f={};if(p.isEmpty(a.description)||(f.description=a.description),!j.isEmptySchema(e)){var g=/\"type\":[ ]*\"file\"|\"type\":[ ]*\"binary\"/;if(j.stringify(a.body,4).match(g)||!p.isEmpty(b)&&-1!==["multipart/form-data","application/x-www-form-urlencoded"].indexOf(b[0]))if(e.properties)for(var h in e.properties)e.properties.hasOwnProperty(h)&&(f=e.properties[h],f["in"]="formData",f.name=h,e.required&&e.required.indexOf(h)>=0&&(f.required=!0),d.push(f));else f["in"]="formData",f.name="formData",e.ref&&this.addExtension(f,"x-raml-type",e.ref),f.hasOwnProperty("type")&&(f.type=c?{type:"object"}:f.type),e.hasOwnProperty("type")&&"file"===e.type&&(f.type=e.type),d.push(f);else e.required&&e.required.length<=0&&delete e.required,f.name="body",f["in"]="body",f.schema=c?{type:"object"}:this.convertRefFromModel(e,!1),p.isEmpty(a.example)||(o.isXml(a.example)?f.schema.example=a.example:f.schema.example=j.parse(a.example)),d.push(f)}return d}},{key:"_mapRequestHeaders",value:function(a){var b=[];if(a)for(var c in a.properties)if(a.properties.hasOwnProperty(c)){var d=this._convertExamples(a.properties[c],!1);d=n.setParameterFields(d,{}),d.name=c,d["in"]="header",d.required=a.required&&a.required.indexOf(c)>=0;var e=a.properties[c].description;p.isEmpty(e)||(d.description=a.properties[c].description),d=this._hasAttributes(d,["example","pattern"]),b.push(d)}return b}},{key:"_hasAttributes",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b.indexOf(c)>=0?(this.addExtension(a,"x-raml-"+c,d),delete a[c]):"object"===("undefined"==typeof d?"undefined":g(d))&&(a[c]=this._hasAttributes(d,b))}return a}},{key:"_mapSchema",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=j.parse(d.Definition);e.hasOwnProperty("$schema")&&(delete e.$schema,delete e.id),e=this.convertRefFromModel(e,!0),e.hasOwnProperty("description")&&p.isEmpty(e.description)&&delete e.description,b[d.NameSpace]=e}return b}},{key:"replaceCustomProperties",value:function(a){var b="__custom-",c="x-raml-";for(var d in a)if(a.hasOwnProperty(d)&&("object"===g(a[d])&&this.replaceCustomProperties(a[d]),p.startsWith(d,b))){var e=p.replace(d,new RegExp(b,"g"),c);this.addExtension(a,e,a[d]),delete a[d]}}},{key:"convertRefFromModel",value:function(a,c,d){if(o.isXml(a)){var e=a;a={type:"object"},this.addExtension(a,"x-raml-xsd-definition",e)}a.hasOwnProperty("definitions")&&a.hasOwnProperty("items")&&"array"==a.type&&(a=b.convertDefinitions(a));for(var f in a)if(a.hasOwnProperty(f)&&!n.isExtension(f)){var h=a[f];if("type"==f&&(a.type=b.convertTypes(h)),"allOf"==f){var i=a.allOf;for(var j in i)if(i.hasOwnProperty(j)){var k=i[j];"object"===("undefined"==typeof k?"undefined":g(k))?i[j]=this.convertRefFromModel(k,c):i[j]={$ref:"#/definitions/"+k}}q.allEqual(i)&&(p.merge(a,a.allOf[0]),delete a.allOf)}else"oneOf"!==f&&"anyOf"!==f||d?"schemaPath"===f?(this.addExtension(a,"x-raml-xsd-definition",h),delete a[f]):"string"==typeof h?"ref"==f?(a.$ref="#/definitions/"+h,delete a[f],f="$ref"):"include"==f&&(a.$ref=h,delete a[f],f="$ref"):h&&"object"===("undefined"==typeof h?"undefined":g(h))&&("example"===f||"examples"===f?(a=this._convertExamples(a,c),f="example"):"xml"!==f&&(a[f]=this.convertRefFromModel(h,c,"properties"==f&&!d))):(delete a[f],a.type="object");!p.isArray(a)&&"object"==("undefined"==typeof a?"undefined":g(a))&&!d&&n.getSupportedSchemaFields.indexOf(f)<0&&!p.startsWith(f,"x-raml")&&(this.addExtension(a,"x-raml-"+f,h),delete a[f])}return a}},{key:"_convertExamples",value:function(a,b){if(b){if(a.hasOwnProperty("examples")){var c=a.examples;if(!p.isArray(c))return c;if(a.example=c[0],c.length>1){for(var d=[],e=1;e<c.length;e++)d.push(c[e]);this.addExtension(a,"x-raml-additional-examples",d)}delete a.examples}}else if(a.hasOwnProperty("example"))this.addExtension(a,"x-raml-example",a.example),delete a.example;else if(a.hasOwnProperty("examples")){var f=a.examples;if(!p.isArray(f))return f;for(var g=[],h=0;h<f.length;h++)g.push(f[h]);this.addExtension(a,"x-raml-example",g),delete a.examples}return a}},{key:"_mapEndpointTraitParameters",value:function(a,b){if(!a.traits||!a.traits.length)return[];var c=[];for(var d in a.traits)if(a.traits.hasOwnProperty(d)){var e=a.traits[d];p.isObject(e)&&!p.isEmpty(e)&&(e=Object.keys(e)[0]);var f=p.find(this.project.Traits,["_id",e]);if(f){try{var g=j.parse(f.request.queryString);for(var h in g.properties)g.properties.hasOwnProperty(h)&&(p.find(b,{name:h,"in":"query"})||c.push({$ref:"#/parameters/"+k.computeTraitName(f.name,h)}))}catch(i){}try{var l=j.parse(f.request.headers);for(var m in l.properties)l.properties.hasOwnProperty(m)&&(p.find(b,{name:m,"in":"header"})||c.push({$ref:"#/parameters/"+k.computeTraitName(f.name,m)}))}catch(i){}}}return c}},{key:"_mapEndpointTraitResponses",value:function(a){if(!a.traits||!a.traits.length)return[];var b={};for(var c in a.traits)if(a.traits.hasOwnProperty(c)){var d=a.traits[c];p.isObject(d)&&!p.isEmpty(d)&&(d=Object.keys(d)[0]);var e=p.find(this.project.Traits,["_id",d]);if(e)for(var f in e.responses){var g=e.responses[f],h=g.codes&&g.codes.length>0&&parseInt(g.codes[0])?g.codes[0]:"default";b[h]={$ref:"#/responses/"+k.computeTraitName(e.name,h)}}}return b}},{key:"_mapResources",value:function(a,b){var c=this.project.Resources;if(p.isEmpty(c))this._mapEndpoints(a,b,this.project.Endpoints);else for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];this._mapEndpoints(a,b,e.endpoints),e.hasOwnProperty("is")&&this.addExtension(a.paths[e.path],"x-raml-is",e.is),(!p.isEmpty(e.annotations)||e.displayName||e.description)&&(a.paths[e.path]||(a.paths[e.path]={}));for(var f in e.annotations)if(e.annotations.hasOwnProperty(f)){var g=e.annotations[f];a.paths[e.path][f]=g||""}e.displayName&&this.addExtension(a.paths[e.path],"x-raml-resource-displayName",e.displayName),e.description&&this.addExtension(a.paths[e.path],"x-raml-resource-description",e.description)}}},{key:"_mapEndpoints",value:function(a,c,d){var e=c.resourcesOrder.docs.reduce(function(a,b){return a.concat(p.map(p.filter(b.items,{type:"endpoints"}),"_id"))},[]);d.sort(function(a,b){return e.indexOf(a._id)<e.indexOf(b._id)?-1:1});for(var f in d)if(d.hasOwnProperty(f)){var g=d[f],h=[],i=this._getRequestTypes(g,h,c.Consumes);if(i=p.isEmpty(i)?c.Consumes:i,!a.paths[g.Path]){var j=b._validateParameters(this._mapURIParams(g.PathParams));a.paths[g.Path]=j.length?{parameters:j}:{}}h=h.concat(this._mapQueryString(g.QueryString));var k=p.size(g.Body);k>1?h=h.concat(this._mapRequestBody(g.Body[0],i,!0)):p.isEmpty(g.Body)||(h=h.concat(this._mapRequestBody(g.Body[0],i,!1))),h=h.concat(this._mapRequestHeaders(g.Headers)),h=h.concat(this._mapEndpointTraitParameters(g,h)),h=b._validateParameters(h);var l=p.assign({},this._mapResponseBody(g,c),this._mapEndpointTraitResponses(g));if(p.isEmpty(l)&&(l["default"]={description:"",schema:{}}),a.paths[g.Path][g.Method]=this._constructSwaggerMethod(g,h,l,c),k>1){var m=this._mapRequestBodies(g.Body,i);p.merge(a.paths[g.Path][g.Method],m)}if(g.hasOwnProperty("is")&&this.addExtension(a.paths[g.Path][g.Method],"x-raml-is",g.is),g.SecuredBy){var n=b._mapEndpointSecurity(g.SecuredBy,this.project.Environment.SecuritySchemes);p.isEmpty(n)||(a.paths[g.Path][g.Method].security=n)}b._addPatternedObjects(g,a.paths[g.Path][g.Method])}}},{key:"_mapTraitParameters",value:function(a){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f=[];try{var g=j.parse(e.request.queryString);j.isEmptySchema(g)||(f=f.concat(b._validateParameters(this._mapQueryString(g))))}catch(h){}try{var i=j.parse(e.request.headers);j.isEmptySchema(i)||(f=f.concat(b._validateParameters(this._mapRequestHeaders(i))))}catch(h){}for(var l in f){var m=f[l];c[k.computeTraitName(e.name,m.name)]=m}}return c}},{key:"_mapTraitResponses",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d.responses){var f=d.responses[e],g=k.computeTraitName(d.name,f.codes&&f.codes.length>0&&parseInt(f.codes[0])?f.codes[0]:"default"),h=this.mapResponseBody(f);h.hasOwnProperty("schema")&&h.schema.hasOwnProperty("$ref")&&p.includes(h.schema.$ref,"<<")&&(this.addExtension(h.schema,"x-raml-type",h.schema.$ref),delete h.schema.$ref),b[g]=h}}return b}},{key:"_mapHostAndProtocol",value:function(a,c){var d=["http","https","ws","wss"],e=r.parse(a.Host||""),f=e.hostname||"";if(f&&e.port&&(f=f+":"+e.port),c.Host=f,c.BasePath=a.BasePath,e.path&&"/"!==e.path&&(c.BasePath=l.join(e.path,a.BasePath)),b._isTemplateUri(c.basePath)&&b._convertToTemplateUri(c),Array.isArray(a.Protocols)&&!p.isEmpty(a.Protocols)){var g=[];a.Protocols.map(function(a){d.indexOf(a.toLowerCase())>=0&&g.push(a.toLowerCase())}),c.schemes=g}else if(e.protocol){var h=e.protocol.split(":")[0];d.includes(h)&&(c.schemes=[h])}else delete c.schemes}},{key:"_mapHostAnnotations",value:function(a,b){for(var c in a)a.hasOwnProperty(c)&&c.startsWith("x-annotation-")&&(b[c]=a[c])}},{key:"_export",value:function(){var a=new m(this.project.Name,this.project.Description);this.replaceCustomProperties(this.project);var c=this.project.Environment;a.info.version=c.Version,a.BasePath=c.BasePath||"",this._mapHostAnnotations(c,a),this._mapHostAndProtocol(c,a),c.Produces&&c.Produces.length>0?a.produces=c.Produces:delete a.produces,c.Consumes&&c.Consumes.length>0?a.consumes=c.Consumes:delete a.consumes;var d=this._mapSchema(this.project.Schemas);p.isEmpty(d)||(a.definitions=d);var e=this._mapTraitParameters(this.project.Traits);p.isEmpty(e)?delete a.parameters:a.parameters=e;var f=this._mapTraitParameters(this.project.parametricTraits);p.isEmpty(f)?delete a["x-raml-traits"]:this.addExtension(a,"x-raml-traits",f);var g=this._mapTraitResponses(this.project.Traits);p.isEmpty(g)?delete a.responses:a.responses=g,a.securityDefinitions=b._mapSecurityDefinitions(this.project.Environment.SecuritySchemes),this._mapResources(a,c),a.securityDefinitions&&p.isEmpty(a.securityDefinitions)&&delete a.securityDefinitions,this.addExtension(a,"x-raml-uses",this.project.uses),b._addPatternedObjects(this.project,a),this.data=j.toJSON(a)}}],[{key:"_validateParameters",value:function(a){a=j.orderByKeys(a,["$ref","name","in","description","required","schema","type"]);var b=["string","number","integer","boolean","array","file"],c="string";for(var d in a)a.hasOwnProperty(d)&&a[d]["in"]&&"body"!=a[d]["in"]&&(Array.isArray(a[d].type)&&(a[d].type.length>0?a[d].type=a[d].type[0]:a[d].type=c),b.indexOf(a[d].type)<0&&(a[d].type=c));return a}},{key:"_mapEndpointSecurity",value:function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=void 0,f=void 0;"string"==typeof a[d]?(e=a[d],f=[]):(e=Object.keys(a[d])[0],f=a[d][e]);for(var g in b.oauth2)if(b.oauth2.hasOwnProperty(g)){var h=b.oauth2[g];if(h.name===e){var i=h.name||"oauth2",j={};j[i]=f,c.push(j)}}for(var k in b.basic)if(b.basic.hasOwnProperty(k)){var l=b.basic[k];if(e===l.name){var m={};m[l.name]=f,c.push(m)}}if(b.apiKey)for(var n in b.apiKey)if(b.apiKey.hasOwnProperty(n)){var o=b.apiKey[n];if(e===o.name){var p={};p[o.name]=f,c.push(p)}}}return c}},{key:"_mapSecurityDefinitions",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(c){case"apiKey":for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];if(f.hasOwnProperty("headers")&&f.headers.length>0)for(var g in f.headers)if(f.headers.hasOwnProperty(g)){var h=f.headers[g];b[f.name]={name:h.name,type:c,"in":"header"},f.description&&(b[f.name].description=f.description)}if(f.hasOwnProperty("queryString")&&f.queryString.length>0)for(var i in f.queryString)if(f.queryString.hasOwnProperty(i)){var j=f.queryString[i];b[f.name]={name:j.name,type:c,"in":"query"},f.description&&(b[f.name].description=f.description)}}break;case"oauth2":for(var k in d)if(d.hasOwnProperty(k)){var l=d[k],m=l.scopes,n={};for(var o in m)if(m.hasOwnProperty(o)){var q=m[o];n[q.name]=q.value}var r={type:c,flow:l.flow,scopes:n};l.description&&(r.description=l.description),["implicit","accessCode"].indexOf(l.flow)>=0&&(r.authorizationUrl=l.authorizationUrl),["password","application","accessCode"].indexOf(l.flow)>=0&&(r.tokenUrl=l.tokenUrl),b[l.name]=r}break;case"basic":for(var s in d)if(d.hasOwnProperty(s)){var t=d[s],u={type:c};p.isEmpty(t.description)||(u.description=t.description),b[t.name]=u}}}return b}},{key:"convertTypes",value:function(a){if(p.isArray(a))for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];("null"===c||null===c)&&(a.includes("string")||(a[b]="string"),a.splice(b,1))}return 1==a.length?a[0]:a}},{key:"convertDefinitions",value:function(a){if(a.items.hasOwnProperty("$ref")){var b=a.items.$ref.split("/"),c=b[b.length-1],d=a.definitions;for(var e in d)if(d.hasOwnProperty(e)&&e===c){a.items=d[e],delete d[e],p.isEmpty(a.definitions)&&delete a.definitions;break}}return a}},{key:"_addPatternedObjects",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];p.startsWith(c,"x-")&&(b[c]=d)}}},{key:"_isTemplateUri",value:function(a){var b=decodeURI(a);return-1!==b.indexOf("{")||-1!==b.indexOf("}")}},{key:"_convertToTemplateUri",value:function(a){a["x-basePath"]=decodeURI(a.basePath),delete a.basePath}}]),b}(i);b.exports=s},{"../entities/swagger/definition":87,"../helpers/swagger":98,"../utils/array.js":106,"../utils/json.js":107,"../utils/strings.js":108,"../utils/url":109,"../utils/xml.js":110,"./exporter":91,lodash:79,url:183}],96:[function(a,b,c){"use strict";var d={AUTO:{name:"Auto",className:"Auto",formats:["json"],"import":!0,"export":!1},OAS:{name:"OAS 2.0",className:"Swagger",formats:["json","yaml"],"import":!0,"export":!0},RAML08:{name:"RAML 0.8",className:"RAML08",formats:["yaml"],"import":!0,"export":!1},RAML10:{name:"RAML 1.0",className:"RAML10",formats:["yaml"],"import":!0,"export":!0}};b.exports=d},{}],97:[function(a,b,c){"use strict";var d=a("lodash");b.exports={getValidCharacters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",".","-","_"],getReplacementCharacter:"_",getRAML10ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","nil","time-only","datetime-only"],getRAML08ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","null","time-only","datetime-only"],getNumberTypes:["number","integer"],getValidFormat:["byte","binary","password","date","date-time"],parameterMappings:{},getSupportedParameterFields:["displayName","type","description","default","maximum","minimum","maxLength","minLength","pattern","enum","format","collectionFormat","allowEmptyValue","exclusiveMaximum","exclusiveMinimum","maxItems","minItems","uniqueItems","required","facets","items","example","examples","(oas-allowEmptyValue)","(oas-collectionFormat)","(oas-exclusiveMaximum)","(oas-exclusiveMinimum)"],getRFC3339Format:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.(\d*)Z$/,getDateOnlyFormat:/^\d{4}[^-]\d{2}[^-]\d{2}$/,isNumberType:function(a){return this.getNumberTypes.indexOf(a)>=0},setParameterFields:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&this.getSupportedParameterFields.indexOf(c)>=0){if(b[this.parameterMappings[c]?this.parameterMappings[c]:c]="function"==typeof a[c]?a[c]():a[c],"function"==typeof b[c]&&(b[c]=b[c]()),"string"!=typeof b[c]&&b[c]&&b[c].value)b[c]=b[c].value();else if("enum"===c&&"string"==typeof b[c])try{b[c]=JSON.parse(b[c].replace(/\'/g,'"'))}catch(e){}(!b.hasOwnProperty(c)||d.isArray(b[c])&&d.isEmpty(b[c]))&&delete b[c]}return b},removeEmptyValueNodes:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];if(d.isArray(e)&&"example"!==c&&"examples"!==c){var f=[];for(var g in e)e.hasOwnProperty(g)&&f.push(d.isObject(e[g])?this.removeEmptyValueNodes(e[g]):e[g]);b[c]=f}else d.isObject(e)&&!d.isDate(e)&&"example"!==c&&"examples"!==c?b[c]=this.removeEmptyValueNodes(e):("accessTokenUri"===c||"content"===c||"default"===c||null!==e&&""!==e)&&(b[c]=e)}return b}}},{lodash:79}],98:[function(a,b,c){"use strict";b.exports={parameterMappings:{},getSupportedParameterFields:["type","description","default","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","enum","multipleOf","items","format","collectionFormat","allowEmptyValue","required","x-raml-example"],getSupportedSchemaFields:["$ref","format","title","description","default","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","enum","type","items","allOf","properties","additionalProperties","example","discriminator","xml","schemaPath"],setParameterFields:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&this.getSupportedParameterFields.indexOf(c)>=0&&(this.parameterMappings[c]?b[this.parameterMappings[c]]=a[c]:b[c]=a[c],"description"===c&&(b[c]=String(b[c])),"enum"===c&&"string"==typeof b[c]))try{b[c]=JSON.parse(b[c].replace(/\'/g,'"'))}catch(d){}return b},isExtension:function(a){return"x-"===a.substring(0,2)}}},{}],99:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("fs"),i=a("lodash"),j=a("../formats"),k=a("./importer"),l=a("../utils/url"),m={RAML08:a("./raml08"),RAML10:a("./raml10"),Swagger:a("./swagger")},n=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.importer=null,a}return f(b,a),g(b,[{key:"loadData",value:function(a,c,d){var e=this;return new Promise(function(f,g){if(!a)return g(new Error("No data provided"));var h=b.detectFormat(a);return h?e._parse(h,a,d,f,g,c):g(new Error("Unable to parse file. Invalid or unsupported syntax."))})}},{key:"loadFile",value:function(a,b){var c=this;if(l.isURL(a))return l.get(a).then(function(d){return c.loadData(d,b,a)});if(b&&b.fsResolver)return b.fsResolver.contentAsync(a).then(function(d){return c.loadData(d,b,a)});var d=h.readFileSync(a,"utf8");return this.loadData(d,b)}},{key:"_import",value:function(){return this.importer._import()}},{key:"_parse",value:function(a,b,c,d,e,f){var g=this,h=new m[a.className],i=c?h.loadFile(c,f):h.loadData(b,f);i.then(function(){g.data=h.data,g.importer=h,d()})["catch"](e)}}],[{key:"detectFormat",value:function(a){return a?(a=i.trim(a),/#%RAML[\s]*1\.?0?/.test(a)?j.RAML10:/#%RAML[\s]*0\.?8?/.test(a)?j.RAML08:/swagger:[\s'"]*\d\.?\d?/.test(a)||/{"swagger":[\s'"]*\d\.?\d?/.test(a)?j.OAS:void 0):void 0}}]),b}(k);b.exports=n},{"../formats":96,"../utils/url":109,"./importer":101,"./raml08":103,"./raml10":104,"./swagger":105,fs:4,lodash:79}],100:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../entities/endpoint"),j=a("./importer"),k=a("../entities/project"),l=a("../utils/json"),m=a("../utils/xml"),n=a("../helpers/raml"),o=a("../entities/schema"),p=a("url"),q=a("lodash"),r={serializeMetadata:!1},s=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.schemas=[],a}return f(b,a),h(b,[{key:"_mapSecuritySchemes",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];switch(f.type){case"Pass Through":b.apiKey||(b.apiKey=[]);var g={name:e};if(f.describedBy){if(f.describedBy.headers)for(var h in f.describedBy.headers)if(f.describedBy.headers.hasOwnProperty(h)){var i=f.describedBy.headers[h];g.headers=[],g.headers.push({name:i.name})}if(f.describedBy.queryParameters)for(var j in f.describedBy.queryParameters)if(f.describedBy.queryParameters.hasOwnProperty(j)){var k=f.describedBy.queryParameters[j];g.queryString=[],g.queryString.push({name:k.name})}}f.description&&(g.description=f.description),b.apiKey.push(g);break;case"OAuth 2.0":b.oauth2||(b.oauth2=[]);var l={name:e,authorizationUrl:f.settings.authorizationUri||"",tokenUrl:f.settings.accessTokenUri||"",scopes:[]};if(Array.isArray(f.settings.scopes))for(var m in f.settings.scopes)f.settings.scopes.hasOwnProperty(m)&&l.scopes.push({name:f.settings.scopes[m],value:""});var n=q.isEmpty(f.settings.authorizationGrants)?"code":f.settings.authorizationGrants[0];l=this.mapAuthorizationGrants(l,n),f.description&&(l.description=f.description),b.oauth2.push(l);break;case"Basic Authentication":b.basic||(b.basic=[]),b.basic.push({name:e,value:"",description:f.description||""})}}}return b}},{key:"_mapRequestBody",value:function(a,b){return this.mapRequestBody(a,b)}},{key:"_mapHeadersParameters",value:function(a,b){return this._mapParameters(a,b,"headers")}},{key:"_mapQueryParameters",value:function(a,b){return this._mapParameters(a,b,"queryParameters")}},{key:"_mapParameters",value:function(a,c,d){c&&b._filterPropertiesFromTraits(a,c,d);var e={type:"object",properties:{},required:[]};for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],h=n.setParameterFields(g,{});e.properties[f]=this.convertRefToModel(h,!1),b._convertRequiredToArray(g,f,e.required)}return e}},{key:"_mapQueryString",value:function(a){var c=a;delete c.typePropertyKind,b._mapTypesFormats(a,!1),a.properties&&(a.required=[]);for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d];b._convertRequiredToArray(e,d,a.required)}return c}},{key:"_mapRequestHeaders",value:function(a,b){return this._mapHeadersParameters(a,b)}},{key:"_mapURIParams",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(q.includes(c,f.name)){d.properties[f.name]={type:f.type||"string"};var g=f.displayName||f.description;g&&(d.properties[f.name].description=g),b._convertRequiredToArray(f,f.name,d.required),b._addAnnotations(f,d.properties[f.name])}}return d}},{key:"_mapResponseBody",value:function(a){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f={};if(e.hasOwnProperty("body")&&!q.isEmpty(e.body)){var g=Object.keys(e.body)[0];e.body[g].hasOwnProperty("displayName")&&delete e.body[g].displayName,f=this.mapRequestBody(e.body[g],!1,g)}if(f.codes=[e.code],f.body&&(f.body=l.parse(l.cleanSchema(f.body))),e.headers){var h={};for(var i in e.headers)if(e.headers.hasOwnProperty(i)){var j=e.headers[i];j.hasOwnProperty("type")?b._mapTypesFormats(j,!1):j.type="string",h[j.name]=this._mapQueryString(j),delete h[j.name].name,j=b._mapExamples(j),j.description&&q.isEmpty(j.description)&&(j.description="")}f.headers=h}e.description&&(f.description=q.isEmpty(e.description)?"":l.stringify(e.description)),b._addAnnotations(e,f),c.push(f)}return c}},{key:"_mapSchemas",value:function(a){b._checkForDefaultType(a);var c=[],d=[];for(var e in a)if(a.hasOwnProperty(e))for(var f in a[e])if(a[e].hasOwnProperty(f)){var g=new o(f);g.Name=f;var h=l.parse(a[e][f]);h.hasOwnProperty("definitions")&&(d=this.addDefinitions(h,d)),g.Definition=this._mapSchema(a[e][f],!0,!1),c.push(g)}return q.isEmpty(d)||(c=q.concat(c,this._mapSchemas(d))),c}},{key:"addDefinitions",value:function(a,b){var c=a.definitions;b||(b=[]);for(var d in c)if(c.hasOwnProperty(d)){var e={};e[d]=l.stringify(c[d]);var f=b.map(function(a){return Object.keys(a)[0]});q.includes(f,d)||b.push(e)}return delete a.definitions,b}},{key:"isValidRefValues",value:function(a){if(!q.isArray(a))return this.isValidRefValue(a);for(var b=!0,c=0;c<a.length&&1==b;c++)b=this.isValidRefValue(a[c]);return b}},{key:"isValidRefValue",value:function(a){return"string"==typeof a&&this.isDefinedAsSchema(this.getSchemas(this.data),a)}},{key:"convertRefToModel",value:function(a,c,d){if(l.isJson(a))return a;if("string"==typeof a)return this.isValidRefValue(a)?{$ref:"#/definitions/"+a}:a;delete a.typePropertyKind;for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(f)if("type"===e&&(q.isArray(a[e])&&1==a[e].length&&(a[e]=a[e][0]),f=a[e],"object"===f||"string"!=typeof f||m.isXml(f)||(a[e]=b._modifyUnionType(f),f=a[e]),l.isJson(f)?(a=f,delete a[e]):m.isXml(f)?a.type="object":this.isValidRefValues(f)&&(a.ref=f,delete a[e]),d||b._mapTypesFormats(a,c)),"example"===e||"examples"===e)a=b._mapExamples(a);else if("object"===("undefined"==typeof f?"undefined":g(f))){if("items"===e&&!f.hasOwnProperty("type")&&!f.hasOwnProperty("properties")){if(q.isArray(f))return a.items={ref:f[0]},a;f.type="string"}"fixedFacets"==e?delete a[e]:"xml"==e?a[e]=f:a[e]=this.convertRefToModel(f,c,"properties"===e&&!d)}else"name"==e&&delete a[e]}return a}},{key:"_mapEndpoint",value:function(a,c,d,e){var f=JSON.parse(JSON.stringify(e)),g=d+c.relativeUri;if(c.uriParameters)if(q.isEmpty(f))f=this._mapURIParams(c.uriParameters,g);else{var h=this._mapURIParams(c.uriParameters,g);q.merge(f.properties,h.properties),f.required=q.concat(f.required,h.required)}var j={path:g,endpoints:[],annotations:{}};c.hasOwnProperty("is")&&(j.is=c.is),c.displayName&&(j.displayName=c.displayName),c.description&&(j.description=c.description),b._addAnnotations(c,j.annotations);var k=c.methods;for(var m in k)if(k.hasOwnProperty(m)){var n=k[m],o=n.summary?n.summary:"",p=new i(o);if(p.Method=n.method,p.Path=d+c.relativeUri,p.Description=n.description?l.stringify(n.description):"",p.SetOperationId(n.displayName),n.body){var r=b.mapMimeTypes(n.body,this.data.mediaType);p.Consumes=r.length>0?r:null,this.mapRequestBodies(p,n.body,!0)}if(n.queryParameters?p.QueryString=this._mapQueryParameters(n.queryParameters,this.data.traits):n.queryString&&(p.QueryString=this._mapQueryString(n.queryString)),n.headers&&(p.Headers=this._mapRequestHeaders(n.headers,this.data.traits)),n.responses){var s=[];for(var t in n.responses)n.responses.hasOwnProperty(t)&&n.responses[t]&&n.responses[t].body&&(s=s.concat(b.mapMimeTypes(n.responses[t].body,this.data.mediaType)));var u=q.uniq(s);p.Produces=u.length>0?u:null,p.Responses=this._mapResponseBody(n.responses)}p.traits=[];var v=q.union(c.is,n.is);v&&(v instanceof Array?p.traits=v:v instanceof Object&&(p.traits=Object.keys(v))),n.hasOwnProperty("is")&&(p.is=n.is),p.PathParams=f;var w=n.securedBy;if(Array.isArray(w)){p.securedBy=[];for(var x in w)if(w.hasOwnProperty(x))if("string"==typeof w[x])p.securedBy.push(w[x]);else for(var y in w[x])if(w[x].hasOwnProperty(y)){var z=w[x][y];if(z.scopes){var A={};A[y]=z.scopes,p.securedBy.push(A)}else p.securedBy.push(y)}}b._addAnnotations(n,p),j.endpoints.push(p)}a.addResource(j);var B=c.resources;if(B&&B.length>0)for(var C=0;C<B.length;C++)this._mapEndpoint(a,B[C],d+c.relativeUri,f)}},{key:"loadFile",value:function(a,c){var d=this;return new Promise(function(e,f){var g=window.RAML.Parser;g.loadApi(a,b._options(c)).then(function(a){try{d.data=a.expand(!0).toJSON(r),e()}catch(b){f(b)}})["catch"](f)})}},{key:"loadData",value:function(a,c){var d=this;return new Promise(function(e,f){try{var g=window.RAML.Parser,h=g.parseRAMLSync(a,b._options(c));"Error"===h.name?f(error):(d.data=h.expand(!0).toJSON(r),e())}catch(i){f(i)}})}},{key:"_mapHost",value:function(a){var c=p.parse(this.data.baseUri||"");if(a.Environment.Host=c.protocol&&c.host?c.protocol+"//"+c.host:null,a.Environment.BasePath=c.path,
this.data.hasOwnProperty("scalarsAnnotations")&&this.data.scalarsAnnotations.hasOwnProperty("baseUri")){var d=q.reduce(this.data.scalarsAnnotations.baseUri,function(a,b){return a[b.name]={structuredValue:b.structuredValue},a},{});b._addAnnotations({annotations:d},a.Environment)}}},{key:"_mapTraits",value:function(a,c){var d=[];for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];for(var g in f)if(f.hasOwnProperty(g)){var h=f[g],i={_id:g,name:g,description:"",request:{},responses:[]};if(q.isEmpty(h.usage)?delete i.description:i.description=l.stringify(h.usage),h.queryParameters){var j=b._filterParametricTraits(this._mapQueryParameters(h.queryParameters),c);q.isEmpty(j.properties)||(i.request.queryString=j)}if(h.headers){var k=b._filterParametricTraits(this._mapRequestHeaders(h.headers),c);q.isEmpty(k.properties)||(i.request.headers=k)}h.responses?i.responses=this._mapResponseBody(h.responses):delete i.responses,d.push(i)}}return d}},{key:"_import",value:function(){try{var a=new k(this.data.title);if(a.Environment.Version=this.data.version,a.Environment.Version||delete a.Environment.Version,this.description(a,this.data),this._mapHost(a),!q.isEmpty(this.data.protocols)){a.Environment.Protocols=this.data.protocols;for(var c in a.Environment.Protocols)a.Environment.Protocols.hasOwnProperty(c)&&(a.Environment.Protocols[c]=a.Environment.Protocols[c].toLowerCase())}var d=[],e=this.data.mediaType;if(e){q.isArray(e)||(e=[e]);for(var f in e)e.hasOwnProperty(f)&&e[f]&&d.push(e[f])}d.length&&(a.Environment.Produces=d,a.Environment.Consumes=d),a.Environment.SecuritySchemes=this._mapSecuritySchemes(this.data.securitySchemes);var g=this.data.resources;if(!q.isEmpty(g))for(var h=0;h<g.length;h++)this._mapEndpoint(a,g[h],"",{});var i=this._mapSchemas(this.getSchemas(this.data));for(var j in i)i.hasOwnProperty(j)&&a.addSchema(i[j]);return a.traits=this._mapTraits(this.data.traits,!1),a.parametricTraits=this._mapTraits(this.data.traits,!0),a.uses=this.data.uses,b._addAnnotations(this.data,a),a}catch(l){throw console.error("raml#import",l),l}}},{key:"mapRequestBodies",value:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];a.Body=this.mapRequestBody(e,c,d)}}},{key:"description",value:function(){throw new Error("description method not implemented")}},{key:"mapRequestBody",value:function(){throw new Error("mapRequestBody method not implemented")}},{key:"_mapSchema",value:function(){throw new Error("mapSchema method not implemented")}},{key:"getSchemas",value:function(){throw new Error("getSchema method not implemented")}},{key:"mapAuthorizationGrants",value:function(){throw new Error("convertAuthorizationGrants method not implemented")}},{key:"isDefinedAsSchema",value:function(){throw new Error("isDefinedAsSchema method not implemented")}}],[{key:"getCustomProperty",value:function(a){return"__custom-"+a}},{key:"_filterPropertiesFromTraits",value:function(a,c,d){for(var e in c)if(c.hasOwnProperty(e))for(var f in c[e])if(c[e].hasOwnProperty(f)){var g=c[e][f];if(g.hasOwnProperty(d))for(var h in g[d])if(g[d].hasOwnProperty(h)){var i=g[d][h],j=b._isParametricTrait(i),k=q.find(a,{name:i.name});k&&!j&&delete a[h]}}}},{key:"_isParametricTrait",value:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"object"===("undefined"==typeof d?"undefined":g(d))&&"required"!==c?b=this._isParametricTrait(d):q.includes(d,"<<")&&q.includes(d,">>")?b=!0:"number"==typeof d&&q.isNaN(d)&&(b=!0)}return b}},{key:"_convertRequiredToArray",value:function(a,b,c){a.hasOwnProperty("required")&&a.required!==!0||c.push(b),delete a.required}},{key:"_mapTypesFormats",value:function(a,c){if(!a.hasOwnProperty("type")||"object"===a.type)return a;var d=q.isArray(a.type)&&1==a.type.length?a.type[0]:a.type;switch(a.type=d,d){case"date-only":a.type="string",a.format="date";break;case"time-only":a.type="string",a[b.getCustomProperty("format")]="time-only";break;case"datetime-only":a.type="string",a[b.getCustomProperty("format")]="datetime-only";break;case"datetime":a.type="string","rfc3339"!=a.format&&a.hasOwnProperty("format")?(a[b.getCustomProperty("format")]=a.format,delete a.format):a.format="date-time";break;case"file":c&&(a.type="string",a[b.getCustomProperty("type")]="file"),a.hasOwnProperty("fileTypes")&&(a[b.getCustomProperty("fileTypes")]=a.fileTypes,delete a.fileTypes);break;default:"string"==typeof d&&(d.includes("|")||d.includes("?"))?a.type="object":"object"!==("undefined"==typeof d?"undefined":g(d))&&n.getRAML10ScalarTypes.indexOf(d)<0&&(a[b.getCustomProperty("type")]=d,a.type="string")}}},{key:"_checkForDefaultType",value:function(a){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)){var e=a[c][d];b._fillDefaultType(e)}}},{key:"_fillDefaultType",value:function(a){if(a.properties){for(var c in a.properties)if(a.properties.hasOwnProperty(c)){var d=a.properties[c];b._fillDefaultType(d)}}else"object"!==("undefined"==typeof a?"undefined":g(a))||a.hasOwnProperty("type")||a.hasOwnProperty("schema")||(a.type=["string"])}},{key:"_modifyUnionType",value:function(a){return(a.includes("|")||a.includes("?"))&&(a="object"),a}},{key:"mapMimeTypes",value:function(a,b){var c=[],d=[];for(var e in b)b.hasOwnProperty(e)&&b[e].value&&d.push(b[e].value);for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g.name){var h=g.name;-1===d.indexOf(h)&&c.push(h)}}return q.uniq(c)}},{key:"_options",value:function(a){var b=a&&(a.validate===!0||a.validateImport===!0),c={attributeDefaults:!1,rejectOnErrors:b};return a?q.merge(c,a):c}},{key:"_filterParametricTraits",value:function(a,c){var d={properties:{},required:[]};for(var e in a.properties)if(a.properties.hasOwnProperty(e)){var f=a.properties[e],g=b._isParametricTrait(f);(!g||c)&&(g||!c)&&(d.properties[e]=f,q.indexOf(a.required,e)>=0&&d.required.push(e))}return d}},{key:"_addAnnotations",value:function(a,b){if(a.annotations){var c=a.annotations;for(var d in c)if(c.hasOwnProperty(d)&&!q.startsWith(d,"oas-")){var e=c[d],f="x-annotation-"+d;b[f]=e.structuredValue||""}b.annotations&&delete b.annotations}}},{key:"_mapExamples",value:function(a){if(a.hasOwnProperty("example")){var c=a.example;a.hasOwnProperty("structuredExample")&&(c=a.structuredExample,delete a.structuredExample),c.hasOwnProperty("structuredValue")?a.example=c.structuredValue:c.hasOwnProperty("value")&&(a.example=JSON.parse(c.value)),c.hasOwnProperty("strict")&&!c.strict&&(a.example.strict=!1),c.hasOwnProperty("name")&&c.name&&(a.example[b.getCustomProperty("example-name")]=c.name)}else if(a.hasOwnProperty("examples")){var d=a.examples;for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];f.hasOwnProperty("structuredValue")?a.examples[e]=f.structuredValue:f.hasOwnProperty("value")&&(a.examples[e]=JSON.parse(f.value)),f.hasOwnProperty("strict")&&!f.strict&&(a.examples[e].strict=!1),f.hasOwnProperty("name")&&f.name&&(a.examples[e][b.getCustomProperty("example-name")]=f.name)}}return a}}]),b}(j);b.exports=s},{"../entities/endpoint":83,"../entities/project":85,"../entities/schema":86,"../helpers/raml":97,"../utils/json":107,"../utils/xml":110,"./importer":101,lodash:79,url:183}],101:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.data=null}return e(a,[{key:"loadFile",value:function(){throw new Error("loadFile method not implemented")}},{key:"loadData",value:function(a){return this.data=a,new Promise(function(a){a()})}},{key:"_import",value:function(){throw new Error("_import method not implemented")}},{key:"import",value:function(){if(!this.IsDataLoaded)throw new Error("data not loaded for "+this.constructor.name.toString());return this._import()}},{key:"_mapEndpoint",value:function(){throw new Error("_mapEndpoint method not implemented")}},{key:"_mapSchema",value:function(){throw new Error("_mapSchema method not implemented")}},{key:"_mapQueryString",value:function(){throw new Error("_mapQueryString method not implemented")}},{key:"_mapURIParams",value:function(){throw new Error("_mapURIParams method not implemented")}},{key:"_mapRequestBody",value:function(){throw new Error("_mapRequestBody method not implemented")}},{key:"_mapResponseBody",value:function(){throw new Error("_mapResponseBody method not implemented")}},{key:"_mapRequestHeaders",value:function(){throw new Error("_mapRequestHeaders method not implemented")}},{key:"IsDataLoaded",get:function(){return null!==this.data}}]),a}();b.exports=f},{}],102:[function(a,b,c){"use strict";function d(a){return!(!a||!a.name||!e.hasOwnProperty(a.className))}var e={RAML08:a("./raml08"),RAML10:a("./raml10"),Swagger:a("./swagger"),Auto:a("./auto")};b.exports={hasSupport:d,factory:function(a){return d(a)?new e[a.className]:null}}},{"./auto":99,"./raml08":103,"./raml10":104,"./swagger":105}],103:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./baseraml"),i=a("../utils/json"),j=a("../helpers/raml"),k=a("../entities/text"),l=a("lodash"),m=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),g(b,[{key:"mapRequestBody",value:function(a,b,c){var d={mimeType:"",body:{},example:""};if(d.mimeType=c,a.example&&(d.example=a.example),a.schema){var e=i.parse(a.schema);e.hasOwnProperty("definitions")&&(this.data.schemas=this.addDefinitions(e,this.data.schemas),a.schema=i.stringify(e)),d.body=this._mapSchema(this.convertRefToModel(i.parse(a.schema),!1))}else if(a.formParameters){d.body={type:"object",properties:{},required:[]};var f=a.formParameters;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];d.body.properties[h.name]={type:h.type},h.description&&(d.body.properties[h.name].description=h.description),h.required&&d.body.required.push(h.name)}}return d}},{key:"isDefinedAsSchema",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)&&d===b)return!0;return!1}},{key:"_mapSchema",value:function(a,b,c){if("string"==typeof a&&(a=i.parse(a)),"string"==typeof a)return a;c||(a.required=a.hasOwnProperty("required")&&l.isArray(a.required)?a.required:[]);for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d];e=l.isArray(e)?e[0]:e,a.properties[d]=e,e.hasOwnProperty("required")&&"boolean"==typeof e.required&&!c&&(e.required&&!a.required.includes(d)&&a.required.push(d),delete e.required)}for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(c)a[f]=this._mapSchema(g,b,!1);else if("items"===f)if(l.isArray(g)&&0==g.length)a[f]={type:"string"};else if(l.isArray(g)||g.hasOwnProperty("0"))for(var k in g)g.hasOwnProperty(k)&&(a[f][k]=this._mapSchema(g[k],b,!1));else a[f]=this._mapSchema(g,b,!1);else"type"===f?(l.isArray(g)&&(1==g.length?g=g[0]:0==g.length&&(a[f]="array",a.items={type:"string"},g="array")),"string"==typeof g&&"object"!=g&&j.getRAML08ScalarTypes.indexOf(g)<0&&(a[h.getCustomProperty("type")]=g,a.type="string"),"string"!=typeof g||"array"!==g||a.hasOwnProperty("items")||(a.hasOwnProperty("properties")?(a.items={type:"object",properties:this._mapSchema(a.properties,b,!c)},a.hasOwnProperty("required")&&!l.isEmpty(a.required)&&(a.items.required=a.required,delete a.required),delete a.properties):a.items={type:"string"})):"properties"===f&&(a[f]=this._mapSchema(g,b,!c))}return a.required&&0==a.required.length&&delete a.required,a}},{key:"getSchemas",value:function(a){return a.schemas}},{key:"mapAuthorizationGrants",value:function(a,b){switch(b){case"code":a.flow="accessCode";break;case"token":a.flow="implicit";break;case"credentials":a.flow="application";break;case"owner":a.flow="password"}return a}},{key:"description",value:function(a,b){var c=b.documentation;if(c&&c.length>0&&(a.Description=c[0].content,a.Environment.summary=c[0].content),c)for(var d in c)if(c.hasOwnProperty(d)){var e=c[d],f=new k(e.title);f.Public=!0,f.Content=e.content,a.addText(f)}}}]),b}(h);b.exports=m},{"../entities/text":89,"../helpers/raml":97,"../utils/json":107,"./baseraml":100,lodash:79}],104:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./baseraml"),j=a("../utils/json"),k=a("lodash"),l=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"mapRequestBody",value:function(a,c,d){var e={mimeType:""};if(c&&i._fillDefaultType(a),e.mimeType=d,a.description&&(e.description=a.description,delete a.description),a.properties&&!k.isEmpty(a.properties))switch(e.mimeType){case"application/json":e.body=this._mapSchema(a,!0,!1),delete e.body.description;break;case"multipart/form-data":case"application/x-www-form-urlencoded":e.body={type:"object",properties:{},required:[]};var f=a.properties;for(var h in f)if(f.hasOwnProperty(h)){var l=f[h],m=k.isEmpty(l.type)?l.type:l.type[0];e.body.properties[l.name]={type:m},l.description&&(e.body.properties[l.name].description=l.description),l.format&&(e.body.properties[l.name].format=l.format),i._convertRequiredToArray(l,l.name,e.body.required)}}else if(b.isArray(a))e.body=this.convertRefToModel(this.convertArray(a),!1,!1);else if(a.schema&&!k.isEmpty(a.schema)){var n=k.isArray(a.schema)?a.schema[0]:a.schema;"object"!==("undefined"==typeof n?"undefined":g(n))&&(n=j.parse(n)),n.hasOwnProperty("definitions")&&(this.data.types=this.addDefinitions(n,this.data.types)),e.body=this._mapSchema(this.convertRefToModel({type:n},!1),!1,!1)}else a.type&&!k.isEmpty(a.type)&&"object"!==a.type[0]&&(e.body=this._mapSchema(a,!1,!1));return e}},{key:"convertArrayTypeExpression",value:function(a){for(var b=!0,c={},d=[],e=0;e<a.length;e++){var f=a[e];if("object"===("undefined"==typeof f?"undefined":g(f))){if(!f.hasOwnProperty("type")||"string"!=typeof f.type[0]||!this.isValidRefValue(f.type[0])){b=!1;break}d.push(f.type[0])}}return b?(c.name=a[0].name,c.type=d,c.typePropertyKind="TYPE_EXPRESSION",c):a}},{key:"convertObjectProperty",value:function(a){var c=this,d=Object.assign({},a);d.properties={},"array"!==a.type&&(d.type="object"),d.required=[],a.hasOwnProperty("description")&&!k.isEmpty(a.description)&&(d.description=j.stringify(a.description));var e=function(e){var f=!1;if(!a.properties.hasOwnProperty(e))return"continue";var h=a.properties[e],j=k.isArray(h)?c.convertArrayTypeExpression(h):h;if(b.isArray(j)?d.properties[e]=c.convertArray(j):b.isFacet(j)?d.properties[e]=b.convertFacet(j):b.isAdditionalProperties(j)?(b.convertAdditionalProperties(d,j),f=!0):(k.isArray(j.type)&&j.type.length>1&&(b._removeHarmlessChars(j.type),b._modifyUnionTypeDef(j),j.allOf=j.type,delete j.type),k.isArray(j.type)||"object"!==g(j.type)||(j.type=c._mapSchema(j.type,!1,!1),j=c.mapNestedType(j)),d.properties[e]=j),f)return"continue";if(i._addAnnotations(j,d.properties[e]),i._convertRequiredToArray(j,e,d.required),j.hasOwnProperty("scalarsAnnotations")&&j.scalarsAnnotations.hasOwnProperty("required")){var l=k.reduce(j.scalarsAnnotations.required,function(a,b){return a[j.name+"-"+b.name]={structuredValue:b.structuredValue},a},{});i._addAnnotations({annotations:l},d)}j.properties&&!k.isEmpty(j.properties)&&(d.properties[e]=c.convertObjectProperty(j))};for(var f in a.properties){e(f)}return d.required&&0==d.required.length&&delete d.required,d.properties&&k.isEmpty(d.properties)&&delete d.properties,d}},{key:"mapNestedType",value:function(a){var b=a.type,c=["properties","required"];for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];a[d]=c.indexOf(d)>-1&&a.hasOwnProperty(d)?k.merge(a[d],e):e}return a}},{key:"_mapSchema",value:function(a,c,d){"string"==typeof a&&(a=j.parse(a));var e=null,f=a;if(a.properties&&!k.isEmpty(a.properties)&&(e=this.convertObjectProperty(a)),a.hasOwnProperty("type")&&"object"!=a.type)if(k.isArray(a.type)&&(b._removeHarmlessChars(a.type),b._modifyUnionTypeDef(a)),e)f.allOf=a.type,f.allOf.push(e),delete f.type,delete f.properties;else if(f=this._convertCustomTypes(a),k.isArray(a.type)&&a.type.length>1)f.allOf=a.type,delete f.type;else{var h=j.parse(k.isArray(a.type)?a.type[0]:a.type);"object"===("undefined"==typeof h?"undefined":g(h))&&(h=this.convertObjectProperty(h),f=h)}else e?f=e:a.hasOwnProperty("schema")?(a=j.parse(k.isArray(a.schema)?a.schema[0]:a.schema),f=this.convertObjectProperty(a)):"object"==a.type&&(f=a);return i._addAnnotations(a,f),f=this._convertCustomTypes(f),this.convertRefToModel(f,c,d)}},{key:"isDefinedAsSchema",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)&&d===b)return!0;return!1}},{key:"_convertCustomTypes",value:function(a){return b.isArray(a)?a=this.convertArray(a):b.isFacet(a)?a=b.convertFacet(a):b.isFixedFacet(a)&&(a=b.convertFixedFacet(a)),a}},{key:"convertArray",value:function(a){if(a.hasOwnProperty("items"))if(a.items.hasOwnProperty("type"))a.items.type=k.isArray(a.items.type)?a.items.type[0]:a.items.type,"object"===a.items.type&&a.items.hasOwnProperty("properties")&&(a.items=this.convertObjectProperty(a.items));else{var c=a.items;b.isRamlArray(c)?a.items=this.convertArray(b.convertRamlArray(a.items)):("object"!==("undefined"==typeof c?"undefined":g(c))||k.isArray(c))&&(a.items={type:c})}else{var d=k.isArray(a.type)?a.type[0]:a.type;a=b.convertRamlArray(d)}return a.type="array",a}},{key:"getSchemas",value:function(a){return a.types||a.schemas}},{key:"mapAuthorizationGrants",value:function(a,b){switch(b){case"authorization_code":a.flow="accessCode";break;case"implicit":a.flow="implicit";break;case"client_credentials":a.flow="application";break;case"password":a.flow="password"}return a}},{key:"description",value:function(a,b){b.description&&(a.Description=b.description)}}],[{key:"_modifyUnionTypeDef",value:function(a){var b=a.type;b.length>1&&(a[i.getCustomProperty("union-type-definition")]="["+k.join(b,",")+"]");for(var c in b)b.hasOwnProperty(c)&&b[c].includes("|")&&(b[c]={type:"object"});return a}},{key:"_removeHarmlessChars",value:function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=k.replace(k.replace(a[b],")",""),"(",""));return a}},{key:"isArray",value:function(a){var b=k.isArray(a.type)?a.type[0]:a.type;return"array"===b&&a.items||!a.hasOwnProperty("items")&&k.endsWith(b,"[]")}},{key:"isFacet",value:function(a){return a.facets}},{key:"isAdditionalProperties",value:function(a){return k.startsWith(a.name,"/")&&k.endsWith(a.name,"/")}},{key:"isFixedFacet",value:function(a){return a.fixedFacets}},{key:"isRamlArray",value:function(a){return k.endsWith(a,"[]")}},{key:"convertRamlArray",value:function(a){return{type:"array",items:{type:k.replace(a,"[]","")}}}},{key:"convertAdditionalProperties",value:function(a,b){var c=b.type,d=b.name,e={};k.isArray(c)&&1==c.length&&(e.type=c[0]),"//"!==d&&(e.pattern=d),e.hasOwnProperty("pattern")?(a.hasOwnProperty("additionalProperties")||(a.additionalProperties={},a.additionalProperties[i.getCustomProperty("additional-properties-info")]=[]),a.additionalProperties.type?a.additionalProperties.type="object":a.additionalProperties.type=e.type,a.additionalProperties[i.getCustomProperty("additional-properties-info")].push(e)):(a.additionalProperties={},a.additionalProperties.type=e.type)}},{key:"convertFacet",value:function(a){var b=a.facets,c=[];for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];e[d]=k.isArray(e.type)?e.type[0]:e.type,delete e.name,delete e.type,delete e.typePropertyKind,c.push(e)}return a[i.getCustomProperty("facets")]=c,delete a.facets,a}},{key:"convertFixedFacet",value:function(a){var b=a.fixedFacets;for(var c in b)b.hasOwnProperty(c)&&(a.hasOwnProperty(c)?a[c]=b[c]:a[i.getCustomProperty("facets-"+c)]=b[c]);return delete a.fixedFacets,a}}]),b}(i);b.exports=l},{"../utils/json":107,"./baseraml":100,lodash:79}],105:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("swagger-parser"),i=a("../entities/swagger/method"),j=a("../entities/endpoint"),k=a("../entities/schema"),l=a("./importer"),m=a("../entities/project"),n=a("../utils/json"),o=a("../helpers/swagger"),p=a("js-yaml"),q=a("lodash"),r=/\/(parameters|responses)\/(.+)/i,s=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.dereferencedAPI=null,a}return f(b,a),g(b,[{key:"_mapSchema",value:function(a){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=new k(d);e.Name=d;var f=q.clone(a[d]),g=/^x-/;for(var h in f)f.hasOwnProperty(h)&&h.match(g)&&delete f[h];b.mapExample(f,e),e.Definition=f,c.push(e)}return c}},{key:"_mapQueryString",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];c&&b.needDeReferenced(f)||f["in"]&&"query"!==f["in"]||(d.properties[f.name]=o.setParameterFields(f,{}),f.required&&d.required.push(f.name))}return d}},{key:"_mapURIParams",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];(b.needDeReferenced(f)||f.hasOwnProperty("$ref"))&&c&&(f=c[e]),f["in"]&&"path"!==f["in"]||(d.properties[f.name]=o.setParameterFields(f,{}),d.required.push(f.name))}return d}},{key:"_mapRequestBody",value:function(a,c){if(!q.isEmpty(a)&&(q.some(a,{"in":"body"})||q.some(a,{"in":"formData"}))){var d={body:{properties:{},required:[]},example:""};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(b.needDeReferenced(f)&&(f=c[e]),!f["in"]||"body"===f["in"]||"formData"===f["in"])switch(f["in"]){case"body":b.mapExample(f.schema,d),d.body=f.schema,f.name&&(d.name=f.name),f.description&&(d.description=n.stringify(f.description));break;default:var g={};g=o.setParameterFields(f,g),f.required&&d.body.required.push(f.name),d.body.properties[f.name]=g}}return d.body.required&&0==d.body.required.length&&delete d.body.required,d}}},{key:"_mapResponseBody",value:function(a,c,d,e){var f=[];for(var g in a)if(a.hasOwnProperty(g)){var h={body:{},example:"",codes:[]},i="",j=a[g];if(!c||!b.needDeReferenced(j)||!j.$ref.match(/trait/)&&!q.includes(e,j.$ref)){var k=b.needDeReferenced(j);if(k&&d){var l=this._getResponses(j,d[g]),m=l.schema;i=n.stringify(l.description||""),h.body=m}else if(j.schema){var o=j.schema;b.needDeReferenced(j.schema)&&(i=n.stringify(d[g].description||""),o=d[g].schema),h.body=o}this._mapResponseExample(k?d[g]:j,h),b._mapResponseHeaders(k?d[g]:j,h),b._mapResponseDescription(k?d[g]:j,i,h),k&&(h.response_id=k[k.length-1]),h.codes.push(String(g)),f.push(h)}}var p=b._getExtensionsFrom(a);return q.isEmpty(p)||(f.extensions=p),f}},{key:"_mapResponseExample",value:function(a,b){if(a.hasOwnProperty("examples")&&!q.isEmpty(a.examples)){var c=a.examples;if(q.isArray(c))for(var d in c)c.hasOwnProperty(d)&&d===resType&&(b.example=n.stringify(c[d],4));else b.example=n.stringify(c,4)}}},{key:"_mapRequestHeaders",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];c&&b.needDeReferenced(f)||"header"===f["in"]&&(d.properties[f.name]=o.setParameterFields(f,{}),f.required&&d.required.push(f.name))}return d}},{key:"_parseData",value:function(a,b){var c=this;return new Promise(function(d,e){var f=q.cloneDeep(b||{}),g=b&&(b.validate===!0||b.validateImport===!0);f.validate={schema:g,spec:g};var i=q.cloneDeep(a);h.validate(i,f).then(function(){c._doParseData(a,b||{},d,e)})["catch"](e)})}},{key:"_doParseData",value:function(a,b,c,d){var e=this;h.parse(a,b).then(function(f){JSON.parse(JSON.stringify(f)),e.data=f;var g=void 0;g="string"==typeof a?h.dereference(a,JSON.parse(JSON.stringify(f)),b):h.dereference(JSON.parse(JSON.stringify(f)),b),g.then(function(a){b&&b.expand?e.data=a:e.dereferencedAPI=a,c()})["catch"](d)})["catch"](d)}},{key:"loadFile",value:function(a,b){return this._parseData(a,b)}},{key:"loadData",value:function(a,b){var c=this;return new Promise(function(d,e){var f=void 0;try{f=JSON.parse(a)}catch(g){try{f=p.safeLoad(a,{json:!0})}catch(g){return e(g)}}c._parseData(f,b).then(d)["catch"](e)})}},{key:"_getResponses",value:function(a,c){var d=void 0,e=b.needDeReferenced(a),f=b._isFilePath(a);if((e||f)&&c)if(f)d=c;else{var g=e[e.length-1];d=this.data.responses[g],d.$ref&&(d=c)}return d}},{key:"_mapEndpoints",value:function(a,c,d){var e=this;for(var f in this.data.paths)if(this.data.paths.hasOwnProperty(f)&&!q.startsWith(f,"x-")){var g=this.data.paths[f].hasOwnProperty("$ref")?this.dereferencedAPI.paths[f]:this.data.paths[f],h={},k={},l=[],m=[];g.parameters&&(h=this.dereferencedAPI?this.dereferencedAPI.paths[f].parameters:g.parameters,k=this._mapURIParams(g.parameters,h),l=b._mapEndpointTrait(g.parameters,this.dereferencedAPI.parameters),q.isEmpty(l)||a.addPathParamRef(f,l),m=b._getParams(g.parameters,h,function(a){return!(a["in"]&&"path"==a["in"])}));var o=function(h){if(!g.hasOwnProperty(h))return"continue";if("parameters"===h)return"continue";var l=new i(g[h],e.dereferencedAPI?e.dereferencedAPI.paths[f][h]:g[h]),o=e.dereferencedAPI?e.dereferencedAPI.paths[f][h]:g[h],p=new j(l.summary||""),r=b._getExtensionsFrom(o);q.isEmpty(r)||(p.extensions=r),p.Method=h,p.Path=f,p.Tags=l.tags||[],p.Summary=(l.summary||"").substring(0,139),p.Description=n.stringify(l.description),p.Deprecated=l.deprecated,p.SetOperationId(l.operationId),p.ExternalDocs=l.externalDocs,l.schemes&&(p.protocols=l.schemes);var s=q.union(m,b._getParams(l.parameters,o.parameters)),t=[];if(q.some(s,{"in":"body"})&&t.push("application/json"),q.some(s,{"in":"formData"})&&t.push("multipart/form-data"),c&&q.isArray(c)&&t.length&&c.forEach(function(a){return t=q.without(t,a)}),t.length&&(p.Consumes=t),l.consumes&&q.isArray(l.consumes)&&(t=q.uniq(p.Consumes&&q.isArray(p.Consumes)?p.Consumes.concat(l.consumes):l.consumes),c&&q.isArray(c)&&t.length&&c.forEach(function(a){return t=q.without(t,a)}),(p.Consumes||t.length)&&(p.Consumes=t)),"get"!==p.Method.toLowerCase()&&"head"!==p.Method.toLowerCase()){var u=e._mapRequestBody(s,o.parameters);u&&(p.Body=u)}p.traits=b._mapEndpointTraits(l.parameters,l.responses);var v=e._mapURIParams(l.parameters,o.parameters),w={};if(q.merge(w,k),q.merge(w,v),p.PathParams=w,p.Headers=e._mapRequestHeaders(s,!0),p.QueryString=e._mapQueryString(s,!0),l.produces&&q.isArray(l.produces)){var x=q.uniq(p.Produces&&q.isArray(p.Produces)?p.Produces.concat(l.produces):l.produces);d&&q.isArray(d)&&x.length&&d.forEach(function(a){return x=q.without(x,a)}),(p.Produces||x.length)&&(p.Produces=x)}var y=e._mapResponseBody(l.responses,!0,o.responses,e.$refs);if(y&&(p.Responses=y),l.security){var z=l.security;for(var A in z)if(z.hasOwnProperty(A)){var B=Object.keys(z[A]),C=B[0],D=q.get(e,["data","securityDefinitions",C]);if(D)switch(D.type){case"apiKey":case"basic":p.SecuredBy||(p.SecuredBy={}),p.SecuredBy[D.type]={name:C};break;case"oauth2":p.SecuredBy||(p.SecuredBy={}),p.SecuredBy[D.type]={name:C,scope:z[A][C]}}}}a.addEndpoint(p)};for(var p in g){o(p)}}}},{key:"_mapTraits",value:function(a,c,d){var e={},f={},g={},h={},i={},j={};for(var k in a)if(a.hasOwnProperty(k)){var l=a[k],m=k.split(":"),n=k;switch("trait"===m[0]&&(n=m[1]),b._isFilePath(l)&&(l=d[k]),l["in"]){case"query":f[n]=f[n]||[],f[n].push(l);break;case"header":g[n]=g[n]||[],g[n].push(l);break;case"formData":h[n]=h[n]||[],h[n].push(l);break;case"body":i[n]=i[n]||[],i[n].push(l)}}for(var o in c)if(c.hasOwnProperty(o)){var p=c[o],r=o,s=200,t=o.split(":");3===t.length&&"trait"===t[0]&&(r=t[1],s=t[2]),j[r]=j[r]||{},j[r][s]=p}for(var u in f)if(f.hasOwnProperty(u)){var v=e[u]||{_id:u,name:u,request:{},responses:[]};v.request.queryString=this._mapQueryString(f[u]),e[u]=v}for(var w in g)if(g.hasOwnProperty(w)){var x=e[w]||{_id:w,name:w,request:{},responses:[]};x.request.headers=this._mapRequestHeaders(g[w]),e[w]=x}for(var y in h)if(h.hasOwnProperty(y)){var z=e[y]||{_id:y,name:y,request:{},responses:[]};z.request.formData=this._mapRequestBody(h[y]),e[y]=z}for(var A in i)if(i.hasOwnProperty(A)){var B=e[A]||{_id:A,name:A,request:{},responses:[]};B.request.body=this._mapRequestBody(i[A]),e[A]=B}for(var C in j)if(j.hasOwnProperty(C)){var D=e[C]||{_id:C,name:C,request:{},responses:[]};D.responses=this._mapResponseBody(j[C]),e[C]=D}return q.values(e)}},{key:"_createExtensions",value:function(a){if(a.extensions=b._getExtensionsFrom(this.data),this.data.info){var c=b._getExtensionsFrom(this.data.info);q.isEmpty(c)||(a.Environment.extensions=c)}if(this.data.info.contact){var d=b._getExtensionsFrom(this.data.info.contact);q.isEmpty(d)||(a.Environment.contactInfo.extensions=d)}if(this.data.info.license){var e=b._getExtensionsFrom(this.data.info.license);q.isEmpty(e)||(a.Environment.license.extensions=e)}if(this.data.externalDocs){var f=b._getExtensionsFrom(this.data.externalDocs);q.isEmpty(f)||(a.Environment.ExternalDocs.extensions=f)}if(this.data.paths){var g=b._getExtensionsFrom(this.data.paths);q.isEmpty(g)||(a.endpointExtensions={},a.endpointExtensions=g)}}},{key:"_import",value:function(){var a=new m(this.data.info.title);a.Description=this.data.info.description||"",a.tags=this.data.tags;var c="http";this.data.schemes&&this.data.schemes.length>0&&(a.Environment.Protocols=this.data.schemes,c=this.data.schemes[0]),this._mapEndpoints(a,this.data.consumes,this.data.produces),a.Environment.summary=this.data.info.description||"",a.Environment.BasePath=this.data.basePath||"",a.Environment.Host=this.data.host?c+"://"+this.data.host:"",a.Environment.Version=this.data.info.version,this.data.externalDocs&&(a.Environment.ExternalDocs={description:this.data.externalDocs.description,
url:this.data.externalDocs.url}),this.data.info.contact&&(a.Environment.contactInfo={},this.data.info.contact.name&&(a.Environment.contactInfo.name=this.data.info.contact.name),this.data.info.contact.url&&(a.Environment.contactInfo.url=this.data.info.contact.url),this.data.info.contact.email&&(a.Environment.contactInfo.email=this.data.info.contact.email)),this.data.info.termsOfService&&(a.Environment.termsOfService=this.data.info.termsOfService),this.data.info.license&&(a.Environment.license={},this.data.info.license.name&&(a.Environment.license.name=this.data.info.license.name),this.data.info.license.url&&(a.Environment.license.url=this.data.info.license.url)),this.data.produces&&(a.Environment.Produces=this.data.produces),this.data.consumes&&(a.Environment.Consumes=this.data.consumes),this.data.securityDefinitions&&(a.Environment.SecuritySchemes=b._mapSecurityDefinitions(this.data.securityDefinitions,this.dereferencedAPI.securityDefinitions)),a.traits=this._mapTraits(this.data.parameters,this.data.responses,this.dereferencedAPI.parameters);var d=this._mapSchema(this.data.definitions);for(var e in d)d.hasOwnProperty(e)&&a.addSchema(d[e]);return this._createExtensions(a),a}}],[{key:"needDeReferenced",value:function(a){return a&&a.$ref?a.$ref.match(r):!1}},{key:"mapExample",value:function(a,b){a.example&&(b.example=n.stringify(a.example,4),delete a.example)}},{key:"_mapSecurityDefinitions",value:function(a,b){a.hasOwnProperty("$ref")&&(a=b);var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d].type,f=a[d];switch(e){case"apiKey":c.hasOwnProperty(e)||(c[e]={});var g={externalName:d,name:f.name,value:"",description:f.description},h="header"===f["in"]?"headers":"queryString";c[e].hasOwnProperty(h)||(c[e][h]=[]),c[e][h].push(g);break;case"oauth2":c.hasOwnProperty(e)||(c[e]=[]);var i={name:d,authorizationUrl:f.authorizationUrl||"",tokenUrl:f.tokenUrl||""},j=[],k=f.scopes;if(k)for(var l in k)if(k.hasOwnProperty(l)){var m={};m.name=l,m.value=k[l],j.push(m)}f.flow&&(i.flow=f.flow),f.description&&(i.description=f.description),q.isEmpty(j)||(i.scopes=j),c[e].push(i);break;case"basic":c.hasOwnProperty(e)||(c[e]=[]);var n={name:d,value:"",description:f.description||""};c[e].push(n)}}return c}},{key:"_mapResponseDescription",value:function(a,b,c){c.description=n.stringify(b||a.description||"")}},{key:"_mapResponseHeaders",value:function(a,b){a.hasOwnProperty("headers")&&!q.isEmpty(a.headers)&&(b.headers={properties:a.headers})}},{key:"findDefaultMimeType",value:function(a){if(!a||a.length<=0)return null;for(var b in a)if(a.hasOwnProperty(b)&&"application/json"===a[b])return a[b];return a[0]}},{key:"_mapEndpointTrait",value:function(a,c){var d=[];for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(b.needDeReferenced(f)&&!b._isFilePath(f)){var g=f.$ref.split("/"),h=g[g.length-1].split(":"),i=h[0];"trait"===h[0]&&(i=h[1]),c&&c[i]&&c[i]["in"]&&"path"===c[i]["in"]||d.push(i)}}return d}},{key:"_mapEndpointTraits",value:function(a){var c=[];return c=c.concat(b._mapEndpointTrait(a)),q.uniq(c)}},{key:"_getParams",value:function(a,c,d){if(q.isEmpty(a))return a;var e=[];for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(!d||d(g)){var h=b.needDeReferenced(g),i=b._isFilePath(g);h&&!i&&h.length||(i&&c&&(g=c[f]),e.push(g))}}return e}},{key:"_isFilePath",value:function(a){if(!a||!a.$ref)return!1;var b=a.$ref.split("#")[0];return b.split(".").length>1}},{key:"_getExtensionsFrom",value:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&q.startsWith(c,"x-")&&(b[c]=a[c]);return b}}]),b}(l);b.exports=s},{"../entities/endpoint":83,"../entities/project":85,"../entities/schema":86,"../entities/swagger/method":88,"../helpers/swagger":98,"../utils/json":107,"./importer":101,"js-yaml":111,lodash:79,"swagger-parser":174}],106:[function(a,b,c){"use strict";var d=a("lodash");b.exports={allEqual:function(a){return!!a.reduce(function(a,b){return d.isEqual(a,b)?a:NaN})}}},{lodash:79}],107:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("lodash"),f=a("json-schema-compatibility");b.exports={parse:function(a){if("string"!=typeof a)return a;try{var b=JSON.parse(a);return"string"==typeof b?this.parse(b):b}catch(c){return a}},stringify:function(a,b){return"string"==typeof a?a:(b||(b=0),JSON.stringify(a,null,b))},format:function(a){if("string"!=typeof a)return"object"===("undefined"==typeof a?"undefined":d(a))?this.stringify(a,4):a;var b=this.parse(a);return"string"==typeof b?a:this.stringify(b,4)},toJSON:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c]);"function"!==e&&"undefined"!==e&&(b[c]=a[c])}return b},orderByKeys:function(a,b){if(Array.isArray(a)){var c=this;return a.map(function(a){return c.orderByKeys(a,b)})}var d={};for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];a.hasOwnProperty(f)&&(d[f]=a[f])}for(var g in a)a.hasOwnProperty(g)&&(d.hasOwnProperty(g)||(d[g]=a[g]));return d},isEmptySchema:function(a){if(e.isEmpty(a))return!0;var b=a;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return!0}return!b||!Object.keys(b).length||b.properties&&!Object.keys(b.properties).length?!0:"array"===b.type&&e.isEmpty(b.items)},cleanSchema:function(a){var b=this.parse(a);try{f.v4(b)}catch(c){}return this.stringify(b,4)},isJson:function(a){try{if(!e.startsWith(a,"{")||!e.endsWith(a,"}"))return!1;JSON.parse(a)}catch(b){return!1}return!0}}},{"json-schema-compatibility":21,lodash:79}],108:[function(a,b,c){"use strict";var d=a("lodash");b.exports={computeOperationId:function(a,b){return a=d.trim(a).toUpperCase(),b=d.trim(b),"/"===b||""===b?a+"_root":a+"_"+d.trim(b,"/").replace(/\{|\}/g,"").replace(/\/|\./g,"-")},computeTraitName:function(a,b){var c="trait:"+d.camelCase(a);return b&&(c+=":"+b),c},checkAndReplaceInvalidChars:function(a,b,c){for(var e in a)a.hasOwnProperty(e)&&(b.includes(a[e])||(a=d.replace(a,a[e],c)));return a}}},{lodash:79}],109:[function(a,b,c){"use strict";var d=a("request"),e=a("lodash");b.exports={isURL:function(a){if(!a)throw new Error("Invalid path/url string given.");var b=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,c=new RegExp(b);return a.match(c)},get:function(a){return new Promise(function(b,c){d(a,function(a,d,e){a||200!=d.statusCode?c(a||new Error("Could not fetch remote URL.")):b(e)})})},join:function(a,b){return e.trimEnd(a,"/")+"/"+e.trimStart(b,"/")}}},{lodash:79,request:2}],110:[function(a,b,c){"use strict";var d=a("xml2js").parseString;b.exports={isXml:function(a){var b=!1;return d(a,function(a,c){c&&(b=!0)}),b}}},{xml2js:264}],111:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{"./lib/js-yaml.js":112,dup:45}],112:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{"./js-yaml/dumper":114,"./js-yaml/exception":115,"./js-yaml/loader":116,"./js-yaml/schema":118,"./js-yaml/schema/core":119,"./js-yaml/schema/default_full":120,"./js-yaml/schema/default_safe":121,"./js-yaml/schema/failsafe":122,"./js-yaml/schema/json":123,"./js-yaml/type":124,dup:46}],113:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],114:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{"./common":113,"./exception":115,"./schema/default_full":120,"./schema/default_safe":121,dup:48}],115:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],116:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./common":113,"./exception":115,"./mark":117,"./schema/default_full":120,"./schema/default_safe":121,dup:50}],117:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{"./common":113,dup:51}],118:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./common":113,"./exception":115,"./type":124,dup:52}],119:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{"../schema":118,"./json":123,dup:53}],120:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{"../schema":118,"../type/js/function":129,"../type/js/regexp":130,"../type/js/undefined":131,"./default_safe":121,dup:54}],121:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"../schema":118,"../type/binary":125,"../type/merge":133,"../type/omap":135,"../type/pairs":136,"../type/set":138,"../type/timestamp":140,"./core":119,dup:55}],122:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{"../schema":118,"../type/map":132,"../type/seq":137,"../type/str":139,dup:56}],123:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{"../schema":118,"../type/bool":126,"../type/float":127,"../type/int":128,"../type/null":134,"./failsafe":122,dup:57}],124:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"./exception":115,dup:58}],125:[function(a,b,c){arguments[4][59][0].apply(c,arguments)},{"../type":124,dup:59}],126:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{"../type":124,dup:60}],127:[function(a,b,c){arguments[4][61][0].apply(c,arguments)},{"../common":113,"../type":124,dup:61}],128:[function(a,b,c){arguments[4][62][0].apply(c,arguments)},{"../common":113,"../type":124,dup:62}],129:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"../../type":124,dup:63}],130:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{"../../type":124,dup:64}],131:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{"../../type":124,dup:65}],132:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{"../type":124,dup:66}],133:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{"../type":124,dup:67}],134:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{"../type":124,dup:68}],135:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{"../type":124,dup:69}],136:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{"../type":124,dup:70}],137:[function(a,b,c){arguments[4][71][0].apply(c,arguments)},{"../type":124,dup:71}],138:[function(a,b,c){arguments[4][72][0].apply(c,arguments)},{"../type":124,dup:72}],139:[function(a,b,c){arguments[4][73][0].apply(c,arguments)},{"../type":124,dup:73}],140:[function(a,b,c){arguments[4][74][0].apply(c,arguments)},{"../type":124,dup:74}],141:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=Array.prototype.slice,h=a("./isArguments"),i=Object.prototype.propertyIsEnumerable,j=!i.call({toString:null},"toString"),k=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(a){var b=a.constructor;return b&&b.prototype===a},n={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!n["$"+a]&&e.call(window,a)&&null!==window[a]&&"object"===d(window[a]))try{m(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),p=function(a){if("undefined"==typeof window||!o)return m(a);try{return m(a)}catch(b){return!1}},q=function(a){var b=null!==a&&"object"===("undefined"==typeof a?"undefined":d(a)),c="[object Function]"===f.call(a),g=h(a),i=b&&"[object String]"===f.call(a),m=[];if(!b&&!c&&!g)throw new TypeError("Object.keys called on a non-object");var n=k&&c;if(i&&a.length>0&&!e.call(a,0))for(var o=0;o<a.length;++o)m.push(String(o));if(g&&a.length>0)for(var q=0;q<a.length;++q)m.push(String(q));else for(var r in a)n&&"prototype"===r||!e.call(a,r)||m.push(String(r));if(j)for(var s=p(a),t=0;t<l.length;++t)s&&"constructor"===l[t]||!e.call(a,l[t])||m.push(l[t]);return m};q.shim=function(){if(Object.keys){var a=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!a){var b=Object.keys;Object.keys=function(a){return b(h(a)?g.call(a):a)}}}else Object.keys=q;return Object.keys||q},b.exports=q},{"./isArguments":142}],142:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.toString;b.exports=function(a){var b=e.call(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"===("undefined"==typeof a?"undefined":d(a))&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===e.call(a.callee)),c}},{}],143:[function(a,b,c){"use strict";function d(a){return function(c,d,h,i){var j,k=b.exports.formatter;"string"==typeof c?(j=k.apply(null,arguments),c=d=void 0):j="string"==typeof d?k.apply(null,o.call(arguments,1)):k.apply(null,o.call(arguments,2)),c instanceof Error||(d=c,c=void 0),c&&(j+=(j?" \n":"")+c.message);var l=new a(j);return e(l,c),f(l),g(l,d),l}}function e(a,b){b&&(j(a,b),g(a,b,!0))}function f(a){a.toJSON=h,a.inspect=i}function g(a,b,c){if(b&&"object"===("undefined"==typeof b?"undefined":m(b)))for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e];if(!(c&&p.indexOf(f)>=0))try{a[f]=b[f]}catch(g){}}}function h(){var a={},b=Object.keys(this);b=b.concat(p);for(var c=0;c<b.length;c++){var d=b[c],e=this[d],f="undefined"==typeof e?"undefined":m(e);"undefined"!==f&&"function"!==f&&(a[d]=e)}return a}function i(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function j(a,b){if(k(b))l(a,b);else{var c=b.stack;c&&(a.stack+=" \n\n"+b.stack)}}function k(a){if(!q)return!1;var b=Object.getOwnPropertyDescriptor(a,"stack");return b?"function"==typeof b.get:!1}function l(a,b){var c=Object.getOwnPropertyDescriptor(b,"stack");if(c){var d=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return d.get.apply(a)+" \n\n"+b.stack},enumerable:!1,configurable:!0})}}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=a("util"),o=Array.prototype.slice,p=["name","message","description","number","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];b.exports=d(Error),b.exports.error=d(Error),b.exports.eval=d(EvalError),b.exports.range=d(RangeError),b.exports.reference=d(ReferenceError),b.exports.syntax=d(SyntaxError),b.exports.type=d(TypeError),b.exports.uri=d(URIError),b.exports.formatter=n.format;var q=function(){return!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}()},{util:187}],144:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:145}],145:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],146:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,".");var e=a.split("."),f=g(e,b).join(".");return d+f}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:x}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=t>=i?y:i>=t+z?z:i-t,!(n>l);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;q>h;++h)p=a[h],128>p&&u.push(L(p));for(d=e=u.length,e&&u.push(E);q>d;){for(j=w,h=0;q>h;++h)p=a[h],p>=b&&j>p&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;q>h;++h)if(p=a[h],b>p&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=g>=n?y:n>=g+z?z:n-g,!(o>k);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;(t.global===t||t.window===t||t.self===t)&&(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],147:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],148:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(a){switch("undefined"==typeof a?"undefined":e(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,i){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"===("undefined"==typeof a?"undefined":e(a))?d(h(a),function(e){var h=encodeURIComponent(f(e))+c;return g(a[e])?d(a[e],function(a){return h+encodeURIComponent(f(a))}).join(b):h+encodeURIComponent(f(a[e]))}).join(b):i?encodeURIComponent(f(i))+c+encodeURIComponent(f(a)):""};var g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],149:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":147,"./encode":148}],150:[function(a,b,c){"use strict";function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a("buffer"),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:5}],151:[function(a,b,c){(function(b){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c){function e(a,b){if(!(this instanceof e))return new e(a,b);var d=this;g(d),d.q=d.c="",d.bufferCheckPosition=c.MAX_BUFFER_LENGTH,d.opt=b||{},d.opt.lowercase=d.opt.lowercase||d.opt.lowercasetags,d.looseCase=d.opt.lowercase?"toLowerCase":"toUpperCase",d.tags=[],d.closed=d.closedRoot=d.sawRoot=!1,d.tag=d.error=null,d.strict=!!a,d.noscript=!(!a&&!d.opt.noscript),d.state=S.BEGIN,d.strictEntities=d.opt.strictEntities,d.ENTITIES=d.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),d.attribList=[],d.opt.xmlns&&(d.ns=Object.create(N)),d.trackPosition=d.opt.position!==!1,d.trackPosition&&(d.position=d.line=d.column=0),p(d,"onready")}function f(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=F.length;f>e;e++){var g=a[F[e]].length;if(g>b)switch(F[e]){case"textNode":r(a);break;case"cdata":q(a,"oncdata",a.cdata),a.cdata="";break;case"script":q(a,"onscript",a.script),a.script="";break;default:t(a,"Max buffer length exceeded: "+F[e])}d=Math.max(d,g)}var h=c.MAX_BUFFER_LENGTH-d;a.bufferCheckPosition=h+a.position}function g(a){for(var b=0,c=F.length;c>b;b++)a[F[b]]=""}function h(a){r(a),""!==a.cdata&&(q(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(q(a,"onscript",a.script),a.script="")}function i(a,b){return new j(a,b)}function j(a,b){if(!(this instanceof j))return new j(a,b);G.apply(this),this._parser=new e(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,I.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b,b)},enumerable:!0,configurable:!1})})}function k(a){return" "===a||"\n"===a||"\r"===a||"	"===a}function l(a){return'"'===a||"'"===a}function m(a){return">"===a||k(a)}function n(a,b){return a.test(b)}function o(a,b){return!n(a,b)}function p(a,b,c){a[b]&&a[b](c)}function q(a,b,c){a.textNode&&r(a),p(a,b,c)}function r(a){a.textNode=s(a.opt,a.textNode),a.textNode&&p(a,"ontext",a.textNode),a.textNode=""}function s(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function t(a,b){return r(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,p(a,"onerror",b),a}function u(a){return a.sawRoot&&!a.closedRoot&&v(a,"Unclosed root tag"),a.state!==S.BEGIN&&a.state!==S.BEGIN_WHITESPACE&&a.state!==S.TEXT&&t(a,"Unexpected end"),r(a),a.c="",a.closed=!0,p(a,"onend"),e.call(a,a.strict,a.opt),a}function v(a,b){if("object"!==("undefined"==typeof a?"undefined":d(a))||!(a instanceof e))throw new Error("bad call to strictFail");a.strict&&t(a,b)}function w(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0,q(a,"onopentagstart",c)}function x(a,b){var c=a.indexOf(":"),d=0>c?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function y(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return void(a.attribName=a.attribValue="");if(a.opt.xmlns){var b=x(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==L)v(a,"xml: prefix must be bound to "+L+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==M)v(a,"xmlns: prefix must be bound to "+M+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,q(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function z(a,b){if(a.opt.xmlns){var c=a.tag,d=x(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(v(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){q(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;g>f;f++){var h=a.attribList[f],i=h[0],j=h[1],k=x(i,!0),l=k.prefix,m=k.local,n=""===l?"":c.ns[l]||"",o={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!==l&&!n&&(v(a,"Unbound namespace prefix: "+JSON.stringify(l)),o.uri=l),a.tag.attributes[i]=o,q(a,"onattribute",o)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),q(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=S.TEXT:a.state=S.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function A(a){if(!a.tagName)return v(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=S.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=S.SCRIPT);q(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;v(a,"Unexpected close tag")}if(0>b)return v(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=S.TEXT);a.tagName=c;for(var f=a.tags.length;f-->b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,q(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];q(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=S.TEXT}function B(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),isNaN(b)||e.toLowerCase()!==c?(v(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function C(a,b){"<"===b?(a.state=S.OPEN_WAKA,a.startTagPosition=a.position):k(b)||(v(a,"Non-whitespace before first tag."),a.textNode=b,a.state=S.TEXT)}function D(a,b){var c="";return b<a.length&&(c=a.charAt(b)),c}function E(a){var b=this;if(this.error)throw this.error;if(b.closed)return t(b,"Cannot write after close. Assign an onready handler.");if(null===a)return u(b);"object"===("undefined"==typeof a?"undefined":d(a))&&(a=a.toString());for(var c=0,e="";;){if(e=D(a,c++),b.c=e,!e)break;switch(b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++),b.state){case S.BEGIN:if(b.state=S.BEGIN_WHITESPACE,"\ufeff"===e)continue;C(b,e);continue;case S.BEGIN_WHITESPACE:C(b,e);continue;case S.TEXT:if(b.sawRoot&&!b.closedRoot){for(var g=c-1;e&&"<"!==e&&"&"!==e;)e=D(a,c++),e&&b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(g,c-1)}"<"!==e||b.sawRoot&&b.closedRoot&&!b.strict?(k(e)||b.sawRoot&&!b.closedRoot||v(b,"Text data outside of root node."),"&"===e?b.state=S.TEXT_ENTITY:b.textNode+=e):(b.state=S.OPEN_WAKA,b.startTagPosition=b.position);continue;case S.SCRIPT:"<"===e?b.state=S.SCRIPT_ENDING:b.script+=e;continue;case S.SCRIPT_ENDING:"/"===e?b.state=S.CLOSE_TAG:(b.script+="<"+e,b.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===e)b.state=S.SGML_DECL,b.sgmlDecl="";else if(k(e));else if(n(O,e))b.state=S.OPEN_TAG,b.tagName=e;else if("/"===e)b.state=S.CLOSE_TAG,b.tagName="";else if("?"===e)b.state=S.PROC_INST,b.procInstName=b.procInstBody="";else{if(v(b,"Unencoded <"),b.startTagPosition+1<b.position){var h=b.position-b.startTagPosition;e=new Array(h).join(" ")+e}b.textNode+="<"+e,b.state=S.TEXT}continue;case S.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===J?(q(b,"onopencdata"),b.state=S.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=S.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===K?(b.state=S.DOCTYPE,(b.doctype||b.sawRoot)&&v(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===e?(q(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=S.TEXT):l(e)?(b.state=S.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case S.SGML_DECL_QUOTED:e===b.q&&(b.state=S.SGML_DECL,b.q=""),b.sgmlDecl+=e;continue;case S.DOCTYPE:">"===e?(b.state=S.TEXT,q(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,"["===e?b.state=S.DOCTYPE_DTD:l(e)&&(b.state=S.DOCTYPE_QUOTED,b.q=e));continue;case S.DOCTYPE_QUOTED:b.doctype+=e,e===b.q&&(b.q="",b.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:b.doctype+=e,"]"===e?b.state=S.DOCTYPE:l(e)&&(b.state=S.DOCTYPE_DTD_QUOTED,b.q=e);continue;case S.DOCTYPE_DTD_QUOTED:b.doctype+=e,e===b.q&&(b.state=S.DOCTYPE_DTD,b.q="");continue;case S.COMMENT:"-"===e?b.state=S.COMMENT_ENDING:b.comment+=e;continue;case S.COMMENT_ENDING:"-"===e?(b.state=S.COMMENT_ENDED,b.comment=s(b.opt,b.comment),b.comment&&q(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==e?(v(b,"Malformed comment"),b.comment+="--"+e,
b.state=S.COMMENT):b.state=S.TEXT;continue;case S.CDATA:"]"===e?b.state=S.CDATA_ENDING:b.cdata+=e;continue;case S.CDATA_ENDING:"]"===e?b.state=S.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===e?(b.cdata&&q(b,"oncdata",b.cdata),q(b,"onclosecdata"),b.cdata="",b.state=S.TEXT):"]"===e?b.cdata+="]":(b.cdata+="]]"+e,b.state=S.CDATA);continue;case S.PROC_INST:"?"===e?b.state=S.PROC_INST_ENDING:k(e)?b.state=S.PROC_INST_BODY:b.procInstName+=e;continue;case S.PROC_INST_BODY:if(!b.procInstBody&&k(e))continue;"?"===e?b.state=S.PROC_INST_ENDING:b.procInstBody+=e;continue;case S.PROC_INST_ENDING:">"===e?(q(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=S.TEXT):(b.procInstBody+="?"+e,b.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:n(P,e)?b.tagName+=e:(w(b),">"===e?z(b):"/"===e?b.state=S.OPEN_TAG_SLASH:(k(e)||v(b,"Invalid character in tag name"),b.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===e?(z(b,!0),A(b)):(v(b,"Forward-slash in opening tag not followed by >"),b.state=S.ATTRIB);continue;case S.ATTRIB:if(k(e))continue;">"===e?z(b):"/"===e?b.state=S.OPEN_TAG_SLASH:n(O,e)?(b.attribName=e,b.attribValue="",b.state=S.ATTRIB_NAME):v(b,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===e?b.state=S.ATTRIB_VALUE:">"===e?(v(b,"Attribute without value"),b.attribValue=b.attribName,y(b),z(b)):k(e)?b.state=S.ATTRIB_NAME_SAW_WHITE:n(P,e)?b.attribName+=e:v(b,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===e)b.state=S.ATTRIB_VALUE;else{if(k(e))continue;v(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",q(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===e?z(b):n(O,e)?(b.attribName=e,b.state=S.ATTRIB_NAME):(v(b,"Invalid attribute name"),b.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(k(e))continue;l(e)?(b.q=e,b.state=S.ATTRIB_VALUE_QUOTED):(v(b,"Unquoted attribute value"),b.state=S.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case S.ATTRIB_VALUE_QUOTED:if(e!==b.q){"&"===e?b.state=S.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}y(b),b.q="",b.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:k(e)?b.state=S.ATTRIB:">"===e?z(b):"/"===e?b.state=S.OPEN_TAG_SLASH:n(O,e)?(v(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=S.ATTRIB_NAME):v(b,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!m(e)){"&"===e?b.state=S.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}y(b),">"===e?z(b):b.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(b.tagName)">"===e?A(b):n(P,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=S.SCRIPT):(k(e)||v(b,"Invalid tagname in closing tag"),b.state=S.CLOSE_TAG_SAW_WHITE);else{if(k(e))continue;o(O,e)?b.script?(b.script+="</"+e,b.state=S.SCRIPT):v(b,"Invalid tagname in closing tag."):b.tagName=e}continue;case S.CLOSE_TAG_SAW_WHITE:if(k(e))continue;">"===e?A(b):v(b,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case S.TEXT_ENTITY:i=S.TEXT,j="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:i=S.ATTRIB_VALUE_QUOTED,j="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:i=S.ATTRIB_VALUE_UNQUOTED,j="attribValue"}";"===e?(b[j]+=B(b),b.entity="",b.state=i):n(b.entity.length?R:Q,e)?b.entity+=e:(v(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}return b.position>=b.bufferCheckPosition&&f(b),b}c.parser=function(a,b){return new e(a,b)},c.SAXParser=e,c.SAXStream=j,c.createStream=i,c.MAX_BUFFER_LENGTH=65536;var F=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){}b.prototype=a;var c=new b;return c}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),e.prototype={end:function(){u(this)},write:E,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){h(this)}};var G;try{G=a("stream").Stream}catch(H){G=function(){}}var I=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});j.prototype=Object.create(G.prototype,{constructor:{value:j}}),j.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},j.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},j.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===I.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),G.prototype.on.call(c,a,b)};var J="[CDATA[",K="DOCTYPE",L="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",N={xml:L,xmlns:M},O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,Q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=0;c.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var T in c.STATE)c.STATE[c.STATE[T]]=T;S=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||0>j||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);65535>=j?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1===h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?(void 0).sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:5,stream:152,string_decoder:172}],152:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:13,inherits:19,"readable-stream/duplex.js":154,"readable-stream/passthrough.js":163,"readable-stream/readable.js":164,"readable-stream/transform.js":165,"readable-stream/writable.js":166}],153:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],154:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":155}],155:[function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||g(f,this)}function f(a){a.end()}var g=a("process-nextick-args"),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g(b,a)}},{"./_stream_readable":157,"./_stream_writable":159,"core-util-is":9,inherits:19,"process-nextick-args":144}],156:[function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":158,"core-util-is":9,inherits:19}],157:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function h(b,c){H=H||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof H&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a("string_decoder/").StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){return H=H||a("./_stream_duplex"),this instanceof i?(this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),void K.call(this)):new i(b)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return 0>=a||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}var G=a("process-nextick-args");b.exports=i;var H,I=a("isarray");i.ReadableState=h;var J=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),K=a("./internal/streams/stream"),L=a("safe-buffer").Buffer,M=d.Uint8Array||function(){},N=a("core-util-is");N.inherits=a("inherits");var O=a("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a("./internal/streams/BufferList"),S=a("./internal/streams/destroy");N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0===this._readableState?!1:this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(b){return Q||(Q=a("string_decoder/").StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(a=o(a,b),0===a&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1;var c=a.write(b);!1!==c||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;e>f;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(P("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(P("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],d.emit.bind(d,T[f]));return d._read=function(b){P("wrapped _read",b),c&&(c=!1,a.resume())},d},i._fromList=z}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":155,"./internal/streams/BufferList":160,"./internal/streams/destroy":161,"./internal/streams/stream":162,_process:145,"core-util-is":9,events:13,inherits:19,isarray:153,"process-nextick-args":144,"safe-buffer":150,"string_decoder/":167,util:3}],158:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{"./_stream_duplex":155,"core-util-is":9,inherits:19}],159:[function(a,b,c){(function(c,d){"use strict";function e(a){var b=this;this.next=null,this.entry=null,this.finish=function(){A(b,a)}}function f(a){return H.from(a)}function g(a){return H.isBuffer(a)||a instanceof I}function h(){}function i(b,c){C=C||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof C&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=b.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){r(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(b){return C=C||a("./_stream_duplex"),K.call(j,this)||this instanceof C?(this._writableState=new i(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b["final"]&&(this._final=b["final"])),void G.call(this)):new j(b)}function k(a,b){var c=new Error("write after end");a.emit("error",c),B(b,c)}function l(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),B(d,f),e=!1),e}function m(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=H.from(b,c)),b}function n(a,b,c,d,e,f){if(!c){var g=m(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else o(a,b,!1,h,d,e,f);return i}function o(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function p(a,b,c,d,e){--b.pendingcb,c?(B(e,d),B(y,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),y(a,b))}function q(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function r(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(q(c),b)p(a,c,d,b,e);else{var f=v(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?D(s,a,c,f,e):s(a,c,f,e)}}function s(a,b,c,d){c||t(a,b),b.pendingcb--,d(),y(a,b)}function t(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function u(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,f=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)f[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;f.allBuffers=i,o(a,b,!0,b.length,f,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new e(b)}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback,m=b.objectMode?1:j.length;if(o(a,b,!1,m,j,k,l),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),y(a,b)})}function x(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,B(w,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function y(a,b){var c=v(b);return c&&(x(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function z(a,b,c){b.ending=!0,y(a,b),c&&(b.finished?B(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function A(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var B=a("process-nextick-args");b.exports=j;var C,D=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:B;j.WritableState=i;var E=a("core-util-is");E.inherits=a("inherits");var F={deprecate:a("util-deprecate")},G=a("./internal/streams/stream"),H=a("safe-buffer").Buffer,I=d.Uint8Array||function(){},J=a("./internal/streams/destroy");E.inherits(j,G),i.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(i.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var K;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(a){return K.call(this,a)?!0:a&&a._writableState instanceof i}})):K=function(a){return a instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(a,b,c){var d=this._writableState,e=!1,i=g(a)&&!d.objectMode;return i&&!H.isBuffer(a)&&(a=f(a)),"function"==typeof b&&(c=b,b=null),i?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=h),d.ended?k(this,c):(i||l(this,d,a,c))&&(d.pendingcb++,e=n(this,d,i,a,b,c)),e},j.prototype.cork=function(){
var a=this._writableState;a.corked++},j.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||u(this,a))},j.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},j.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||z(this,d,c)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),j.prototype.destroy=J.destroy,j.prototype._undestroy=J.undestroy,j.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":155,"./internal/streams/destroy":161,"./internal/streams/stream":162,_process:145,"core-util-is":9,inherits:19,"process-nextick-args":144,"safe-buffer":150,"util-deprecate":184}],160:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a("safe-buffer").Buffer;b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}()},{"safe-buffer":150}],161:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?void(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g(f,this,a)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),void this._destroy(a||null,function(a){!b&&a?(g(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}))}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a("process-nextick-args");b.exports={destroy:d,undestroy:e}},{"process-nextick-args":144}],162:[function(a,b,c){b.exports=a("events").EventEmitter},{events:13}],163:[function(a,b,c){b.exports=a("./readable").PassThrough},{"./readable":164}],164:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":155,"./lib/_stream_passthrough.js":156,"./lib/_stream_readable.js":157,"./lib/_stream_transform.js":158,"./lib/_stream_writable.js":159}],165:[function(a,b,c){b.exports=a("./readable").Transform},{"./readable":164}],166:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":159}],167:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return 127>=a?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:-1}function h(a,b,c){var d=b.length-1;if(c>d)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0))}function i(a,b,c){if(128!==(192&b[0]))return a.lastNeed=0,"�".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!==(192&b[1]))return a.lastNeed=1,"�".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!==(192&b[2]))return a.lastNeed=2,"�".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2===0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&56319>=d)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(b=this.fillLast(a),void 0===b)return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){return this.lastNeed<=a.length?(a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),void(this.lastNeed-=a.length))}},{"safe-buffer":150}],168:[function(a,b,c){var d=a("./lib/request"),e=a("xtend"),f=a("builtin-status-codes"),g=a("url"),h=c;h.request=function(a,b){a="string"==typeof a?g.parse(a):e(a);var c=a.protocol||"",f=a.hostname||a.host,h=a.port,i=a.path||"/";f&&-1!==f.indexOf(":")&&(f="["+f+"]"),a.url=(f?c+"//"+f:"")+(h?":"+h:"")+i,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var j=new d(a);return b&&j.on("response",b),j},h.get=function(a,b){var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.STATUS_CODES=f,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},{"./lib/request":170,"builtin-status-codes":7,url:183,xtend:287}],169:[function(a,b,c){(function(a){"use strict";function b(a){try{return f.responseType=a,f.responseType===a}catch(b){}return!1}function d(a){return"function"==typeof a}c.fetch=d(a.fetch)&&d(a.ReadableByteStream),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(e){}var f=new a.XMLHttpRequest;f.open("GET",a.location.host?"/":"https://example.com");var g="undefined"!=typeof a.ArrayBuffer,h=g&&d(a.ArrayBuffer.prototype.slice);c.arraybuffer=g&&b("arraybuffer"),c.msstream=!c.fetch&&h&&b("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&g&&b("moz-chunked-arraybuffer"),c.overrideMimeType=d(f.overrideMimeType),c.vbArray=d(a.VBArray),f=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],170:[function(a,b,c){(function(c,d,e){"use strict";function f(a){return h.fetch?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{return null!==a.status}catch(b){return!1}}var h=a("./capability"),i=a("foreach"),j=a("indexof"),k=a("inherits"),l=a("object-keys"),m=a("./response"),n=a("stream"),o=m.IncomingMessage,p=m.readyStates,q=b.exports=function(a){var b=this;n.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),i(l(a.headers),function(c){b.setHeader(c,a.headers[c])});var c;if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c),b.on("finish",function(){b._onFinish()})};k(q,n.Writable),q.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();-1===j(r,d)&&(c._headers[d]={name:a,value:b})},q.prototype.getHeader=function(a){var b=this;return b._headers[a.toLowerCase()].value},q.prototype.removeHeader=function(a){var b=this;delete b._headers[a.toLowerCase()]},q.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b,f=a._opts,g=a._headers;if(("POST"===f.method||"PUT"===f.method)&&(b=h.blobConstructor?new d.Blob(a._body.map(function(a){return a.toArrayBuffer()}),{type:(g["content-type"]||{}).value||""}):e.concat(a._body).toString()),"fetch"===a._mode){var j=l(g).map(function(a){return[g[a].name,g[a].value]});d.fetch(a._opts.url,{method:a._opts.method,headers:j,body:b,mode:"cors",credentials:f.withCredentials?"include":"same-origin"}).then(function(b){a._fetchResponse=b,a._connect()}).then(void 0,function(b){a.emit("error",b)})}else{var k=a._xhr=new d.XMLHttpRequest;try{k.open(a._opts.method,a._opts.url,!0)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}"responseType"in k&&(k.responseType=a._mode.split(":")[0]),"withCredentials"in k&&(k.withCredentials=!!f.withCredentials),"text"===a._mode&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),i(l(g),function(a){k.setRequestHeader(g[a].name,g[a].value)}),a._response=null,k.onreadystatechange=function(){switch(k.readyState){case p.LOADING:case p.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(k.onprogress=function(){a._onXHRProgress()}),k.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{k.send(b)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}}}},q.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},q.prototype._connect=function(){var a=this;a._destroyed||(a._response=new o(a._xhr,a._fetchResponse,a._mode),a.emit("response",a._response))},q.prototype._write=function(a,b,c){var d=this;d._body.push(a),c()},q.prototype.abort=q.prototype.destroy=function(){var a=this;a._destroyed=!0,a._response&&(a._response._destroyed=!0),a._xhr&&a._xhr.abort()},q.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),n.Writable.prototype.end.call(d,a,b,c)},q.prototype.flushHeaders=function(){},q.prototype.setTimeout=function(){},q.prototype.setNoDelay=function(){},q.prototype.setSocketKeepAlive=function(){};var r=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":169,"./response":171,_process:145,buffer:5,foreach:14,indexof:18,inherits:19,"object-keys":141,stream:152}],171:[function(a,b,c){(function(b,d,e){"use strict";var f=a("./capability"),g=a("foreach"),h=a("inherits"),i=a("stream"),j=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},k=c.IncomingMessage=function(a,c,d){var h=this;if(i.Readable.call(h),h._mode=d,h.headers={},h.rawHeaders=[],h.trailers={},h.rawTrailers=[],h.on("end",function(){b.nextTick(function(){h.emit("close")})}),"fetch"===d){var j=function r(){n.read().then(function(a){if(!h._destroyed){if(a.done)return void h.push(null);h.push(new e(a.value)),r()}})};h._fetchResponse=c,h.statusCode=c.status,h.statusMessage=c.statusText;for(var k,l,m=c.headers[Symbol.iterator]();k=(l=m.next()).value,!l.done;)h.headers[k[0].toLowerCase()]=k[1],h.rawHeaders.push(k[0],k[1]);var n=c.body.getReader();j()}else{h._xhr=a,h._pos=0,h.statusCode=a.status,h.statusMessage=a.statusText;var o=a.getAllResponseHeaders().split(/\r?\n/);if(g(o,function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();void 0!==h.headers[c]?h.headers[c]+=", "+b[2]:h.headers[c]=b[2],h.rawHeaders.push(b[1],b[2])}}),h._charset="x-user-defined",!f.overrideMimeType){var p=h.rawHeaders["mime-type"];if(p){var q=p.match(/;\s*charset=([^;])(;|$)/);q&&(h._charset=q[1].toLowerCase())}h._charset||(h._charset="utf-8")}}};h(k,i.Readable),k.prototype._read=function(){},k.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==j.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(f){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(f){a._mode="text:vbarray";break}if(c.length>a._pos){var g=c.substr(a._pos);if("x-user-defined"===a._charset){for(var h=new e(g.length),i=0;i<g.length;i++)h[i]=255&g.charCodeAt(i);a.push(h)}else a.push(g,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==j.DONE)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==j.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==j.LOADING)break;var k=new d.MSStreamReader;k.onprogress=function(){k.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(k.result.slice(a._pos)))),a._pos=k.result.byteLength)},k.onload=function(){a.push(null)},k.readAsArrayBuffer(c)}a._xhr.readyState===j.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":169,_process:145,buffer:5,foreach:14,inherits:19,stream:152}],172:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&56319>=d)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&56319>=d){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:5}],173:[function(a,b,c){"use strict";b.exports=["get","put","post","delete","options","head","patch"]},{}],174:[function(a,b,c){"use strict";function d(){n.apply(this,arguments)}function e(a){var b,c,d,e;return a=Array.prototype.slice.call(a),"function"==typeof a[a.length-1]&&(e=a.pop()),"string"==typeof a[0]?(b=a[0],"object"===f(a[2])?(c=a[1],d=a[2]):(c=void 0,d=a[1])):(b="",c=a[0],d=a[1]),d instanceof j||(d=new j(d)),{path:b,api:c,options:d,callback:e}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a("./validate-schema"),h=a("./validate-spec"),i=a("./util"),j=a("./options"),k=a("./promise"),l=a("call-me-maybe"),m=a("ono"),n=a("json-schema-ref-parser"),o=a("json-schema-ref-parser/lib/dereference");b.exports=d,i.inherits(d,n),d.YAML=n.YAML,d.parse=n.parse,d.resolve=n.resolve,d.bundle=n.bundle,d.dereference=n.dereference,Object.defineProperty(d.prototype,"api",{configurable:!0,enumerable:!0,get:function(){return this.schema}}),d.prototype.parse=function(a,b,c){var d=e(arguments);return n.prototype.parse.call(this,d.path,d.api,d.options).then(function(a){var b=["2.0"];if(void 0===a.swagger||void 0===a.info||void 0===a.paths)throw m.syntax("%s is not a valid Swagger API definition",d.path||d.api);if("number"==typeof a.swagger)throw m.syntax('Swagger version number must be a string (e.g. "2.0") not a number.');if("number"==typeof a.info.version)throw m.syntax('API version number must be a string (e.g. "1.0.0") not a number.');if(-1===b.indexOf(a.swagger))throw m.syntax("Unsupported Swagger version: %d. Swagger Parser only supports version %s",a.swagger,b.join(", "));return l(d.callback,k.resolve(a))})["catch"](function(a){return l(d.callback,k.reject(a))})},d.validate=function(a,b,c){var d=this,e=new d;return e.validate.apply(e,arguments)},d.prototype.validate=function(a,b,c){var d=this,f=e(arguments),i=f.options.dereference.circular;return f.options.validate.schema&&(f.options.dereference.circular="ignore"),this.dereference(f.path,f.api,f.options).then(function(){if(f.options.dereference.circular=i,f.options.validate.schema&&(g(d.api),d.$refs.circular))if(i===!0)o(d,f.options);else if(i===!1)throw m.reference("The API contains circular references");return f.options.validate.spec&&h(d.api),l(f.callback,k.resolve(d.schema))})["catch"](function(a){return l(f.callback,k.reject(a))})}},{"./options":175,"./promise":176,"./util":177,"./validate-schema":178,"./validate-spec":179,"call-me-maybe":8,"json-schema-ref-parser":24,"json-schema-ref-parser/lib/dereference":23,ono:143}],175:[function(a,b,c){"use strict";function d(a){e.call(this,d.defaults),e.apply(this,arguments)}var e=a("json-schema-ref-parser/lib/options"),f=a("util");b.exports=d,d.defaults={validate:{schema:{order:1},spec:{order:2}}},f.inherits(d,e)},{"json-schema-ref-parser/lib/options":25,util:187}],176:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39,"es6-promise":180}],177:[function(a,b,c){"use strict";var d=a("debug"),e=a("util");c.format=e.format,c.inherits=e.inherits,c.debug=d("swagger:parser"),c.swaggerParamRegExp=/\{([^\/}]+)}/g},{debug:10,util:187}],178:[function(a,b,c){"use strict";function d(a){g.debug("Validating against the Swagger 2.0 schema");var b=i.validate(a,j);if(!b){var c=i.getLastError(),d="Swagger schema validation failed. \n"+f(c.details);throw h.syntax(c,{details:c.details},d)}g.debug("    Validated successfully")}function e(){i=new i({breakOnFirstError:!0,noExtraKeywords:!0,ignoreUnknownFormats:!1,reportPathAsArray:!0})}function f(a,b){b=b||"  ";var c="";return a.forEach(function(a,d){c+=g.format("%s%s at #/%s\n",b,a.message,a.path.join("/")),a.inner&&(c+=f(a.inner,b+"  "))}),c}var g=a("./util"),h=a("ono"),i=a("z-schema"),j=a("swagger-schema-official/schema");b.exports=d,e()},{"./util":177,ono:143,"swagger-schema-official/schema":181,"z-schema":297}],179:[function(a,b,c){"use strict";function d(a){m.debug("Validating against the Swagger 2.0 spec");var b=Object.keys(a.paths||{});b.forEach(function(b){var c=a.paths[b],d="/paths"+b;c&&0===b.indexOf("/")&&e(a,c,d)}),m.debug("    Validated successfully")}function e(a,b,c){o.forEach(function(d){var e=b[d],g=c+"/"+d;if(e){f(a,b,c,e,g);var h=Object.keys(e.responses||{});h.forEach(function(a){var b=e.responses[a],c=g+"/responses/"+a;k(a,b,c)})}})}function f(a,b,c,d,e){var f=b.parameters||[],k=d.parameters||[];try{j(f)}catch(l){throw n.syntax(l,"Validation failed. %s has duplicate parameters",c)}try{j(k)}catch(l){throw n.syntax(l,"Validation failed. %s has duplicate parameters",e)}var m=f.reduce(function(a,b){var c=a.some(function(a){return a["in"]===b["in"]&&a.name===b.name});return c||a.push(b),a},k.slice());g(m,e),h(m,c,e),i(m,a,d,e)}function g(a,b){var c=a.filter(function(a){return"body"===a["in"]}),d=a.filter(function(a){return"formData"===a["in"]});if(c.length>1)throw n.syntax("Validation failed. %s has %d body parameters. Only one is allowed.",b,c.length);if(c.length>0&&d.length>0)throw n.syntax("Validation failed. %s has body parameters and formData parameters. Only one or the other is allowed.",b)}function h(a,b,c){for(var d=b.match(m.swaggerParamRegExp)||[],e=0;e<d.length;e++)for(var f=e+1;f<d.length;f++)if(d[e]===d[f])throw n.syntax("Validation failed. %s has multiple path placeholders named %s",c,d[e]);if(a.filter(function(a){return"path"===a["in"]}).forEach(function(a){if(a.required!==!0)throw n.syntax('Validation failed. Path parameters cannot be optional. Set required=true for the "%s" parameter at %s',a.name,c);var b=d.indexOf("{"+a.name+"}");if(-1===b)throw n.syntax('Validation failed. %s has a path parameter named "%s", but there is no corresponding {%s} in the path string',c,a.name,a.name);d.splice(b,1)}),d.length>0)throw n.syntax("Validation failed. %s is missing path parameter(s) for %s",c,d)}function i(a,b,c,d){a.forEach(function(a){var e,f,g=d+"/parameters/"+a.name;switch(a["in"]){case"body":e=a.schema,f=q;break;case"formData":e=a,f=p.concat("file");break;default:e=a,f=p}if(l(e,g,f),"file"===e.type){var h=c.consumes||b.consumes||[];if(-1===h.indexOf("multipart/form-data")&&-1===h.indexOf("application/x-www-form-urlencoded"))throw n.syntax("Validation failed. %s has a file parameter, so it must consume multipart/form-data or application/x-www-form-urlencoded",d)}})}function j(a){for(var b=0;b<a.length-1;b++)for(var c=a[b],d=b+1;d<a.length;d++){var e=a[d];if(c.name===e.name&&c["in"]===e["in"])throw n.syntax('Validation failed. Found multiple %s parameters named "%s"',c["in"],c.name)}}function k(a,b,c){if("default"!==a&&(100>a||a>599))throw n.syntax("Validation failed. %s has an invalid response code (%s)",c,a);var d=Object.keys(b.headers||{});if(d.forEach(function(a){var d=b.headers[a],e=c+"/headers/"+a;l(d,e,p)}),b.schema){var e=q.concat("file");if(-1===e.indexOf(b.schema.type))throw n.syntax("Validation failed. %s has an invalid response schema type (%s)",c,b.schema.type)}}function l(a,b,c){if(-1===c.indexOf(a.type))throw n.syntax("Validation failed. %s has an invalid type (%s)",b,a.type);if("array"===a.type&&!a.items)throw n.syntax('Validation failed. %s is an array, so it must include an "items" schema',b)}var m=a("./util"),n=a("ono"),o=a("swagger-methods"),p=["array","boolean","integer","number","string"],q=["array","boolean","integer","number","string","object","null",void 0];b.exports=d},{"./util":177,ono:143,"swagger-methods":173}],180:[function(b,c,d){(function(e,f){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a(e):b.ES6Promise=e()}(this,function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){X=a}function g(a){Y=a}function h(){return function(){return e.nextTick(m)}}function i(){return function(){W(m)}}function j(){var a=0,b=new _(m),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function k(){var a=new MessageChannel;return a.port1.onmessage=m,function(){return a.port2.postMessage(0)}}function l(){var a=setTimeout;return function(){return a(m,1)}}function m(){for(var a=0;V>a;a+=2){var b=ca[a],c=ca[a+1];b(c),ca[a]=void 0,ca[a+1]=void 0}V=0}function n(){try{var a=b,c=a("vertx");return W=c.runOnLoop||c.runOnContext,i()}catch(d){return l()}}function o(a,b){var c=arguments,d=this,e=new this.constructor(q);void 0===e[ea]&&J(e);var f=d._state;return f?!function(){var a=c[f-1];Y(function(){return G(f,e,a,d._result)})}():C(d,e,a,b),e}function p(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);return y(c,a),c}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(b){return ia.error=b,ia}}function u(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function v(a,b,c){Y(function(a){var d=!1,e=u(c,b,function(c){d||(d=!0,b!==c?y(a,c):A(a,c))},function(b){d||(d=!0,B(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,B(a,e))},a)}function w(a,b){b._state===ga?A(a,b._result):b._state===ha?B(a,b._result):C(b,void 0,function(b){return y(a,b)},function(b){return B(a,b)})}function x(a,b,d){b.constructor===a.constructor&&d===o&&b.constructor.resolve===p?w(a,b):d===ia?B(a,ia.error):void 0===d?A(a,b):c(d)?v(a,b,d):A(a,b)}function y(b,c){b===c?B(b,r()):a(c)?x(b,c,t(c)):A(b,c)}function z(a){a._onerror&&a._onerror(a._result),D(a)}function A(a,b){a._state===fa&&(a._result=b,a._state=ga,0!==a._subscribers.length&&Y(D,a))}function B(a,b){a._state===fa&&(a._state=ha,a._result=b,Y(z,a))}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ga]=c,e[f+ha]=d,0===f&&a._state&&Y(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?G(c,d,e,f):e(f);a._subscribers.length=0}}function E(){this.error=null}function F(a,b){try{return a(b)}catch(c){return ja.error=c,ja}}function G(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=F(d,e),g===ja?(j=!0,h=g.error,g=null):i=!0,b===g)return void B(b,s())}else g=e,i=!0;b._state!==fa||(f&&i?y(b,g):j?B(b,h):a===ga?A(b,g):a===ha&&B(b,g))}function H(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(c){B(a,c)}}function I(){return ka++}function J(a){a[ea]=ka++,a._state=void 0,a._result=void 0,a._subscribers=[]}function K(a,b){this._instanceConstructor=a,this.promise=new a(q),this.promise[ea]||J(this.promise),U(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):B(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function M(a){return new K(this,a).promise}function N(a){var b=this;return new b(U(a)?function(c,d){for(var e=a.length,f=0;e>f;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function O(a){var b=this,c=new b(q);return B(c,a),c}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(a){this[ea]=I(),this._result=this._state=void 0,this._subscribers=[],q!==a&&("function"!=typeof a&&P(),this instanceof R?H(this,a):Q())}function S(){var a=void 0;if("undefined"!=typeof f)a=f;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;if(c){var d=null;try{d=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===d&&!c.cast)return}a.Promise=R}var T=void 0;T=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var U=T,V=0,W=void 0,X=void 0,Y=function(a,b){ca[V]=a,ca[V+1]=b,V+=2,2===V&&(X?X(m):da())},Z="undefined"!=typeof window?window:void 0,$=Z||{},_=$.MutationObserver||$.WebKitMutationObserver,aa="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ba="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ca=new Array(1e3),da=void 0;da=aa?h():_?j():ba?k():void 0===Z&&"function"==typeof b?n():l();var ea=Math.random().toString(36).substring(16),fa=void 0,ga=1,ha=2,ia=new E,ja=new E,ka=0;return K.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===fa&&a>c;c++)this._eachEntry(b[c],c)},K.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===p){var e=t(a);if(e===o&&a._state!==fa)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===R){var f=new c(q);x(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},K.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===fa&&(this._remaining--,a===ha?B(d,c):this._result[b]=c),0===this._remaining&&A(d,this._result)},K.prototype._willSettleAt=function(a,b){
var c=this;C(a,void 0,function(a){return c._settledAt(ga,b,a)},function(a){return c._settledAt(ha,b,a)})},R.all=M,R.race=N,R.resolve=p,R.reject=O,R._setScheduler=d,R._setAsap=g,R._asap=Y,R.prototype={constructor:R,then:o,"catch":function(a){return this.then(null,a)}},S(),R.polyfill=S,R.Promise=R,R})}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:145}],181:[function(a,b,c){b.exports={title:"A JSON Schema for Swagger 2.0 API.",id:"http://swagger.io/v2/schema.json#",$schema:"http://json-schema.org/draft-04/schema#",type:"object",required:["swagger","info","paths"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{swagger:{type:"string","enum":["2.0"],description:"The Swagger version of this document."},info:{$ref:"#/definitions/info"},host:{type:"string",pattern:"^[^{}/ :\\\\]+(?::\\d+)?$",description:"The host (name or ip) of the API. Example: 'swagger.io'"},basePath:{type:"string",pattern:"^/",description:"The base path to the API. Example: '/api'."},schemes:{$ref:"#/definitions/schemesList"},consumes:{description:"A list of MIME types accepted by the API.",$ref:"#/definitions/mediaTypeList"},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},paths:{$ref:"#/definitions/paths"},definitions:{$ref:"#/definitions/definitions"},parameters:{$ref:"#/definitions/parameterDefinitions"},responses:{$ref:"#/definitions/responseDefinitions"},security:{$ref:"#/definitions/security"},securityDefinitions:{$ref:"#/definitions/securityDefinitions"},tags:{type:"array",items:{$ref:"#/definitions/tag"},uniqueItems:!0},externalDocs:{$ref:"#/definitions/externalDocs"}},definitions:{info:{type:"object",description:"General information about the API.",required:["version","title"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{title:{type:"string",description:"A unique and precise title of the API."},version:{type:"string",description:"A semantic version number of the API."},description:{type:"string",description:"A longer description of the API. Should be different from the title.  GitHub Flavored Markdown is allowed."},termsOfService:{type:"string",description:"The terms of service for the API."},contact:{$ref:"#/definitions/contact"},license:{$ref:"#/definitions/license"}}},contact:{type:"object",description:"Contact information for the owners of the API.",additionalProperties:!1,properties:{name:{type:"string",description:"The identifying name of the contact person/organization."},url:{type:"string",description:"The URL pointing to the contact information.",format:"uri"},email:{type:"string",description:"The email address of the contact person/organization.",format:"email"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},license:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"The name of the license type. It's encouraged to use an OSI compatible license."},url:{type:"string",description:"The URL pointing to the license.",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},paths:{type:"object",description:"Relative paths to the individual endpoints. They must be relative to the 'basePath'.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"},"^/":{$ref:"#/definitions/pathItem"}},additionalProperties:!1},definitions:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},description:"One or more JSON objects describing the schemas being consumed and produced by the API."},parameterDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/parameter"},description:"One or more JSON representations for parameters"},responseDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/response"},description:"One or more JSON representations for parameters"},externalDocs:{type:"object",additionalProperties:!1,description:"information about external documentation",required:["url"],properties:{description:{type:"string"},url:{type:"string",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},examples:{type:"object",additionalProperties:!0},mimeType:{type:"string",description:"The MIME type of the HTTP message."},operation:{type:"object",required:["responses"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{tags:{type:"array",items:{type:"string"},uniqueItems:!0},summary:{type:"string",description:"A brief summary of the operation."},description:{type:"string",description:"A longer description of the operation, GitHub Flavored Markdown is allowed."},externalDocs:{$ref:"#/definitions/externalDocs"},operationId:{type:"string",description:"A unique identifier of the operation."},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},consumes:{description:"A list of MIME types the API can consume.",$ref:"#/definitions/mediaTypeList"},parameters:{$ref:"#/definitions/parametersList"},responses:{$ref:"#/definitions/responses"},schemes:{$ref:"#/definitions/schemesList"},deprecated:{type:"boolean","default":!1},security:{$ref:"#/definitions/security"}}},pathItem:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},get:{$ref:"#/definitions/operation"},put:{$ref:"#/definitions/operation"},post:{$ref:"#/definitions/operation"},"delete":{$ref:"#/definitions/operation"},options:{$ref:"#/definitions/operation"},head:{$ref:"#/definitions/operation"},patch:{$ref:"#/definitions/operation"},parameters:{$ref:"#/definitions/parametersList"}}},responses:{type:"object",description:"Response objects names can either be any valid HTTP status code or 'default'.",minProperties:1,additionalProperties:!1,patternProperties:{"^([0-9]{3})$|^(default)$":{$ref:"#/definitions/responseValue"},"^x-":{$ref:"#/definitions/vendorExtension"}},not:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}}},responseValue:{oneOf:[{$ref:"#/definitions/response"},{$ref:"#/definitions/jsonReference"}]},response:{type:"object",required:["description"],properties:{description:{type:"string"},schema:{oneOf:[{$ref:"#/definitions/schema"},{$ref:"#/definitions/fileSchema"}]},headers:{$ref:"#/definitions/headers"},examples:{$ref:"#/definitions/examples"}},additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},headers:{type:"object",additionalProperties:{$ref:"#/definitions/header"}},header:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string","enum":["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},vendorExtension:{description:"Any property starting with x- is valid.",additionalProperties:!0,additionalItems:!0},bodyParameter:{type:"object",required:["name","in","schema"],patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["body"]},required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},schema:{$ref:"#/definitions/schema"}},additionalProperties:!1},headerParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["header"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},queryParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["query"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean","default":!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},formDataParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["formData"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean","default":!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string","enum":["string","number","boolean","integer","array","file"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},pathParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["required"],properties:{required:{type:"boolean","enum":[!0],description:"Determines whether or not this parameter is required or optional."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["path"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},nonBodyParameter:{type:"object",required:["name","in","type"],oneOf:[{$ref:"#/definitions/headerParameterSubSchema"},{$ref:"#/definitions/formDataParameterSubSchema"},{$ref:"#/definitions/queryParameterSubSchema"},{$ref:"#/definitions/pathParameterSubSchema"}]},parameter:{oneOf:[{$ref:"#/definitions/bodyParameter"},{$ref:"#/definitions/nonBodyParameter"}]},schema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},maxProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},"enum":{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},additionalProperties:{anyOf:[{$ref:"#/definitions/schema"},{type:"boolean"}],"default":{}},type:{$ref:"http://json-schema.org/draft-04/schema#/properties/type"},items:{anyOf:[{$ref:"#/definitions/schema"},{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}}],"default":{}},allOf:{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}},properties:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},"default":{}},discriminator:{type:"string"},readOnly:{type:"boolean","default":!1},xml:{$ref:"#/definitions/xml"},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},fileSchema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["type"],properties:{format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},type:{type:"string","enum":["file"]},readOnly:{type:"boolean","default":!1},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},primitivesItems:{type:"object",additionalProperties:!1,properties:{type:{type:"string","enum":["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},security:{type:"array",items:{$ref:"#/definitions/securityRequirement"},uniqueItems:!0},securityRequirement:{type:"object",additionalProperties:{type:"array",items:{type:"string"},uniqueItems:!0}},xml:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},namespace:{type:"string"},prefix:{type:"string"},attribute:{type:"boolean","default":!1},wrapped:{type:"boolean","default":!1}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},tag:{type:"object",additionalProperties:!1,required:["name"],properties:{name:{type:"string"},description:{type:"string"},externalDocs:{$ref:"#/definitions/externalDocs"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},securityDefinitions:{type:"object",additionalProperties:{oneOf:[{$ref:"#/definitions/basicAuthenticationSecurity"},{$ref:"#/definitions/apiKeySecurity"},{$ref:"#/definitions/oauth2ImplicitSecurity"},{$ref:"#/definitions/oauth2PasswordSecurity"},{$ref:"#/definitions/oauth2ApplicationSecurity"},{$ref:"#/definitions/oauth2AccessCodeSecurity"}]}},basicAuthenticationSecurity:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string","enum":["basic"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},apiKeySecurity:{type:"object",additionalProperties:!1,required:["type","name","in"],properties:{type:{type:"string","enum":["apiKey"]},name:{type:"string"},"in":{type:"string","enum":["header","query"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ImplicitSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["implicit"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2PasswordSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["password"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ApplicationSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["application"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2AccessCodeSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["accessCode"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2Scopes:{type:"object",additionalProperties:{type:"string"}},mediaTypeList:{type:"array",items:{$ref:"#/definitions/mimeType"},uniqueItems:!0},parametersList:{type:"array",description:"The parameters needed to send a valid API call.",additionalItems:!1,items:{oneOf:[{$ref:"#/definitions/parameter"},{$ref:"#/definitions/jsonReference"}]},uniqueItems:!0},schemesList:{type:"array",description:"The transfer protocol of the API.",items:{type:"string","enum":["http","https","ws","wss"]},uniqueItems:!0},collectionFormat:{type:"string","enum":["csv","ssv","tsv","pipes"],"default":"csv"},collectionFormatWithMulti:{type:"string","enum":["csv","ssv","tsv","pipes","multi"],"default":"csv"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},"enum":{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},jsonReference:{type:"object",required:["$ref"],additionalProperties:!1,properties:{$ref:{type:"string"}}}}}},{}],182:[function(a,b,c){function d(a,b){this._id=a,this._clearFn=b}var e=a("process/browser.js").nextTick,f=Function.prototype.apply,g=Array.prototype.slice,h={},i=0;c.setTimeout=function(){return new d(f.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new d(f.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof setImmediate?setImmediate:function(a){var b=i++,d=arguments.length<2?!1:g.call(arguments,1);return h[b]=!0,e(function(){h[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(a){delete h[a]}},{"process/browser.js":145}],183:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:146,querystring:149}],184:[function(a,b,c){(function(a){"use strict";function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),
e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(c){return!1}var d=a.localStorage[b];return null==d?!1:"true"===String(d).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],185:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],186:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=function(a){return a&&"object"===("undefined"==typeof a?"undefined":d(a))&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],187:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":186,_process:145,inherits:185}],188:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./lib/toDate"),f=d(e),g=a("./lib/toFloat"),h=d(g),i=a("./lib/toInt"),j=d(i),k=a("./lib/toBoolean"),l=d(k),m=a("./lib/equals"),n=d(m),o=a("./lib/contains"),p=d(o),q=a("./lib/matches"),r=d(q),s=a("./lib/isEmail"),t=d(s),u=a("./lib/isURL"),v=d(u),w=a("./lib/isMACAddress"),x=d(w),y=a("./lib/isIP"),z=d(y),A=a("./lib/isFQDN"),B=d(A),C=a("./lib/isBoolean"),D=d(C),E=a("./lib/isAlpha"),F=d(E),G=a("./lib/isAlphanumeric"),H=d(G),I=a("./lib/isNumeric"),J=d(I),K=a("./lib/isPort"),L=d(K),M=a("./lib/isLowercase"),N=d(M),O=a("./lib/isUppercase"),P=d(O),Q=a("./lib/isAscii"),R=d(Q),S=a("./lib/isFullWidth"),T=d(S),U=a("./lib/isHalfWidth"),V=d(U),W=a("./lib/isVariableWidth"),X=d(W),Y=a("./lib/isMultibyte"),Z=d(Y),$=a("./lib/isSurrogatePair"),_=d($),aa=a("./lib/isInt"),ba=d(aa),ca=a("./lib/isFloat"),da=d(ca),ea=a("./lib/isDecimal"),fa=d(ea),ga=a("./lib/isHexadecimal"),ha=d(ga),ia=a("./lib/isDivisibleBy"),ja=d(ia),ka=a("./lib/isHexColor"),la=d(ka),ma=a("./lib/isISRC"),na=d(ma),oa=a("./lib/isMD5"),pa=d(oa),qa=a("./lib/isHash"),ra=d(qa),sa=a("./lib/isJSON"),ta=d(sa),ua=a("./lib/isEmpty"),va=d(ua),wa=a("./lib/isLength"),xa=d(wa),ya=a("./lib/isByteLength"),za=d(ya),Aa=a("./lib/isUUID"),Ba=d(Aa),Ca=a("./lib/isMongoId"),Da=d(Ca),Ea=a("./lib/isAfter"),Fa=d(Ea),Ga=a("./lib/isBefore"),Ha=d(Ga),Ia=a("./lib/isIn"),Ja=d(Ia),Ka=a("./lib/isCreditCard"),La=d(Ka),Ma=a("./lib/isISIN"),Na=d(Ma),Oa=a("./lib/isISBN"),Pa=d(Oa),Qa=a("./lib/isISSN"),Ra=d(Qa),Sa=a("./lib/isMobilePhone"),Ta=d(Sa),Ua=a("./lib/isCurrency"),Va=d(Ua),Wa=a("./lib/isISO8601"),Xa=d(Wa),Ya=a("./lib/isISO31661Alpha2"),Za=d(Ya),$a=a("./lib/isBase64"),_a=d($a),ab=a("./lib/isDataURI"),bb=d(ab),cb=a("./lib/isMimeType"),db=d(cb),eb=a("./lib/isLatLong"),fb=d(eb),gb=a("./lib/isPostalCode"),hb=d(gb),ib=a("./lib/ltrim"),jb=d(ib),kb=a("./lib/rtrim"),lb=d(kb),mb=a("./lib/trim"),nb=d(mb),ob=a("./lib/escape"),pb=d(ob),qb=a("./lib/unescape"),rb=d(qb),sb=a("./lib/stripLow"),tb=d(sb),ub=a("./lib/whitelist"),vb=d(ub),wb=a("./lib/blacklist"),xb=d(wb),yb=a("./lib/isWhitelisted"),zb=d(yb),Ab=a("./lib/normalizeEmail"),Bb=d(Ab),Cb=a("./lib/util/toString"),Db=d(Cb),Eb="9.2.0",Fb={version:Eb,toDate:f["default"],toFloat:h["default"],toInt:j["default"],toBoolean:l["default"],equals:n["default"],contains:p["default"],matches:r["default"],isEmail:t["default"],isURL:v["default"],isMACAddress:x["default"],isIP:z["default"],isFQDN:B["default"],isBoolean:D["default"],isAlpha:F["default"],isAlphanumeric:H["default"],isNumeric:J["default"],isPort:L["default"],isLowercase:N["default"],isUppercase:P["default"],isAscii:R["default"],isFullWidth:T["default"],isHalfWidth:V["default"],isVariableWidth:X["default"],isMultibyte:Z["default"],isSurrogatePair:_["default"],isInt:ba["default"],isFloat:da["default"],isDecimal:fa["default"],isHexadecimal:ha["default"],isDivisibleBy:ja["default"],isHexColor:la["default"],isISRC:na["default"],isMD5:pa["default"],isHash:ra["default"],isJSON:ta["default"],isEmpty:va["default"],isLength:xa["default"],isByteLength:za["default"],isUUID:Ba["default"],isMongoId:Da["default"],isAfter:Fa["default"],isBefore:Ha["default"],isIn:Ja["default"],isCreditCard:La["default"],isISIN:Na["default"],isISBN:Pa["default"],isISSN:Ra["default"],isMobilePhone:Ta["default"],isPostalCode:hb["default"],isCurrency:Va["default"],isISO8601:Xa["default"],isISO31661Alpha2:Za["default"],isBase64:_a["default"],isDataURI:bb["default"],isMimeType:db["default"],isLatLong:fb["default"],ltrim:jb["default"],rtrim:lb["default"],trim:nb["default"],escape:pb["default"],unescape:rb["default"],stripLow:tb["default"],whitelist:vb["default"],blacklist:xb["default"],isWhitelisted:zb["default"],normalizeEmail:Bb["default"],toString:Db["default"]};c["default"]=Fb,b.exports=c["default"]},{"./lib/blacklist":190,"./lib/contains":191,"./lib/equals":192,"./lib/escape":193,"./lib/isAfter":194,"./lib/isAlpha":195,"./lib/isAlphanumeric":196,"./lib/isAscii":197,"./lib/isBase64":198,"./lib/isBefore":199,"./lib/isBoolean":200,"./lib/isByteLength":201,"./lib/isCreditCard":202,"./lib/isCurrency":203,"./lib/isDataURI":204,"./lib/isDecimal":205,"./lib/isDivisibleBy":206,"./lib/isEmail":207,"./lib/isEmpty":208,"./lib/isFQDN":209,"./lib/isFloat":210,"./lib/isFullWidth":211,"./lib/isHalfWidth":212,"./lib/isHash":213,"./lib/isHexColor":214,"./lib/isHexadecimal":215,"./lib/isIP":216,"./lib/isISBN":217,"./lib/isISIN":218,"./lib/isISO31661Alpha2":219,"./lib/isISO8601":220,"./lib/isISRC":221,"./lib/isISSN":222,"./lib/isIn":223,"./lib/isInt":224,"./lib/isJSON":225,"./lib/isLatLong":226,"./lib/isLength":227,"./lib/isLowercase":228,"./lib/isMACAddress":229,"./lib/isMD5":230,"./lib/isMimeType":231,"./lib/isMobilePhone":232,"./lib/isMongoId":233,"./lib/isMultibyte":234,"./lib/isNumeric":235,"./lib/isPort":236,"./lib/isPostalCode":237,"./lib/isSurrogatePair":238,"./lib/isURL":239,"./lib/isUUID":240,"./lib/isUppercase":241,"./lib/isVariableWidth":242,"./lib/isWhitelisted":243,"./lib/ltrim":244,"./lib/matches":245,"./lib/normalizeEmail":246,"./lib/rtrim":247,"./lib/stripLow":248,"./lib/toBoolean":249,"./lib/toDate":250,"./lib/toFloat":251,"./lib/toInt":252,"./lib/trim":253,"./lib/unescape":254,"./lib/util/toString":257,"./lib/whitelist":258}],189:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});for(var d,e=c.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ω]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},f=c.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},g=c.decimal={"en-US":".",ar:"٫"},h=c.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],i=0;i<h.length;i++)d="en-"+h[i],e[d]=e["en-US"],f[d]=f["en-US"],g[d]=g["en-US"];for(var j,k=c.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],l=0;l<k.length;l++)j="ar-"+k[l],e[j]=e.ar,f[j]=f.ar,g[j]=g.ar;for(var m=c.dotDecimal=[],n=c.commaDecimal=["cs-CZ","da-DK","de-DE","el-GR","es-ES","fr-FR","it-IT","hu-HU","nb-NO","nn-NO","nl-NL","pl-Pl","pt-PT","ru-RU","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"],o=0;o<m.length;o++)g[m[o]]=g["en-US"];for(var p=0;p<n.length;p++)g[n[p]]=",";e["pt-BR"]=e["pt-PT"],f["pt-BR"]=f["pt-PT"],g["pt-BR"]=g["pt-PT"]},{}],190:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.replace(new RegExp("["+b+"]+","g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],191:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.indexOf(i["default"](b))>=0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/toString"),i=d(h);b.exports=c["default"]},{"./util/assertString":255,"./util/toString":257}],192:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a===b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],193:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],194:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);g["default"](a);var c=i["default"](b),d=i["default"](a);return!!(d&&c&&d>c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toDate"),i=d(h);b.exports=c["default"]},{"./toDate":250,"./util/assertString":255}],195:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(g["default"](a),b in h.alpha)return h.alpha[b].test(a);throw new Error("Invalid locale '"+b+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./alpha");b.exports=c["default"]},{"./alpha":189,"./util/assertString":255}],196:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(g["default"](a),b in h.alphanumeric)return h.alphanumeric[b].test(a);throw new Error("Invalid locale '"+b+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./alpha");b.exports=c["default"]},{"./alpha":189,"./util/assertString":255}],197:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[\x00-\x7F]+$/;b.exports=c["default"]},{"./util/assertString":255}],198:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a);var b=a.length;if(!b||b%4!==0||h.test(a))return!1;var c=a.indexOf("=");return-1===c||c===b-1||c===b-2&&"="===a[b-1]}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[^A-Z0-9+\/=]/i;b.exports=c["default"]},{"./util/assertString":255}],199:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);g["default"](a);var c=i["default"](b),d=i["default"](a);return!!(d&&c&&c>d)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toDate"),i=d(h);b.exports=c["default"]},{"./toDate":250,"./util/assertString":255}],200:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),["true","false","1","0"].indexOf(a)>=0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],201:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0,d=void 0;"object"===("undefined"==typeof b?"undefined":g(b))?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var e=encodeURI(a).split(/%..|./).length-1;return e>=c&&("undefined"==typeof d||d>=e)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":255}],202:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a);var b=a.replace(/[- ]+/g,"");if(!h.test(b))return!1;for(var c=0,d=void 0,e=void 0,f=void 0,i=b.length-1;i>=0;i--)d=b.substring(i,i+1),e=parseInt(d,10),f?(e*=2,c+=e>=10?e%10+1:e):c+=e,f=!f;return!!(c%10===0?b:!1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|62[0-9]{14})$/;b.exports=c["default"]},{"./util/assertString":255}],203:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b="\\d{"+a.digits_after_decimal[0]+"}";a.digits_after_decimal.forEach(function(a,c){0!==c&&(b=b+"|\\d{"+a+"}")});var c="(\\"+a.symbol.replace(/\./g,"\\.")+")"+(a.require_symbol?"":"?"),d="-?",e="[1-9]\\d*",f="[1-9]\\d{0,2}(\\"+a.thousands_separator+"\\d{3})*",g=["0",e,f],h="("+g.join("|")+")?",i="(\\"+a.decimal_separator+"("+b+"))"+(a.require_decimal?"":"?"),j=h+(a.allow_decimal||a.require_decimal?i:"");return a.allow_negatives&&!a.parens_for_negatives&&(a.negative_sign_after_digits?j+=d:a.negative_sign_before_digits&&(j=d+j)),a.allow_negative_sign_placeholder?j="( (?!\\-))?"+j:a.allow_space_after_symbol?j=" ?"+j:a.allow_space_after_digits&&(j+="( (?!$))?"),a.symbol_after_digits?j+=c:j=c+j,a.allow_negatives&&(a.parens_for_negatives?j="(\\("+j+"\\)|"+j+")":a.negative_sign_before_digits||a.negative_sign_after_digits||(j=d+j)),new RegExp("^(?!-? )(?=.*\\d)"+j+"$")}function f(a,b){return j["default"](a),b=h["default"](b,k),e(b).test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var g=a("./util/merge"),h=d(g),i=a("./util/assertString"),j=d(i),k={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};b.exports=c["default"]},{"./util/assertString":255,"./util/merge":256}],204:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;b.exports=c["default"]},{"./util/assertString":255}],205:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=new RegExp("^[-+]?([0-9]+)?(\\"+k.decimal[a.locale]+"[0-9]{"+a.decimal_digits+"})"+(a.force_decimal?"":"?")+"$");return b}function f(a,b){if(j["default"](a),b=h["default"](b,l),b.locale in k.decimal)return!m.includes(a.replace(/ /g,""))&&e(b).test(a);throw new Error("Invalid locale '"+b.locale+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var g=a("./util/merge"),h=d(g),i=a("./util/assertString"),j=d(i),k=a("./alpha"),l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},m=["","-","+"];b.exports=c["default"]},{"./alpha":189,"./util/assertString":255,"./util/merge":256}],206:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),i["default"](a)%parseInt(b,10)===0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toFloat"),i=d(h);b.exports=c["default"]},{"./toFloat":251,"./util/assertString":255}],207:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(g["default"](a),b=i["default"](b,n),b.require_display_name||b.allow_display_name){var c=a.match(o);if(c)a=c[1];else if(b.require_display_name)return!1}var d=a.split("@"),e=d.pop(),f=d.join("@"),h=e.toLowerCase();if(("gmail.com"===h||"googlemail.com"===h)&&(f=f.replace(/\./g,"").toLowerCase()),!k["default"](f,{max:64})||!k["default"](e,{max:254}))return!1;if(!m["default"](e,{require_tld:b.require_tld}))return!1;if('"'===f[0])return f=f.slice(1,f.length-1),b.allow_utf8_local_part?s.test(f):q.test(f);for(var j=b.allow_utf8_local_part?r:p,l=f.split("."),t=0;t<l.length;t++)if(!j.test(l[t]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/merge"),i=d(h),j=a("./isByteLength"),k=d(j),l=a("./isFQDN"),m=d(l),n={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,q=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,r=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;b.exports=c["default"]},{"./isByteLength":201,"./isFQDN":209,"./util/assertString":255,"./util/merge":256}],208:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),0===a.length}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],209:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a),b=i["default"](b,j),b.allow_trailing_dot&&"."===a[a.length-1]&&(a=a.substring(0,a.length-1));var c=a.split(".");if(b.require_tld){var d=c.pop();if(!c.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(d))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(d))return!1}for(var e,f=0;f<c.length;f++){if(e=c[f],b.allow_underscores&&(e=e.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(e))return!1;if(/[\uff01-\uff5e]/.test(e))return!1;if("-"===e[0]||"-"===e[e.length-1])return!1}return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/merge"),i=d(h),j={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};b.exports=c["default"]},{"./util/assertString":255,"./util/merge":256}],210:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a),b=b||{};var c=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\"+(b.locale?h.decimal[b.locale]:".")+"[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$");return""===a||"."===a||"-"===a||"+"===a?!1:c.test(a)&&(!b.hasOwnProperty("min")||a>=b.min)&&(!b.hasOwnProperty("max")||a<=b.max)&&(!b.hasOwnProperty("lt")||a<b.lt)&&(!b.hasOwnProperty("gt")||a>b.gt)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./alpha");b.exports=c["default"]},{"./alpha":189,"./util/assertString":255}],211:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.fullWidth=void 0,c["default"]=e;var f=a("./util/assertString"),g=d(f),h=c.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":255}],212:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.halfWidth=void 0,c["default"]=e;var f=a("./util/assertString"),g=d(f),h=c.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":255}],213:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);var c=new RegExp("^[a-f0-9]{"+h[b]+"}$");return c.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};b.exports=c["default"]},{"./util/assertString":255}],214:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;b.exports=c["default"]},{"./util/assertString":255}],215:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[0-9A-F]+$/i;b.exports=c["default"]},{"./util/assertString":255}],216:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(g["default"](a),b=String(b),!b)return e(a,4)||e(a,6);if("4"===b){if(!h.test(a))return!1;var c=a.split(".").sort(function(a,b){return a-b});return c[3]<=255}if("6"===b){var d=a.split(":"),f=!1,j=e(d[d.length-1],4),k=j?7:8;if(d.length>k)return!1;if("::"===a)return!0;"::"===a.substr(0,2)?(d.shift(),d.shift(),f=!0):"::"===a.substr(a.length-2)&&(d.pop(),d.pop(),f=!0);for(var l=0;l<d.length;++l)if(""===d[l]&&l>0&&l<d.length-1){if(f)return!1;f=!0}else if(j&&l===d.length-1);else if(!i.test(d[l]))return!1;return f?d.length>=1:d.length===k}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,i=/^[0-9A-F]{1,4}$/i;b.exports=c["default"]},{"./util/assertString":255}],217:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(g["default"](a),b=String(b),!b)return e(a,10)||e(a,13);var c=a.replace(/[\s-]+/g,""),d=0,f=void 0;if("10"===b){if(!h.test(c))return!1;for(f=0;9>f;f++)d+=(f+1)*c.charAt(f);if(d+="X"===c.charAt(9)?100:10*c.charAt(9),d%11===0)return!!c}else if("13"===b){if(!i.test(c))return!1;for(f=0;12>f;f++)d+=j[f%2]*c.charAt(f);if(c.charAt(12)-(10-d%10)%10===0)return!!c}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:[0-9]{9}X|[0-9]{10})$/,i=/^(?:[0-9]{13})$/,j=[1,3];b.exports=c["default"]},{"./util/assertString":255}],218:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(g["default"](a),!h.test(a))return!1;for(var b=a.replace(/[A-Z]/g,function(a){return parseInt(a,36)}),c=0,d=void 0,e=void 0,f=!0,i=b.length-2;i>=0;i--)d=b.substring(i,i+1),e=parseInt(d,10),f?(e*=2,c+=e>=10?e+1:e):c+=e,f=!f;return parseInt(a.substr(a.length-1),10)===(1e4-c)%10}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;b.exports=c["default"]},{"./util/assertString":255}],219:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.includes(a.toUpperCase())}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];
b.exports=c["default"]},{"./util/assertString":255}],220:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;b.exports=c["default"]},{"./util/assertString":255}],221:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;b.exports=c["default"]},{"./util/assertString":255}],222:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g["default"](a);var c=h;if(c=b.require_hyphen?c.replace("?",""):c,c=b.case_sensitive?new RegExp(c):new RegExp(c,"i"),!c.test(a))return!1;var d=a.replace("-",""),e=8,f=0,i=!0,j=!1,k=void 0;try{for(var l,m=d[Symbol.iterator]();!(i=(l=m.next()).done);i=!0){var n=l.value,o="X"===n.toUpperCase()?10:+n;f+=o*e,--e}}catch(p){j=!0,k=p}finally{try{!i&&m["return"]&&m["return"]()}finally{if(j)throw k}}return f%11===0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h="^\\d{4}-?\\d{3}[\\dX]$";b.exports=c["default"]},{"./util/assertString":255}],223:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0;if("[object Array]"===Object.prototype.toString.call(b)){var d=[];for(c in b)({}).hasOwnProperty.call(b,c)&&(d[c]=k["default"](b[c]));return d.indexOf(a)>=0}return"object"===("undefined"==typeof b?"undefined":g(b))?b.hasOwnProperty(a):b&&"function"==typeof b.indexOf?b.indexOf(a)>=0:!1}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h),j=a("./util/toString"),k=d(j);b.exports=c["default"]},{"./util/assertString":255,"./util/toString":257}],224:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a),b=b||{};var c=b.hasOwnProperty("allow_leading_zeroes")&&!b.allow_leading_zeroes?h:i,d=!b.hasOwnProperty("min")||a>=b.min,e=!b.hasOwnProperty("max")||a<=b.max,f=!b.hasOwnProperty("lt")||a<b.lt,j=!b.hasOwnProperty("gt")||a>b.gt;return c.test(a)&&d&&e&&f&&j}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,i=/^[-+]?[0-9]+$/;b.exports=c["default"]},{"./util/assertString":255}],225:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i["default"](a);try{var b=JSON.parse(a);return!!b&&"object"===("undefined"==typeof b?"undefined":g(b))}catch(c){}return!1}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":255}],226:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){if(f["default"](a),!a.includes(","))return!1;var b=a.split(",");return g.test(b[0])&&h.test(b[1])};var e=a("./util/assertString"),f=d(e),g=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,h=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;b.exports=c["default"]},{"./util/assertString":255}],227:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0,d=void 0;"object"===("undefined"==typeof b?"undefined":g(b))?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var e=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],f=a.length-e.length;return f>=c&&("undefined"==typeof d||d>=f)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":255}],228:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a===a.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],229:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;b.exports=c["default"]},{"./util/assertString":255}],230:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[a-f0-9]{32}$/;b.exports=c["default"]},{"./util/assertString":255}],231:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)||i.test(a)||j.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,i=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,j=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;b.exports=c["default"]},{"./util/assertString":255}],232:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(g["default"](a),b in h)return h[b].test(a);if("any"===b){for(var c in h)if(h.hasOwnProperty(c)){var d=h[c];if(d.test(a))return!0}return!1}throw new Error("Invalid locale '"+b+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[012]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-KE":/^(\+?254|0)?[7]\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[0248]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0[1-9])[\s|\d]+$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};h["en-CA"]=h["en-US"],h["fr-BE"]=h["nl-BE"],h["zh-HK"]=h["en-HK"],b.exports=c["default"]},{"./util/assertString":255}],233:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),i["default"](a)&&24===a.length}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./isHexadecimal"),i=d(h);b.exports=c["default"]},{"./isHexadecimal":215,"./util/assertString":255}],234:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[^\x00-\x7F]/;b.exports=c["default"]},{"./util/assertString":255}],235:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[-+]?[0-9]+$/;b.exports=c["default"]},{"./util/assertString":255}],236:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a,{min:0,max:65535})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./isInt"),g=d(f);b.exports=c["default"]},{"./isInt":224}],237:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.locales=void 0,c["default"]=function(a,b){if(f["default"](a),b in k)return k[b].test(a);if("any"===b){for(var c in k)if(k.hasOwnProperty(c)){var d=k[c];if(d.test(a))return!0}return!1}throw new Error("Invalid locale '"+b+"'")};var e=a("./util/assertString"),f=d(e),g=/^\d{3}$/,h=/^\d{4}$/,i=/^\d{5}$/,j=/^\d{6}$/,k={AT:h,AU:h,BE:h,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:h,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:h,DZ:i,ES:i,FI:i,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,IL:i,IN:j,IS:g,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,LI:/^(948[5-9]|949[0-7])$/,MX:i,NL:/^\d{4}\s?[a-z]{2}$/i,NO:h,PL:/^\d{2}\-\d{3}$/,PT:/^\d{4}\-\d{3}?$/,RO:j,RU:j,SA:i,SE:/^\d{3}\s?\d{2}$/,TW:/^\d{3}(\d{2})?$/,US:/^\d{5}(-\d{4})?$/,ZA:h,ZM:i};c.locales=Object.keys(k)},{"./util/assertString":255}],238:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;b.exports=c["default"]},{"./util/assertString":255}],239:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(a===d||e(d)&&d.test(a))return!0}return!1}function g(a,b){if(i["default"](a),!a||a.length>=2083||/[\s<>]/.test(a))return!1;if(0===a.indexOf("mailto:"))return!1;b=o["default"](b,p);var c=void 0,d=void 0,e=void 0,g=void 0,h=void 0,j=void 0,l=void 0,n=void 0;if(l=a.split("#"),a=l.shift(),l=a.split("?"),a=l.shift(),l=a.split("://"),l.length>1){if(c=l.shift(),b.require_valid_protocol&&-1===b.protocols.indexOf(c))return!1}else{if(b.require_protocol)return!1;b.allow_protocol_relative_urls&&"//"===a.substr(0,2)&&(l[0]=a.substr(2))}if(a=l.join("://"),""===a)return!1;if(l=a.split("/"),a=l.shift(),""===a&&!b.require_host)return!0;if(l=a.split("@"),l.length>1&&(d=l.shift(),d.indexOf(":")>=0&&d.split(":").length>2))return!1;g=l.join("@"),j=null,n=null;var r=g.match(q);return r?(e="",n=r[1],j=r[2]||null):(l=g.split(":"),e=l.shift(),l.length&&(j=l.join(":"))),null!==j&&(h=parseInt(j,10),!/^[0-9]+$/.test(j)||0>=h||h>65535)?!1:m["default"](e)||k["default"](e,b)||n&&m["default"](n,6)?(e=e||n,b.host_whitelist&&!f(e,b.host_whitelist)?!1:b.host_blacklist&&f(e,b.host_blacklist)?!1:!0):!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=g;var h=a("./util/assertString"),i=d(h),j=a("./isFQDN"),k=d(j),l=a("./isIP"),m=d(l),n=a("./util/merge"),o=d(n),p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},q=/^\[([^\]]+)\](?::([0-9]+))?$/;b.exports=c["default"]},{"./isFQDN":209,"./isIP":216,"./util/assertString":255,"./util/merge":256}],240:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";g["default"](a);var c=h[b];return c&&c.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};b.exports=c["default"]},{"./util/assertString":255}],241:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a===a.toUpperCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],242:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.fullWidth.test(a)&&i.halfWidth.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./isFullWidth"),i=a("./isHalfWidth");b.exports=c["default"]},{"./isFullWidth":211,"./isHalfWidth":212,"./util/assertString":255}],243:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);for(var c=a.length-1;c>=0;c--)if(-1===b.indexOf(a[c]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],244:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);var c=b?new RegExp("^["+b+"]+","g"):/^\s+/g;return a.replace(c,"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],245:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return g["default"](a),"[object RegExp]"!==Object.prototype.toString.call(b)&&(b=new RegExp(b,c)),b.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],246:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){b=g["default"](b,h);var c=a.split("@"),d=c.pop(),e=c.join("@"),f=[e,d];if(f[1]=f[1].toLowerCase(),"gmail.com"===f[1]||"googlemail.com"===f[1]){if(b.gmail_remove_subaddress&&(f[0]=f[0].split("+")[0]),b.gmail_remove_dots&&(f[0]=f[0].replace(/\./g,"")),!f[0].length)return!1;(b.all_lowercase||b.gmail_lowercase)&&(f[0]=f[0].toLowerCase()),f[1]=b.gmail_convert_googlemaildotcom?"gmail.com":f[1]}else if(~i.indexOf(f[1])){if(b.icloud_remove_subaddress&&(f[0]=f[0].split("+")[0]),!f[0].length)return!1;(b.all_lowercase||b.icloud_lowercase)&&(f[0]=f[0].toLowerCase())}else if(~j.indexOf(f[1])){if(b.outlookdotcom_remove_subaddress&&(f[0]=f[0].split("+")[0]),!f[0].length)return!1;(b.all_lowercase||b.outlookdotcom_lowercase)&&(f[0]=f[0].toLowerCase())}else if(~k.indexOf(f[1])){if(b.yahoo_remove_subaddress){var l=f[0].split("-");f[0]=l.length>1?l.slice(0,-1).join("-"):l[0]}if(!f[0].length)return!1;(b.all_lowercase||b.yahoo_lowercase)&&(f[0]=f[0].toLowerCase())}else b.all_lowercase&&(f[0]=f[0].toLowerCase());return f.join("@")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/merge"),g=d(f),h={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},i=["icloud.com","me.com"],j=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],k=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];b.exports=c["default"]},{"./util/merge":256}],247:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);for(var c=b?new RegExp("["+b+"]"):/\s/,d=a.length-1;d>=0&&c.test(a[d]);)d--;return d<a.length?a.substr(0,d+1):a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],248:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);var c=b?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return i["default"](a,c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./blacklist"),i=d(h);b.exports=c["default"]},{"./blacklist":190,"./util/assertString":255}],249:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),b?"1"===a||"true"===a:"0"!==a&&"false"!==a&&""!==a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],250:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a=Date.parse(a),isNaN(a)?null:new Date(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],251:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),parseFloat(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],252:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),parseInt(a,b||10)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],253:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](i["default"](a,b),b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./rtrim"),g=d(f),h=a("./ltrim"),i=d(h);b.exports=c["default"]},{"./ltrim":244,"./rtrim":247}],254:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],255:[function(a,b,c){"use strict";function d(a){var b="string"==typeof a||a instanceof String;if(!b)throw new TypeError("This library (validator.js) validates strings only")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],256:[function(a,b,c){"use strict";function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];for(var c in b)"undefined"==typeof a[c]&&(a[c]=b[c]);return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],257:[function(a,b,c){"use strict";function d(a){return"object"===("undefined"==typeof a?"undefined":f(a))&&null!==a?a="function"==typeof a.toString?a.toString():"[object Object]":(null===a||"undefined"==typeof a||isNaN(a)&&!a.length)&&(a=""),String(a)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":e(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":e(a)};c["default"]=d,b.exports=c["default"]},{}],258:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.replace(new RegExp("[^"+b+"]+","g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":255}],259:[function(a,b,c){"use strict";(function(){c.stripBOM=function(a){return"\ufeff"===a[0]?a.substring(1):a}}).call(void 0)},{}],260:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var b,e,f,g,h,i={}.hasOwnProperty;b=a("xmlbuilder"),e=a("./defaults").defaults,g=function(a){return"string"==typeof a&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},h=function(a){return"<![CDATA["+f(a)+"]]>"},f=function(a){return a.replace("]]>","]]]]><![CDATA[>")},c.Builder=function(){function a(a){var b,c,d;this.options={},c=e[.2];for(b in c)i.call(c,b)&&(d=c[b],this.options[b]=d);for(b in a)i.call(a,b)&&(d=a[b],this.options[b]=d)}return a.prototype.buildObject=function(a){var c,f,j,k,l;return c=this.options.attrkey,f=this.options.charkey,1===Object.keys(a).length&&this.options.rootName===e[.2].rootName?(l=Object.keys(a)[0],a=a[l]):l=this.options.rootName,j=function(a){return function(b,e){var k,l,m,n,o,p;if("object"!==("undefined"==typeof e?"undefined":d(e)))a.options.cdata&&g(e)?b.raw(h(e)):b.txt(e);else if(Array.isArray(e)){for(n in e)if(i.call(e,n)){l=e[n];for(o in l)m=l[o],b=j(b.ele(o),m).up()}}else for(o in e)if(i.call(e,o))if(l=e[o],o===c){if("object"===("undefined"==typeof l?"undefined":d(l)))for(k in l)p=l[k],b=b.att(k,p)}else if(o===f)b=a.options.cdata&&g(l)?b.raw(h(l)):b.txt(l);else if(Array.isArray(l))for(n in l)i.call(l,n)&&(m=l[n],b="string"==typeof m?a.options.cdata&&g(m)?b.ele(o).raw(h(m)).up():b.ele(o,m).up():j(b.ele(o),m).up());else"object"===("undefined"==typeof l?"undefined":d(l))?b=j(b.ele(o),l).up():"string"==typeof l&&a.options.cdata&&g(l)?b=b.ele(o).raw(h(l)).up():(null==l&&(l=""),b=b.ele(o,l.toString()).up());return b}}(this),k=b.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),j(k,a).end(this.options.renderOpts)},a}()}).call(void 0)},{"./defaults":261,xmlbuilder:286}],261:[function(a,b,c){"use strict";(function(){c.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],262:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var b,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}},m=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n={}.hasOwnProperty;j=a("sax"),f=a("events"),b=a("./bom"),i=a("./processors"),k=a("timers").setImmediate,e=a("./defaults").defaults,g=function(a){return"object"===("undefined"==typeof a?"undefined":d(a))&&null!=a&&0===Object.keys(a).length},h=function(a,b,c){var d,e,f;for(d=0,e=a.length;e>d;d++)f=a[d],b=f(b,c);return b},c.Parser=function(a){function f(a){this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this);var b,d,f;if(!(this instanceof c.Parser))return new c.Parser(a);this.options={},d=e[.2];for(b in d)n.call(d,b)&&(f=d[b],this.options[b]=f);for(b in a)n.call(a,b)&&(f=a[b],this.options[b]=f);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(i.normalize)),this.reset()}return m(f,a),f.prototype.processAsync=function(){var a,b;try{return this.remaining.length<=this.options.chunkSize?(a=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(a),this.saxParser.close()):(a=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(a),k(this.processAsync))}catch(c){if(b=c,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(b)}},f.prototype.assignOrPush=function(a,b,c){return b in a?(a[b]instanceof Array||(a[b]=[a[b]]),a[b].push(c)):this.options.explicitArray?a[b]=[c]:a[b]=c},f.prototype.reset=function(){var a,b,c,e;return this.removeAllListeners(),this.saxParser=j.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(a){return function(b){return a.saxParser.resume(),a.saxParser.errThrown?void 0:(a.saxParser.errThrown=!0,a.emit("error",b))}}(this),this.saxParser.onend=function(a){return function(){return a.saxParser.ended?void 0:(a.saxParser.ended=!0,a.emit("end",a.resultObject))}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,e=[],a=this.options.attrkey,b=this.options.charkey,this.saxParser.onopentag=function(c){return function(d){var f,g,i,j,k;if(i={},i[b]="",!c.options.ignoreAttrs){k=d.attributes;for(f in k)n.call(k,f)&&(a in i||c.options.mergeAttrs||(i[a]={}),g=c.options.attrValueProcessors?h(c.options.attrValueProcessors,d.attributes[f],f):d.attributes[f],j=c.options.attrNameProcessors?h(c.options.attrNameProcessors,f):f,c.options.mergeAttrs?c.assignOrPush(i,j,g):i[a][j]=g)}return i["#name"]=c.options.tagNameProcessors?h(c.options.tagNameProcessors,d.name):d.name,c.options.xmlns&&(i[c.options.xmlnskey]={uri:d.uri,local:d.local}),e.push(i)}}(this),this.saxParser.onclosetag=function(a){return function(){var c,f,i,j,k,l,m,o,p,q;if(l=e.pop(),k=l["#name"],a.options.explicitChildren&&a.options.preserveChildrenOrder||delete l["#name"],l.cdata===!0&&(c=l.cdata,delete l.cdata),p=e[e.length-1],l[b].match(/^\s*$/)&&!c?(f=l[b],delete l[b]):(a.options.trim&&(l[b]=l[b].trim()),a.options.normalize&&(l[b]=l[b].replace(/\s{2,}/g," ").trim()),l[b]=a.options.valueProcessors?h(a.options.valueProcessors,l[b],k):l[b],1===Object.keys(l).length&&b in l&&!a.EXPLICIT_CHARKEY&&(l=l[b])),g(l)&&(l=""!==a.options.emptyTag?a.options.emptyTag:f),null!=a.options.validator&&(q="/"+function(){var a,b,c;for(c=[],a=0,b=e.length;b>a;a++)j=e[a],c.push(j["#name"]);return c}().concat(k).join("/"),function(){var b;try{return l=a.options.validator(q,p&&p[k],l)}catch(c){return b=c,a.emit("error",b)}}()),a.options.explicitChildren&&!a.options.mergeAttrs&&"object"===("undefined"==typeof l?"undefined":d(l)))if(a.options.preserveChildrenOrder){if(p){p[a.options.childkey]=p[a.options.childkey]||[],m={};for(i in l)n.call(l,i)&&(m[i]=l[i]);p[a.options.childkey].push(m),delete l["#name"],1===Object.keys(l).length&&b in l&&!a.EXPLICIT_CHARKEY&&(l=l[b])}}else j={},a.options.attrkey in l&&(j[a.options.attrkey]=l[a.options.attrkey],
delete l[a.options.attrkey]),!a.options.charsAsChildren&&a.options.charkey in l&&(j[a.options.charkey]=l[a.options.charkey],delete l[a.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(j[a.options.childkey]=l),l=j;return e.length>0?a.assignOrPush(p,k,l):(a.options.explicitRoot&&(o=l,l={},l[k]=o),a.resultObject=l,a.saxParser.ended=!0,a.emit("end",a.resultObject))}}(this),c=function(a){return function(c){var d,f;return f=e[e.length-1],f?(f[b]+=c,a.options.explicitChildren&&a.options.preserveChildrenOrder&&a.options.charsAsChildren&&(a.options.includeWhiteChars||""!==c.replace(/\\n/g,"").trim())&&(f[a.options.childkey]=f[a.options.childkey]||[],d={"#name":"__text__"},d[b]=c,a.options.normalize&&(d[b]=d[b].replace(/\s{2,}/g," ").trim()),f[a.options.childkey].push(d)),f):void 0}}(this),this.saxParser.ontext=c,this.saxParser.oncdata=function(a){return function(a){var b;return b=c(a),b?b.cdata=!0:void 0}}(this)},f.prototype.parseString=function(a,c){var d;null!=c&&"function"==typeof c&&(this.on("end",function(a){return this.reset(),c(null,a)}),this.on("error",function(a){return this.reset(),c(a)}));try{return a=a.toString(),""===a.trim()?(this.emit("end",null),!0):(a=b.stripBOM(a),this.options.async?(this.remaining=a,k(this.processAsync),this.saxParser):this.saxParser.write(a).close())}catch(e){if(d=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",d),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw d}},f}(f.EventEmitter),c.parseString=function(a,b,e){var f,g,h;return null!=e?("function"==typeof e&&(f=e),"object"===("undefined"==typeof b?"undefined":d(b))&&(g=b)):("function"==typeof b&&(f=b),g={}),h=new c.Parser(g),h.parseString(a,f)}}).call(void 0)},{"./bom":259,"./defaults":261,"./processors":263,events:13,sax:151,timers:182}],263:[function(a,b,c){"use strict";(function(){var a;a=new RegExp(/(?!xmlns)^.*:/),c.normalize=function(a){return a.toLowerCase()},c.firstCharLowerCase=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},c.stripPrefix=function(b){return b.replace(a,"")},c.parseNumbers=function(a){return isNaN(a)||(a=a%1===0?parseInt(a,10):parseFloat(a)),a},c.parseBooleans=function(a){return/^(?:true|false)$/i.test(a)&&(a="true"===a.toLowerCase()),a}}).call(void 0)},{}],264:[function(a,b,c){"use strict";(function(){var b,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;d=a("./defaults"),b=a("./builder"),e=a("./parser"),f=a("./processors"),c.defaults=d.defaults,c.processors=f,c.ValidationError=function(a){function b(a){this.message=a}return g(b,a),b}(Error),c.Builder=b.Builder,c.Parser=e.Parser,c.parseString=e.parseString}).call(void 0)},{"./builder":260,"./defaults":261,"./parser":262,"./processors":263}],265:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var a,c,e,f,g,h,i=[].slice,j={}.hasOwnProperty;a=function(){var a,b,c,d,e,g;if(g=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],f(Object.assign))Object.assign.apply(null,arguments);else for(a=0,c=e.length;c>a;a++)if(d=e[a],null!=d)for(b in d)j.call(d,b)&&(g[b]=d[b]);return g},f=function(a){return!!a&&"[object Function]"===Object.prototype.toString.call(a)},g=function(a){var b;return!!a&&("function"===(b="undefined"==typeof a?"undefined":d(a))||"object"===b)},c=function(a){return f(Array.isArray)?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},e=function(a){var b;if(c(a))return!a.length;for(b in a)if(j.call(a,b))return!1;return!0},h=function(a){var b,c;return g(a)&&(c=Object.getPrototypeOf(a))&&(b=c.constructor)&&"function"==typeof b&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)},b.exports.assign=a,b.exports.isFunction=f,b.exports.isObject=g,b.exports.isArray=c,b.exports.isEmpty=e,b.exports.isPlainObject=h}).call(void 0)},{}],266:[function(a,b,c){"use strict";(function(){var a;b.exports=a=function(){function a(a,b,c){if(this.options=a.options,this.stringify=a.stringify,null==b)throw new Error("Missing attribute name of element "+a.name);if(null==c)throw new Error("Missing attribute value for attribute "+b+" of element "+a.name);this.name=this.stringify.attName(b),this.value=this.stringify.attValue(c)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(a){return this.options.writer.set(a).attribute(this)},a}()}).call(void 0)},{}],267:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./XMLNode"),b.exports=c=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(c)}return e(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},b}(d)}).call(void 0)},{"./XMLNode":278}],268:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./XMLNode"),b.exports=c=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing comment text");this.text=this.stringify.comment(c)}return e(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},b}(d)}).call(void 0)},{"./XMLNode":278}],269:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d,e,f,g){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing DTD element name");if(null==d)throw new Error("Missing DTD attribute name");if(!e)throw new Error("Missing DTD attribute type");if(!f)throw new Error("Missing DTD attribute default");if(0!==f.indexOf("#")&&(f="#"+f),!f.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(g&&!f.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(d),this.attributeType=this.stringify.dtdAttType(e),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=f}return e(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},b}(d)}).call(void 0)},{"./XMLNode":278}],270:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing DTD element name");d||(d="(#PCDATA)"),Array.isArray(d)&&(d="("+d.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(d)}return e(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},b}(d)}).call(void 0)},{"./XMLNode":278}],271:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("./Utility").isObject,d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d,f){if(b.__super__.constructor.call(this,a),null==d)throw new Error("Missing entity name");if(null==f)throw new Error("Missing entity value");if(this.pe=!!c,this.name=this.stringify.eleName(d),e(f)){if(!f.pubID&&!f.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(f.pubID&&!f.sysID)throw new Error("System identifier is required for a public external entity");if(null!=f.pubID&&(this.pubID=this.stringify.dtdPubID(f.pubID)),null!=f.sysID&&(this.sysID=this.stringify.dtdSysID(f.sysID)),null!=f.nData&&(this.nData=this.stringify.dtdNData(f.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(f)}return f(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},b}(d)}).call(void 0)},{"./Utility":265,"./XMLNode":278}],272:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing notation name");if(!d.pubID&&!d.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(c),null!=d.pubID&&(this.pubID=this.stringify.dtdPubID(d.pubID)),null!=d.sysID&&(this.sysID=this.stringify.dtdSysID(d.sysID))}return e(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},b}(d)}).call(void 0)},{"./XMLNode":278}],273:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("./Utility").isObject,d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d,f){var g;b.__super__.constructor.call(this,a),e(c)&&(g=c,c=g.version,d=g.encoding,f=g.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),null!=d&&(this.encoding=this.stringify.xmlEncoding(d)),null!=f&&(this.standalone=this.stringify.xmlStandalone(f))}return f(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},b}(d)}).call(void 0)},{"./Utility":265,"./XMLNode":278}],274:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k={}.hasOwnProperty;i=a("./Utility").isObject,h=a("./XMLNode"),c=a("./XMLDTDAttList"),e=a("./XMLDTDEntity"),d=a("./XMLDTDElement"),f=a("./XMLDTDNotation"),b.exports=g=function(a){function b(a,c,d){var e,f;b.__super__.constructor.call(this,a),this.documentObject=a,i(c)&&(e=c,c=e.pubID,d=e.sysID),null==d&&(f=[c,d],d=f[0],c=f[1]),null!=c&&(this.pubID=this.stringify.dtdPubID(c)),null!=d&&(this.sysID=this.stringify.dtdSysID(d))}return j(b,a),b.prototype.element=function(a,b){var c;return c=new d(this,a,b),this.children.push(c),this},b.prototype.attList=function(a,b,d,e,f){var g;return g=new c(this,a,b,d,e,f),this.children.push(g),this},b.prototype.entity=function(a,b){var c;return c=new e(this,!1,a,b),this.children.push(c),this},b.prototype.pEntity=function(a,b){var c;return c=new e(this,!0,a,b),this.children.push(c),this},b.prototype.notation=function(a,b){var c;return c=new f(this,a,b),this.children.push(c),this},b.prototype.toString=function(a){return this.options.writer.set(a).docType(this)},b.prototype.ele=function(a,b){return this.element(a,b)},b.prototype.att=function(a,b,c,d,e){return this.attList(a,b,c,d,e)},b.prototype.ent=function(a,b){return this.entity(a,b)},b.prototype.pent=function(a,b){return this.pEntity(a,b)},b.prototype.not=function(a,b){return this.notation(a,b)},b.prototype.up=function(){return this.root()||this.documentObject},b}(h)}).call(void 0)},{"./Utility":265,"./XMLDTDAttList":269,"./XMLDTDElement":270,"./XMLDTDEntity":271,"./XMLDTDNotation":272,"./XMLNode":278}],275:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;g=a("./Utility").isPlainObject,d=a("./XMLNode"),f=a("./XMLStringifier"),e=a("./XMLStringWriter"),b.exports=c=function(a){function b(a){b.__super__.constructor.call(this,null),a||(a={}),a.writer||(a.writer=new e),this.options=a,this.stringify=new f(a),this.isDocument=!0}return h(b,a),b.prototype.end=function(a){var b;return a?g(a)&&(b=a,a=this.options.writer.set(b)):a=this.options.writer,a.document(this)},b.prototype.toString=function(a){return this.options.writer.set(a).document(this)},b}(d)}).call(void 0)},{"./Utility":265,"./XMLNode":278,"./XMLStringWriter":282,"./XMLStringifier":283}],276:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w={}.hasOwnProperty;v=a("./Utility"),t=v.isObject,s=v.isFunction,u=v.isPlainObject,m=a("./XMLElement"),d=a("./XMLCData"),e=a("./XMLComment"),o=a("./XMLRaw"),r=a("./XMLText"),n=a("./XMLProcessingInstruction"),j=a("./XMLDeclaration"),k=a("./XMLDocType"),f=a("./XMLDTDAttList"),h=a("./XMLDTDEntity"),g=a("./XMLDTDElement"),i=a("./XMLDTDNotation"),c=a("./XMLAttribute"),q=a("./XMLStringifier"),p=a("./XMLStringWriter"),b.exports=l=function(){function a(a,b,c){var d;a||(a={}),a.writer?u(a.writer)&&(d=a.writer,a.writer=new p(d)):a.writer=new p(a),this.options=a,this.writer=a.writer,this.stringify=new q(a),this.onDataCallback=b||function(){},this.onEndCallback=c||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return a.prototype.node=function(a,b,c){var d;if(null==a)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),a=a.valueOf(),null==b&&(b={}),b=b.valueOf(),t(b)||(d=[b,c],c=d[0],b=d[1]),this.currentNode=new m(this,a,b),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=c&&this.text(c),this},a.prototype.element=function(a,b,c){return this.currentNode&&this.currentNode instanceof k?this.dtdElement.apply(this,arguments):this.node(a,b,c)},a.prototype.attribute=function(a,b){var d,e;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=a&&(a=a.valueOf()),t(a))for(d in a)w.call(a,d)&&(e=a[d],this.attribute(d,e));else s(b)&&(b=b.apply()),this.options.skipNullAttributes&&null==b||(this.currentNode.attributes[a]=new c(this,a,b));return this},a.prototype.text=function(a){var b;return this.openCurrent(),b=new r(this,a),this.onData(this.writer.text(b,this.currentLevel+1)),this},a.prototype.cdata=function(a){var b;return this.openCurrent(),b=new d(this,a),this.onData(this.writer.cdata(b,this.currentLevel+1)),this},a.prototype.comment=function(a){var b;return this.openCurrent(),b=new e(this,a),this.onData(this.writer.comment(b,this.currentLevel+1)),this},a.prototype.raw=function(a){var b;return this.openCurrent(),b=new o(this,a),this.onData(this.writer.raw(b,this.currentLevel+1)),this},a.prototype.instruction=function(a,b){var c,d,e,f,g;if(this.openCurrent(),null!=a&&(a=a.valueOf()),null!=b&&(b=b.valueOf()),Array.isArray(a))for(c=0,f=a.length;f>c;c++)d=a[c],this.instruction(d);else if(t(a))for(d in a)w.call(a,d)&&(e=a[d],this.instruction(d,e));else s(b)&&(b=b.apply()),g=new n(this,a,b),this.onData(this.writer.processingInstruction(g,this.currentLevel+1));return this},a.prototype.declaration=function(a,b,c){var d;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return d=new j(this,a,b,c),this.onData(this.writer.declaration(d,this.currentLevel+1)),this},a.prototype.doctype=function(a,b,c){if(this.openCurrent(),null==a)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new k(this,b,c),this.currentNode.rootNodeName=a,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},a.prototype.dtdElement=function(a,b){var c;return this.openCurrent(),c=new g(this,a,b),this.onData(this.writer.dtdElement(c,this.currentLevel+1)),this},a.prototype.attList=function(a,b,c,d,e){var g;return this.openCurrent(),g=new f(this,a,b,c,d,e),this.onData(this.writer.dtdAttList(g,this.currentLevel+1)),this},a.prototype.entity=function(a,b){var c;return this.openCurrent(),c=new h(this,!1,a,b),this.onData(this.writer.dtdEntity(c,this.currentLevel+1)),this},a.prototype.pEntity=function(a,b){var c;return this.openCurrent(),c=new h(this,!0,a,b),this.onData(this.writer.dtdEntity(c,this.currentLevel+1)),this},a.prototype.notation=function(a,b){var c;return this.openCurrent(),c=new i(this,a,b),this.onData(this.writer.dtdNotation(c,this.currentLevel+1)),this},a.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},a.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},a.prototype.openCurrent=function(){return this.currentNode?(this.currentNode.children=!0,this.openNode(this.currentNode)):void 0},a.prototype.openNode=function(a){return a.isOpen?void 0:(!this.root&&0===this.currentLevel&&a instanceof m&&(this.root=a),this.onData(this.writer.openNode(a,this.currentLevel)),a.isOpen=!0)},a.prototype.closeNode=function(a){return a.isClosed?void 0:(this.onData(this.writer.closeNode(a,this.currentLevel)),a.isClosed=!0)},a.prototype.onData=function(a){return this.documentStarted=!0,this.onDataCallback(a)},a.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},a.prototype.ele=function(){return this.element.apply(this,arguments)},a.prototype.nod=function(a,b,c){return this.node(a,b,c)},a.prototype.txt=function(a){return this.text(a)},a.prototype.dat=function(a){return this.cdata(a)},a.prototype.com=function(a){return this.comment(a)},a.prototype.ins=function(a,b){return this.instruction(a,b)},a.prototype.dec=function(a,b,c){return this.declaration(a,b,c)},a.prototype.dtd=function(a,b,c){return this.doctype(a,b,c)},a.prototype.e=function(a,b,c){return this.element(a,b,c)},a.prototype.n=function(a,b,c){return this.node(a,b,c)},a.prototype.t=function(a){return this.text(a)},a.prototype.d=function(a){return this.cdata(a)},a.prototype.c=function(a){return this.comment(a)},a.prototype.r=function(a){return this.raw(a)},a.prototype.i=function(a,b){return this.instruction(a,b)},a.prototype.att=function(){return this.currentNode&&this.currentNode instanceof k?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},a.prototype.a=function(){return this.currentNode&&this.currentNode instanceof k?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},a.prototype.ent=function(a,b){return this.entity(a,b)},a.prototype.pent=function(a,b){return this.pEntity(a,b)},a.prototype.not=function(a,b){return this.notation(a,b)},a}()}).call(void 0)},{"./Utility":265,"./XMLAttribute":266,"./XMLCData":267,"./XMLComment":268,"./XMLDTDAttList":269,"./XMLDTDElement":270,"./XMLDTDEntity":271,"./XMLDTDNotation":272,"./XMLDeclaration":273,"./XMLDocType":274,"./XMLElement":277,"./XMLProcessingInstruction":279,"./XMLRaw":280,"./XMLStringWriter":282,"./XMLStringifier":283,"./XMLText":284}],277:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;h=a("./Utility"),g=h.isObject,f=h.isFunction,e=a("./XMLNode"),c=a("./XMLAttribute"),b.exports=d=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element name");this.name=this.stringify.eleName(c),this.attributes={},null!=d&&this.attribute(d),a.isDocument&&(this.isRoot=!0,this.documentObject=a,a.rootObject=this)}return i(b,a),b.prototype.clone=function(){var a,b,c,d;c=Object.create(this),c.isRoot&&(c.documentObject=null),c.attributes={},d=this.attributes;for(b in d)j.call(d,b)&&(a=d[b],c.attributes[b]=a.clone());return c.children=[],this.children.forEach(function(a){var b;return b=a.clone(),b.parent=c,c.children.push(b)}),c},b.prototype.attribute=function(a,b){var d,e;if(null!=a&&(a=a.valueOf()),g(a))for(d in a)j.call(a,d)&&(e=a[d],this.attribute(d,e));else f(b)&&(b=b.apply()),this.options.skipNullAttributes&&null==b||(this.attributes[a]=new c(this,a,b));return this},b.prototype.removeAttribute=function(a){var b,c,d;if(null==a)throw new Error("Missing attribute name");if(a=a.valueOf(),Array.isArray(a))for(c=0,d=a.length;d>c;c++)b=a[c],delete this.attributes[b];else delete this.attributes[a];return this},b.prototype.toString=function(a){return this.options.writer.set(a).element(this)},b.prototype.att=function(a,b){return this.attribute(a,b)},b.prototype.a=function(a,b){return this.attribute(a,b)},b}(e)}).call(void 0)},{"./Utility":265,"./XMLAttribute":266,"./XMLNode":278}],278:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p={}.hasOwnProperty;o=a("./Utility"),n=o.isObject,m=o.isFunction,l=o.isEmpty,g=null,c=null,d=null,e=null,f=null,j=null,k=null,i=null,b.exports=h=function(){function b(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],g||(g=a("./XMLElement"),c=a("./XMLCData"),d=a("./XMLComment"),e=a("./XMLDeclaration"),f=a("./XMLDocType"),j=a("./XMLRaw"),k=a("./XMLText"),i=a("./XMLProcessingInstruction"))}return b.prototype.element=function(a,b,c){var d,e,f,g,h,i,j,k,o,q;if(i=null,null==b&&(b={}),b=b.valueOf(),n(b)||(o=[b,c],c=o[0],b=o[1]),null!=a&&(a=a.valueOf()),Array.isArray(a))for(f=0,j=a.length;j>f;f++)e=a[f],i=this.element(e);else if(m(a))i=this.element(a.apply());else if(n(a)){for(h in a)if(p.call(a,h))if(q=a[h],m(q)&&(q=q.apply()),n(q)&&l(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===h.indexOf(this.stringify.convertAttKey))i=this.attribute(h.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(g=0,k=q.length;k>g;g++)e=q[g],d={},d[h]=e,i=this.element(d);else n(q)?(i=this.element(h),i.element(q)):i=this.element(h,q)}else i=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?this.text(c):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===a.indexOf(this.stringify.convertCDataKey)?this.cdata(c):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===a.indexOf(this.stringify.convertCommentKey)?this.comment(c):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===a.indexOf(this.stringify.convertRawKey)?this.raw(c):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===a.indexOf(this.stringify.convertPIKey)?this.instruction(a.substr(this.stringify.convertPIKey.length),c):this.node(a,b,c);if(null==i)throw new Error("Could not create any elements with: "+a);return i},b.prototype.insertBefore=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.insertAfter=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e+1),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.remove=function(){var a,b;if(this.isRoot)throw new Error("Cannot remove the root element");return a=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[a,a-a+1].concat(b=[])),b,this.parent},b.prototype.node=function(a,b,c){var d,e;return null!=a&&(a=a.valueOf()),b||(b={}),b=b.valueOf(),n(b)||(e=[b,c],c=e[0],b=e[1]),d=new g(this,a,b),null!=c&&d.text(c),this.children.push(d),d},b.prototype.text=function(a){var b;return b=new k(this,a),this.children.push(b),this},b.prototype.cdata=function(a){var b;return b=new c(this,a),this.children.push(b),this},b.prototype.comment=function(a){var b;return b=new d(this,a),this.children.push(b),this},b.prototype.commentBefore=function(a){var b,c,d;return c=this.parent.children.indexOf(this),d=this.parent.children.splice(c),b=this.parent.comment(a),Array.prototype.push.apply(this.parent.children,d),this},b.prototype.commentAfter=function(a){var b,c,d;return c=this.parent.children.indexOf(this),d=this.parent.children.splice(c+1),b=this.parent.comment(a),Array.prototype.push.apply(this.parent.children,d),this},b.prototype.raw=function(a){var b;return b=new j(this,a),this.children.push(b),this},b.prototype.instruction=function(a,b){var c,d,e,f,g;if(null!=a&&(a=a.valueOf()),null!=b&&(b=b.valueOf()),Array.isArray(a))for(f=0,g=a.length;g>f;f++)c=a[f],this.instruction(c);else if(n(a))for(c in a)p.call(a,c)&&(d=a[c],this.instruction(c,d));else m(b)&&(b=b.apply()),e=new i(this,a,b),this.children.push(e);return this},b.prototype.instructionBefore=function(a,b){var c,d,e;return d=this.parent.children.indexOf(this),e=this.parent.children.splice(d),c=this.parent.instruction(a,b),Array.prototype.push.apply(this.parent.children,e),this},b.prototype.instructionAfter=function(a,b){var c,d,e;return d=this.parent.children.indexOf(this),e=this.parent.children.splice(d+1),c=this.parent.instruction(a,b),Array.prototype.push.apply(this.parent.children,e),this},b.prototype.declaration=function(a,b,c){var d,f;return d=this.document(),f=new e(d,a,b,c),d.children[0]instanceof e?d.children[0]=f:d.children.unshift(f),d.root()||d},b.prototype.doctype=function(a,b){var c,d,e,g,h,i,j,k,l,m;for(d=this.document(),e=new f(d,a,b),l=d.children,g=h=0,j=l.length;j>h;g=++h)if(c=l[g],c instanceof f)return d.children[g]=e,e;for(m=d.children,g=i=0,k=m.length;k>i;g=++i)if(c=m[g],c.isRoot)return d.children.splice(g,0,e),e;return d.children.push(e),e},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var a;for(a=this;a;){if(a.isDocument)return a.rootObject;if(a.isRoot)return a;a=a.parent}},b.prototype.document=function(){var a;for(a=this;a;){if(a.isDocument)return a;a=a.parent}},b.prototype.end=function(a){return this.document().end(a)},b.prototype.prev=function(){var a;if(a=this.parent.children.indexOf(this),1>a)throw new Error("Already at the first node");return this.parent.children[a-1]},b.prototype.next=function(){var a;if(a=this.parent.children.indexOf(this),-1===a||a===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[a+1]},b.prototype.importDocument=function(a){var b;return b=a.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},b.prototype.ele=function(a,b,c){return this.element(a,b,c)},b.prototype.nod=function(a,b,c){return this.node(a,b,c)},b.prototype.txt=function(a){return this.text(a)},b.prototype.dat=function(a){return this.cdata(a)},b.prototype.com=function(a){return this.comment(a)},b.prototype.ins=function(a,b){return this.instruction(a,b)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(a,b,c){return this.declaration(a,b,c)},b.prototype.dtd=function(a,b){return this.doctype(a,b)},b.prototype.e=function(a,b,c){return this.element(a,b,c)},b.prototype.n=function(a,b,c){return this.node(a,b,c)},b.prototype.t=function(a){return this.text(a)},b.prototype.d=function(a){return this.cdata(a)},b.prototype.c=function(a){return this.comment(a)},b.prototype.r=function(a){return this.raw(a)},b.prototype.i=function(a,b){return this.instruction(a,b)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(a){return this.importDocument(a)},b}()}).call(void 0)},{"./Utility":265,"./XMLCData":267,"./XMLComment":268,"./XMLDeclaration":273,"./XMLDocType":274,"./XMLElement":277,"./XMLProcessingInstruction":279,"./XMLRaw":280,"./XMLText":284}],279:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./XMLNode"),b.exports=d=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(c),d&&(this.value=this.stringify.insValue(d))}return e(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},b}(c)}).call(void 0)},{"./XMLNode":278}],280:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./XMLNode"),b.exports=d=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing raw text");this.value=this.stringify.raw(c)}return e(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},b}(c)}).call(void 0)},{"./XMLNode":278}],281:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=function(a,b){function c(){this.constructor=a}for(var d in b)r.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},r={}.hasOwnProperty;i=a("./XMLDeclaration"),j=a("./XMLDocType"),c=a("./XMLCData"),d=a("./XMLComment"),k=a("./XMLElement"),m=a("./XMLRaw"),o=a("./XMLText"),l=a("./XMLProcessingInstruction"),e=a("./XMLDTDAttList"),f=a("./XMLDTDElement"),g=a("./XMLDTDEntity"),h=a("./XMLDTDNotation"),p=a("./XMLWriterBase"),b.exports=n=function(a){function b(a,c){this.stream=a,b.__super__.constructor.call(this,c)}return q(b,a),b.prototype.document=function(a){var b,c,e,f,g,h,k,m;for(h=a.children,c=0,f=h.length;f>c;c++)b=h[c],b.isLastRootNode=!1;for(a.children[a.children.length-1].isLastRootNode=!0,k=a.children,m=[],e=0,g=k.length;g>e;e++)switch(b=k[e],!1){case!(b instanceof i):m.push(this.declaration(b));break;case!(b instanceof j):m.push(this.docType(b));break;case!(b instanceof d):m.push(this.comment(b));break;case!(b instanceof l):m.push(this.processingInstruction(b));break;default:m.push(this.element(b))}return m},b.prototype.attribute=function(a){return this.stream.write(" "+a.name+'="'+a.value+'"')},b.prototype.cdata=function(a,b){return this.stream.write(this.space(b)+"<![CDATA["+a.text+"]]>"+this.endline(a))},b.prototype.comment=function(a,b){return this.stream.write(this.space(b)+"<!-- "+a.text+" -->"+this.endline(a))},b.prototype.declaration=function(a,b){return this.stream.write(this.space(b)),this.stream.write('<?xml version="'+a.version+'"'),null!=a.encoding&&this.stream.write(' encoding="'+a.encoding+'"'),null!=a.standalone&&this.stream.write(' standalone="'+a.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(a))},b.prototype.docType=function(a,b){var i,j,k,m;if(b||(b=0),this.stream.write(this.space(b)),this.stream.write("<!DOCTYPE "+a.root().name),
a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(a)),m=a.children,j=0,k=m.length;k>j;j++)switch(i=m[j],!1){case!(i instanceof e):this.dtdAttList(i,b+1);break;case!(i instanceof f):this.dtdElement(i,b+1);break;case!(i instanceof g):this.dtdEntity(i,b+1);break;case!(i instanceof h):this.dtdNotation(i,b+1);break;case!(i instanceof c):this.cdata(i,b+1);break;case!(i instanceof d):this.comment(i,b+1);break;case!(i instanceof l):this.processingInstruction(i,b+1);break;default:throw new Error("Unknown DTD node type: "+i.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(a))},b.prototype.element=function(a,b){var e,f,g,h,i,j,n,p;b||(b=0),p=this.space(b),this.stream.write(p+"<"+a.name),j=a.attributes;for(i in j)r.call(j,i)&&(e=j[i],this.attribute(e));if(0===a.children.length||a.children.every(function(a){return""===a.value}))this.allowEmpty?this.stream.write("></"+a.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===a.children.length&&null!=a.children[0].value)this.stream.write(">"),this.stream.write(a.children[0].value),this.stream.write("</"+a.name+">");else{for(this.stream.write(">"+this.newline),n=a.children,g=0,h=n.length;h>g;g++)switch(f=n[g],!1){case!(f instanceof c):this.cdata(f,b+1);break;case!(f instanceof d):this.comment(f,b+1);break;case!(f instanceof k):this.element(f,b+1);break;case!(f instanceof m):this.raw(f,b+1);break;case!(f instanceof o):this.text(f,b+1);break;case!(f instanceof l):this.processingInstruction(f,b+1);break;default:throw new Error("Unknown XML node type: "+f.constructor.name)}this.stream.write(p+"</"+a.name+">")}return this.stream.write(this.endline(a))},b.prototype.processingInstruction=function(a,b){return this.stream.write(this.space(b)+"<?"+a.target),a.value&&this.stream.write(" "+a.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(a))},b.prototype.raw=function(a,b){return this.stream.write(this.space(b)+a.value+this.endline(a))},b.prototype.text=function(a,b){return this.stream.write(this.space(b)+a.value+this.endline(a))},b.prototype.dtdAttList=function(a,b){return this.stream.write(this.space(b)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType),"#DEFAULT"!==a.defaultValueType&&this.stream.write(" "+a.defaultValueType),a.defaultValue&&this.stream.write(' "'+a.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdElement=function(a,b){return this.stream.write(this.space(b)+"<!ELEMENT "+a.name+" "+a.value),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdEntity=function(a,b){return this.stream.write(this.space(b)+"<!ENTITY"),a.pe&&this.stream.write(" %"),this.stream.write(" "+a.name),a.value?this.stream.write(' "'+a.value+'"'):(a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.nData&&this.stream.write(" NDATA "+a.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdNotation=function(a,b){return this.stream.write(this.space(b)+"<!NOTATION "+a.name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.pubID?this.stream.write(' PUBLIC "'+a.pubID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.endline=function(a){return a.isLastRootNode?"":this.newline},b}(p)}).call(void 0)},{"./XMLCData":267,"./XMLComment":268,"./XMLDTDAttList":269,"./XMLDTDElement":270,"./XMLDTDEntity":271,"./XMLDTDNotation":272,"./XMLDeclaration":273,"./XMLDocType":274,"./XMLElement":277,"./XMLProcessingInstruction":279,"./XMLRaw":280,"./XMLText":284,"./XMLWriterBase":285}],282:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=function(a,b){function c(){this.constructor=a}for(var d in b)r.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},r={}.hasOwnProperty;i=a("./XMLDeclaration"),j=a("./XMLDocType"),c=a("./XMLCData"),d=a("./XMLComment"),k=a("./XMLElement"),m=a("./XMLRaw"),o=a("./XMLText"),l=a("./XMLProcessingInstruction"),e=a("./XMLDTDAttList"),f=a("./XMLDTDElement"),g=a("./XMLDTDEntity"),h=a("./XMLDTDNotation"),p=a("./XMLWriterBase"),b.exports=n=function(a){function b(a){b.__super__.constructor.call(this,a)}return q(b,a),b.prototype.document=function(a){var b,c,e,f,g;for(this.textispresent=!1,f="",g=a.children,c=0,e=g.length;e>c;c++)b=g[c],f+=function(){switch(!1){case!(b instanceof i):return this.declaration(b);case!(b instanceof j):return this.docType(b);case!(b instanceof d):return this.comment(b);case!(b instanceof l):return this.processingInstruction(b);default:return this.element(b,0)}}.call(this);return this.pretty&&f.slice(-this.newline.length)===this.newline&&(f=f.slice(0,-this.newline.length)),f},b.prototype.attribute=function(a){return" "+a.name+'="'+a.value+'"'},b.prototype.cdata=function(a,b){return this.space(b)+"<![CDATA["+a.text+"]]>"+this.newline},b.prototype.comment=function(a,b){return this.space(b)+"<!-- "+a.text+" -->"+this.newline},b.prototype.declaration=function(a,b){var c;return c=this.space(b),c+='<?xml version="'+a.version+'"',null!=a.encoding&&(c+=' encoding="'+a.encoding+'"'),null!=a.standalone&&(c+=' standalone="'+a.standalone+'"'),c+=this.spacebeforeslash+"?>",c+=this.newline},b.prototype.docType=function(a,b){var i,j,k,m,n;if(b||(b=0),m=this.space(b),m+="<!DOCTYPE "+a.root().name,a.pubID&&a.sysID?m+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(m+=' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(m+=" [",m+=this.newline,n=a.children,j=0,k=n.length;k>j;j++)i=n[j],m+=function(){switch(!1){case!(i instanceof e):return this.dtdAttList(i,b+1);case!(i instanceof f):return this.dtdElement(i,b+1);case!(i instanceof g):return this.dtdEntity(i,b+1);case!(i instanceof h):return this.dtdNotation(i,b+1);case!(i instanceof c):return this.cdata(i,b+1);case!(i instanceof d):return this.comment(i,b+1);case!(i instanceof l):return this.processingInstruction(i,b+1);default:throw new Error("Unknown DTD node type: "+i.constructor.name)}}.call(this);m+="]"}return m+=this.spacebeforeslash+">",m+=this.newline},b.prototype.element=function(a,b){var e,f,g,h,i,j,n,p,q,s,t,u,v;b||(b=0),v=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),u=this.space(b),p="",p+=u+"<"+a.name,q=a.attributes;for(n in q)r.call(q,n)&&(e=q[n],p+=this.attribute(e));if(0===a.children.length||a.children.every(function(a){return""===a.value}))p+=this.allowEmpty?"></"+a.name+">"+this.newline:this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===a.children.length&&null!=a.children[0].value)p+=">",p+=a.children[0].value,p+="</"+a.name+">"+this.newline;else{if(this.dontprettytextnodes)for(s=a.children,g=0,i=s.length;i>g;g++)if(f=s[g],null!=f.value){this.textispresent++,v=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,u=this.space(b)),p+=">"+this.newline,t=a.children,h=0,j=t.length;j>h;h++)f=t[h],p+=function(){switch(!1){case!(f instanceof c):return this.cdata(f,b+1);case!(f instanceof d):return this.comment(f,b+1);case!(f instanceof k):return this.element(f,b+1);case!(f instanceof m):return this.raw(f,b+1);case!(f instanceof o):return this.text(f,b+1);case!(f instanceof l):return this.processingInstruction(f,b+1);default:throw new Error("Unknown XML node type: "+f.constructor.name)}}.call(this);v&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),p+=u+"</"+a.name+">"+this.newline}return p},b.prototype.processingInstruction=function(a,b){var c;return c=this.space(b)+"<?"+a.target,a.value&&(c+=" "+a.value),c+=this.spacebeforeslash+"?>"+this.newline},b.prototype.raw=function(a,b){return this.space(b)+a.value+this.newline},b.prototype.text=function(a,b){return this.space(b)+a.value+this.newline},b.prototype.dtdAttList=function(a,b){var c;return c=this.space(b)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType,"#DEFAULT"!==a.defaultValueType&&(c+=" "+a.defaultValueType),a.defaultValue&&(c+=' "'+a.defaultValue+'"'),c+=this.spacebeforeslash+">"+this.newline},b.prototype.dtdElement=function(a,b){return this.space(b)+"<!ELEMENT "+a.name+" "+a.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(a,b){var c;return c=this.space(b)+"<!ENTITY",a.pe&&(c+=" %"),c+=" "+a.name,a.value?c+=' "'+a.value+'"':(a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),a.nData&&(c+=" NDATA "+a.nData)),c+=this.spacebeforeslash+">"+this.newline},b.prototype.dtdNotation=function(a,b){var c;return c=this.space(b)+"<!NOTATION "+a.name,a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.pubID?c+=' PUBLIC "'+a.pubID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),c+=this.spacebeforeslash+">"+this.newline},b.prototype.openNode=function(a,b){var c,d,e,f;if(b||(b=0),a instanceof k){e=this.space(b)+"<"+a.name,f=a.attributes;for(d in f)r.call(f,d)&&(c=f[d],e+=this.attribute(c));return e+=(a.children?">":"/>")+this.newline}return e=this.space(b)+"<!DOCTYPE "+a.rootNodeName,a.pubID&&a.sysID?e+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(e+=' SYSTEM "'+a.sysID+'"'),e+=(a.children?" [":">")+this.newline},b.prototype.closeNode=function(a,b){switch(b||(b=0),!1){case!(a instanceof k):return this.space(b)+"</"+a.name+">"+this.newline;case!(a instanceof j):return this.space(b)+"]>"+this.newline}},b}(p)}).call(void 0)},{"./XMLCData":267,"./XMLComment":268,"./XMLDTDAttList":269,"./XMLDTDElement":270,"./XMLDTDEntity":271,"./XMLDTDNotation":272,"./XMLDeclaration":273,"./XMLDocType":274,"./XMLElement":277,"./XMLProcessingInstruction":279,"./XMLRaw":280,"./XMLText":284,"./XMLWriterBase":285}],283:[function(a,b,c){"use strict";(function(){var a,c=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty;b.exports=a=function(){function a(a){this.assertLegalChar=c(this.assertLegalChar,this);var b,e,f;a||(a={}),this.noDoubleEncoding=a.noDoubleEncoding,e=a.stringify||{};for(b in e)d.call(e,b)&&(f=e[b],this[b]=f)}return a.prototype.eleName=function(a){return a=""+a||"",this.assertLegalChar(a)},a.prototype.eleText=function(a){return a=""+a||"",this.assertLegalChar(this.elEscape(a))},a.prototype.cdata=function(a){return a=""+a||"",a=a.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(a)},a.prototype.comment=function(a){if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)},a.prototype.raw=function(a){return""+a||""},a.prototype.attName=function(a){return a=""+a||""},a.prototype.attValue=function(a){return a=""+a||"",this.attEscape(a)},a.prototype.insTarget=function(a){return""+a||""},a.prototype.insValue=function(a){if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return a},a.prototype.xmlVersion=function(a){if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a},a.prototype.xmlEncoding=function(a){if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+a);return a},a.prototype.xmlStandalone=function(a){return a?"yes":"no"},a.prototype.dtdPubID=function(a){return""+a||""},a.prototype.dtdSysID=function(a){return""+a||""},a.prototype.dtdElementValue=function(a){return""+a||""},a.prototype.dtdAttType=function(a){return""+a||""},a.prototype.dtdAttDefault=function(a){return null!=a?""+a||"":a},a.prototype.dtdEntityValue=function(a){return""+a||""},a.prototype.dtdNData=function(a){return""+a||""},a.prototype.convertAttKey="@",a.prototype.convertPIKey="?",a.prototype.convertTextKey="#text",a.prototype.convertCDataKey="#cdata",a.prototype.convertCommentKey="#comment",a.prototype.convertRawKey="#raw",a.prototype.assertLegalChar=function(a){var b;if(b=a.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+a+" at index "+b.index);return a},a.prototype.elEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},a.prototype.attEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},a}()}).call(void 0)},{}],284:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./XMLNode"),b.exports=d=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element text");this.value=this.stringify.eleText(c)}return e(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).text(this)},b}(c)}).call(void 0)},{"./XMLNode":278}],285:[function(a,b,c){"use strict";(function(){var a,c={}.hasOwnProperty;b.exports=a=function(){function a(a){var b,d,e,f,g,h,i,j,k;a||(a={}),this.pretty=a.pretty||!1,this.allowEmpty=null!=(d=a.allowEmpty)?d:!1,this.pretty?(this.indent=null!=(e=a.indent)?e:"  ",this.newline=null!=(f=a.newline)?f:"\n",this.offset=null!=(g=a.offset)?g:0,this.dontprettytextnodes=null!=(h=a.dontprettytextnodes)?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(i=a.spacebeforeslash)?i:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,j=a.writer||{};for(b in j)c.call(j,b)&&(k=j[b],this[b]=k)}return a.prototype.set=function(a){var b,d,e;a||(a={}),"pretty"in a&&(this.pretty=a.pretty),"allowEmpty"in a&&(this.allowEmpty=a.allowEmpty),this.pretty?(this.indent="indent"in a?a.indent:"  ",this.newline="newline"in a?a.newline:"\n",this.offset="offset"in a?a.offset:0,this.dontprettytextnodes="dontprettytextnodes"in a?a.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in a?a.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=a.writer||{};for(b in d)c.call(d,b)&&(e=d[b],this[b]=e);return this},a.prototype.space=function(a){var b;return this.pretty?(b=(a||0)+this.offset+1,b>0?new Array(b).join(this.indent):""):""},a}()}).call(void 0)},{}],286:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i;i=a("./Utility"),g=i.assign,h=i.isFunction,c=a("./XMLDocument"),d=a("./XMLDocumentCB"),f=a("./XMLStringWriter"),e=a("./XMLStreamWriter"),b.exports.create=function(a,b,d,e){var f,h;if(null==a)throw new Error("Root element needs a name");return e=g({},b,d,e),f=new c(e),h=f.element(a),e.headless||(f.declaration(e),(null!=e.pubID||null!=e.sysID)&&f.doctype(e)),h},b.exports.begin=function(a,b,e){var f;return h(a)&&(f=[a,b],b=f[0],e=f[1],a={}),b?new d(a,b,e):new c(a)},b.exports.stringWriter=function(a){return new f(a)},b.exports.streamWriter=function(a,b){return new e(a,b)}}).call(void 0)},{"./Utility":265,"./XMLDocument":275,"./XMLDocumentCB":276,"./XMLStreamWriter":281,"./XMLStringWriter":282}],287:[function(a,b,c){"use strict";function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}],288:[function(a,b,c){"use strict";b.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},{}],289:[function(a,b,c){"use strict";var d=a("validator"),e={date:function(a){if("string"!=typeof a)return!0;var b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(a);return null===b?!1:b[2]<"01"||b[2]>"12"||b[3]<"01"||b[3]>"31"?!1:!0},"date-time":function(a){if("string"!=typeof a)return!0;var b=a.toLowerCase().split("t");if(!e.date(b[0]))return!1;var c=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(b[1]);return null===c?!1:c[1]>"23"||c[2]>"59"||c[3]>"59"?!1:!0},email:function(a){return"string"!=typeof a?!0:d.isEmail(a,{require_tld:!0})},hostname:function(a){if("string"!=typeof a)return!0;var b=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(a);if(b){if(a.length>255)return!1;for(var c=a.split("."),d=0;d<c.length;d++)if(c[d].length>63)return!1}return b},"host-name":function(a){return e.hostname.call(this,a)},ipv4:function(a){return"string"!=typeof a?!0:d.isIP(a,4)},ipv6:function(a){return"string"!=typeof a?!0:d.isIP(a,6)},regex:function(a){try{return RegExp(a),!0}catch(b){return!1}},uri:function(a){return this.options.strictUris?e["strict-uri"].apply(this,arguments):"string"!=typeof a||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(a)},"strict-uri":function(a){return"string"!=typeof a||d.isURL(a)}};b.exports=e},{validator:188}],290:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("./FormatValidators"),f=a("./Report"),g=a("./Utils"),h={multipleOf:function(a,b,c){"number"==typeof c&&"integer"!==g.whatIs(c/b.multipleOf)&&a.addError("MULTIPLE_OF",[c,b.multipleOf],null,b.description)},maximum:function(a,b,c){"number"==typeof c&&(b.exclusiveMaximum!==!0?c>b.maximum&&a.addError("MAXIMUM",[c,b.maximum],null,b.description):c>=b.maximum&&a.addError("MAXIMUM_EXCLUSIVE",[c,b.maximum],null,b.description))},exclusiveMaximum:function(){},minimum:function(a,b,c){"number"==typeof c&&(b.exclusiveMinimum!==!0?c<b.minimum&&a.addError("MINIMUM",[c,b.minimum],null,b.description):c<=b.minimum&&a.addError("MINIMUM_EXCLUSIVE",[c,b.minimum],null,b.description))},exclusiveMinimum:function(){},maxLength:function(a,b,c){"string"==typeof c&&g.ucs2decode(c).length>b.maxLength&&a.addError("MAX_LENGTH",[c.length,b.maxLength],null,b.description)},minLength:function(a,b,c){"string"==typeof c&&g.ucs2decode(c).length<b.minLength&&a.addError("MIN_LENGTH",[c.length,b.minLength],null,b.description)},pattern:function(a,b,c){"string"==typeof c&&RegExp(b.pattern).test(c)===!1&&a.addError("PATTERN",[b.pattern,c],null,b.description)},additionalItems:function(a,b,c){Array.isArray(c)&&b.additionalItems===!1&&Array.isArray(b.items)&&c.length>b.items.length&&a.addError("ARRAY_ADDITIONAL_ITEMS",null,null,b.description)},items:function(){},maxItems:function(a,b,c){Array.isArray(c)&&c.length>b.maxItems&&a.addError("ARRAY_LENGTH_LONG",[c.length,b.maxItems],null,b.description)},minItems:function(a,b,c){Array.isArray(c)&&c.length<b.minItems&&a.addError("ARRAY_LENGTH_SHORT",[c.length,b.minItems],null,b.description)},uniqueItems:function(a,b,c){if(Array.isArray(c)&&b.uniqueItems===!0){var d=[];g.isUniqueArray(c,d)===!1&&a.addError("ARRAY_UNIQUE",d,null,b.description)}},maxProperties:function(a,b,c){if("object"===g.whatIs(c)){var d=Object.keys(c).length;d>b.maxProperties&&a.addError("OBJECT_PROPERTIES_MAXIMUM",[d,b.maxProperties],null,b.description)}},minProperties:function(a,b,c){if("object"===g.whatIs(c)){var d=Object.keys(c).length;d<b.minProperties&&a.addError("OBJECT_PROPERTIES_MINIMUM",[d,b.minProperties],null,b.description)}},required:function(a,b,c){if("object"===g.whatIs(c))for(var d=b.required.length;d--;){var e=b.required[d];void 0===c[e]&&a.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[e],null,b.description)}},additionalProperties:function(a,b,c){return void 0===b.properties&&void 0===b.patternProperties?h.properties.call(this,a,b,c):void 0},patternProperties:function(a,b,c){return void 0===b.properties?h.properties.call(this,a,b,c):void 0},properties:function k(a,b,c){if("object"===g.whatIs(c)){var k=void 0!==b.properties?b.properties:{},d=void 0!==b.patternProperties?b.patternProperties:{};if(b.additionalProperties===!1){var e=Object.keys(c),f=Object.keys(k),h=Object.keys(d);e=g.difference(e,f);for(var i=h.length;i--;)for(var j=RegExp(h[i]),l=e.length;l--;)j.test(e[l])===!0&&e.splice(l,1);if(e.length>0){var m=this.options.assumeAdditional.length;if(m)for(;m--;){var n=e.indexOf(this.options.assumeAdditional[m]);-1!==n&&e.splice(n,1)}e.length>0&&a.addError("OBJECT_ADDITIONAL_PROPERTIES",[e],null,b.description)}}}},dependencies:function(a,b,d){if("object"===g.whatIs(d))for(var e=Object.keys(b.dependencies),f=e.length;f--;){var h=e[f];if(d[h]){var i=b.dependencies[h];if("object"===g.whatIs(i))c.validate.call(this,a,i,d);else for(var j=i.length;j--;){var k=i[j];void 0===d[k]&&a.addError("OBJECT_DEPENDENCY_KEY",[k,h],null,b.description)}}}},"enum":function(a,b,c){for(var d=!1,e=b["enum"].length;e--;)if(g.areEqual(c,b["enum"][e])){d=!0;break}d===!1&&a.addError("ENUM_MISMATCH",[c],null,b.description)},allOf:function(a,b,d){for(var e=b.allOf.length;e--;){var f=c.validate.call(this,a,b.allOf[e],d);if(this.options.breakOnFirstError&&f===!1)break}},anyOf:function(a,b,d){for(var e=[],g=!1,h=b.anyOf.length;h--&&g===!1;){var i=new f(a);e.push(i),g=c.validate.call(this,i,b.anyOf[h],d)}g===!1&&a.addError("ANY_OF_MISSING",void 0,e,b.description)},oneOf:function(a,b,d){for(var e=0,g=[],h=b.oneOf.length;h--;){var i=new f(a,{maxErrors:1});g.push(i),c.validate.call(this,i,b.oneOf[h],d)===!0&&e++}0===e?a.addError("ONE_OF_MISSING",void 0,g,b.description):e>1&&a.addError("ONE_OF_MULTIPLE",null,null,b.description)},not:function(a,b,d){var e=new f(a);c.validate.call(this,e,b.not,d)===!0&&a.addError("NOT_PASSED",null,null,b.description)},definitions:function(){},format:function(a,b,c){var d=e[b.format];"function"==typeof d?2===d.length?a.addAsyncTask(d,[c],function(d){d!==!0&&a.addError("INVALID_FORMAT",[b.format,c],null,b.description)}):d.call(this,c)!==!0&&a.addError("INVALID_FORMAT",[b.format,c],null,b.description):this.options.ignoreUnknownFormats!==!0&&a.addError("UNKNOWN_FORMAT",[b.format],null,b.description)}},i=function(a,b,e){var f=e.length;if(Array.isArray(b.items))for(;f--;)f<b.items.length?(a.path.push(f.toString()),c.validate.call(this,a,b.items[f],e[f]),a.path.pop()):"object"===d(b.additionalItems)&&(a.path.push(f.toString()),c.validate.call(this,a,b.additionalItems,e[f]),a.path.pop());else if("object"===d(b.items))for(;f--;)a.path.push(f.toString()),c.validate.call(this,a,b.items,e[f]),a.path.pop()},j=function(a,b,d){var e=b.additionalProperties;(e===!0||void 0===e)&&(e={});for(var f=b.properties?Object.keys(b.properties):[],g=b.patternProperties?Object.keys(b.patternProperties):[],h=Object.keys(d),i=h.length;i--;){var j=h[i],k=d[j],l=[];-1!==f.indexOf(j)&&l.push(b.properties[j]);for(var m=g.length;m--;){var n=g[m];RegExp(n).test(j)===!0&&l.push(b.patternProperties[n])}for(0===l.length&&e!==!1&&l.push(e),m=l.length;m--;)a.path.push(j),c.validate.call(this,a,l[m],k),a.path.pop()}};c.validate=function(a,b,c){a.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var d=g.whatIs(b);if("object"!==d)return a.addError("SCHEMA_NOT_AN_OBJECT",[d],null,b.description),!1;var e=Object.keys(b);if(0===e.length)return!0;var f=!1;if(a.rootSchema||(a.rootSchema=b,f=!0),void 0!==b.$ref){for(var k=99;b.$ref&&k>0;){if(!b.__$refResolved){a.addError("REF_UNRESOLVED",[b.$ref],null,b.description);break}if(b.__$refResolved===b)break;b=b.__$refResolved,e=Object.keys(b),k--}if(0===k)throw new Error("Circular dependency by $ref references!")}var l=g.whatIs(c);if(b.type)if("string"==typeof b.type){if(l!==b.type&&("integer"!==l||"number"!==b.type)&&(a.addError("INVALID_TYPE",[b.type,l],null,b.description),this.options.breakOnFirstError))return!1}else if(-1===b.type.indexOf(l)&&("integer"!==l||-1===b.type.indexOf("number"))&&(a.addError("INVALID_TYPE",[b.type,l],null,b.description),this.options.breakOnFirstError))return!1;for(var m=e.length;m--&&!(h[e[m]]&&(h[e[m]].call(this,a,b,c),a.errors.length&&this.options.breakOnFirstError)););return(0===a.errors.length||this.options.breakOnFirstError===!1)&&("array"===l?i.call(this,a,b,c):"object"===l&&j.call(this,a,b,c)),"function"==typeof this.options.customValidator&&this.options.customValidator(a,b,c),f&&(a.rootSchema=void 0),0===a.errors.length}},{"./FormatValidators":289,"./Report":292,"./Utils":296}],291:[function(a,b,c){"use strict";"function"!=typeof Number.isFinite&&(Number.isFinite=function(a){return"number"!=typeof a?!1:a!==a||a===1/0||a===-(1/0)?!1:!0})},{}],292:[function(a,b,c){(function(c){"use strict";function d(a,b){this.parentReport=a instanceof d?a:void 0,this.options=a instanceof d?a.options:a||{},this.reportOptions=b||{},this.errors=[],this.path=[],this.asyncTasks=[]}var e=a("lodash.get"),f=a("./Errors"),g=a("./Utils");d.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},d.prototype.addAsyncTask=function(a,b,c){this.asyncTasks.push([a,b,c])},d.prototype.processAsyncTasks=function(a,b){function d(){c.nextTick(function(){var a=0===j.errors.length,c=a?void 0:j.errors;b(c,a)})}function e(a){return function(b){i||(a(b),0===--g&&d())}}var f=a||2e3,g=this.asyncTasks.length,h=g,i=!1,j=this;if(0===g||this.errors.length>0)return void d();for(;h--;){var k=this.asyncTasks[h];k[0].apply(null,k[1].concat(e(k[2])))}setTimeout(function(){g>0&&(i=!0,j.addError("ASYNC_TIMEOUT",[g,f]),b(j.errors,!1))},f)},d.prototype.getPath=function(a){var b=[];return this.parentReport&&(b=b.concat(this.parentReport.path)),b=b.concat(this.path),a!==!0&&(b="#/"+b.map(function(a){return g.isAbsoluteUri(a)?"uri("+a+")":a.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),b},d.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var a=[];for(this.parentReport&&(a=a.concat(this.parentReport.path)),a=a.concat(this.path);a.length>0;){var b=e(this.rootSchema,a);if(b&&b.id)return b.id;a.pop()}return this.rootSchema.id},d.prototype.hasError=function(a,b){for(var c=this.errors.length;c--;)if(this.errors[c].code===a){for(var d=!0,e=this.errors[c].params.length;e--;)this.errors[c].params[e]!==b[e]&&(d=!1);if(d)return d}return!1},d.prototype.addError=function(a,b,c,d){if(!a)throw new Error("No errorCode passed into addError()");this.addCustomError(a,f[a],b,c,d)},d.prototype.addCustomError=function(a,b,c,d,e){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!b)throw new Error("No errorMessage known for code "+a);c=c||[];for(var f=c.length;f--;){var h=g.whatIs(c[f]),i="object"===h||"null"===h?JSON.stringify(c[f]):c[f];b=b.replace("{"+f+"}",i)}var j={code:a,params:c,message:b,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(e&&(j.description=e),null!=d){for(Array.isArray(d)||(d=[d]),j.inner=[],f=d.length;f--;)for(var k=d[f],l=k.errors.length;l--;)j.inner.push(k.errors[l]);0===j.inner.length&&(j.inner=void 0)}this.errors.push(j)}},b.exports=d}).call(this,a("_process"))},{"./Errors":288,"./Utils":296,_process:145,"lodash.get":77}],293:[function(a,b,c){"use strict";function d(a){return decodeURIComponent(a).replace(/~[0-1]/g,function(a){return"~1"===a?"/":"~"})}function e(a){var b=a.indexOf("#");return-1===b?a:a.slice(0,b)}function f(a){var b=a.indexOf("#"),c=-1===b?void 0:a.slice(b+1);return c}function g(a,b){if("object"===("undefined"==typeof a?"undefined":h(a))&&null!==a){if(!b)return a;if(a.id&&(a.id===b||"#"===a.id[0]&&a.id.substring(1)===b))return a;var c,d;if(Array.isArray(a)){for(c=a.length;c--;)if(d=g(a[c],b))return d}else{var e=Object.keys(a);for(c=e.length;c--;){var f=e[c];if(0!==f.indexOf("__$")&&(d=g(a[f],b)))return d}}}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("lodash.isequal"),j=a("./Report"),k=a("./SchemaCompilation"),l=a("./SchemaValidation"),m=a("./Utils");c.cacheSchemaByUri=function(a,b){var c=e(a);c&&(this.cache[c]=b)},c.removeFromCacheByUri=function(a){var b=e(a);b&&delete this.cache[b]},c.checkCacheForUri=function(a){var b=e(a);return b?null!=this.cache[b]:!1},c.getSchema=function(a,b){return"object"===("undefined"==typeof b?"undefined":h(b))&&(b=c.getSchemaByReference.call(this,a,b)),"string"==typeof b&&(b=c.getSchemaByUri.call(this,a,b)),b},c.getSchemaByReference=function(a,b){for(var c=this.referenceCache.length;c--;)if(i(this.referenceCache[c][0],b))return this.referenceCache[c][1];var d=m.cloneDeep(b);return this.referenceCache.push([b,d]),d},c.getSchemaByUri=function(a,b,c){var h=e(b),i=f(b),m=h?this.cache[h]:c;if(m&&h){var n=m!==c;if(n){a.path.push(h);var o=new j(a);if(k.compileSchema.call(this,o,m)){var p=this.options;try{this.options=m.__$validationOptions||this.options,l.validateSchema.call(this,o,m)}finally{this.options=p}}var q=o.isValid();if(q||a.addError("REMOTE_NOT_VALID",[b],o),a.path.pop(),!q)return void 0}}if(m&&i)for(var r=i.split("/"),s=0,t=r.length;m&&t>s;s++){var u=d(r[s]);m=0===s?g(m,u):m[u]}return m},c.getRemotePath=e},{"./Report":292,"./SchemaCompilation":294,"./SchemaValidation":295,"./Utils":296,"lodash.isequal":78}],294:[function(a,b,c){"use strict";function d(a,b){if(j.isAbsoluteUri(b))return b;
var c,d=a.join(""),e=j.isAbsoluteUri(d),f=j.isRelativeUri(d),g=j.isRelativeUri(b);e&&g?(c=d.match(/\/[^\/]*$/),c&&(d=d.slice(0,c.index+1))):f&&g?d="":(c=d.match(/[^#\/]+$/),c&&(d=d.slice(0,c.index)));var h=d+b;return h=h.replace(/##/,"#")}function e(a,b,c,f){if(b=b||[],c=c||[],f=f||[],"object"!==("undefined"==typeof a?"undefined":g(a))||null===a)return b;"string"==typeof a.id&&c.push(a.id),"string"==typeof a.$ref&&"undefined"==typeof a.__$refResolved&&b.push({ref:d(c,a.$ref),key:"$ref",obj:a,path:f.slice(0)}),"string"==typeof a.$schema&&"undefined"==typeof a.__$schemaResolved&&b.push({ref:d(c,a.$schema),key:"$schema",obj:a,path:f.slice(0)});var h;if(Array.isArray(a))for(h=a.length;h--;)f.push(h.toString()),e(a[h],b,c,f),f.pop();else{var i=Object.keys(a);for(h=i.length;h--;)0!==i[h].indexOf("__$")&&(f.push(i[h]),e(a[i[h]],b,c,f),f.pop())}return"string"==typeof a.id&&c.pop(),b}function f(a,b){for(var c=a.length;c--;)if(a[c].id===b)return a[c];return null}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./Report"),i=a("./SchemaCache"),j=a("./Utils"),k=function(a,b){for(var d=b.length,e=0;d--;){var f=new h(a),g=c.compileSchema.call(this,f,b[d]);g&&e++,a.errors=a.errors.concat(f.errors)}return e},l=function(a,b){var c,d=0;do{for(var e=a.errors.length;e--;)"UNRESOLVABLE_REFERENCE"===a.errors[e].code&&a.errors.splice(e,1);for(c=d,d=k.call(this,a,b),e=b.length;e--;){var g=b[e];if(g.__$missingReferences){for(var h=g.__$missingReferences.length;h--;){var i=g.__$missingReferences[h],j=f(b,i.ref);j&&(i.obj["__"+i.key+"Resolved"]=j,g.__$missingReferences.splice(h,1))}0===g.__$missingReferences.length&&delete g.__$missingReferences}}}while(d!==b.length&&d!==c);return a.isValid()};c.compileSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof b){var d=i.getSchemaByUri.call(this,a,b);if(!d)return a.addError("SCHEMA_NOT_REACHABLE",[b]),!1;b=d}if(Array.isArray(b))return l.call(this,a,b);if(b.__$compiled&&b.id&&i.checkCacheForUri.call(this,b.id)===!1&&(b.__$compiled=void 0),b.__$compiled)return!0;b.id&&"string"==typeof b.id&&i.cacheSchemaByUri.call(this,b.id,b);var f=!1;a.rootSchema||(a.rootSchema=b,f=!0);var g=a.isValid();delete b.__$missingReferences;for(var k=e.call(this,b),m=k.length;m--;){var n=k[m],o=i.getSchemaByUri.call(this,a,n.ref,b);if(!o){var p=this.getSchemaReader();if(p){var q=p(n.ref);if(q){q.id=n.ref;var r=new h(a);c.compileSchema.call(this,r,q)?o=i.getSchemaByUri.call(this,a,n.ref,b):a.errors=a.errors.concat(r.errors)}}}if(!o){var s=a.hasError("REMOTE_NOT_VALID",[n.ref]),t=j.isAbsoluteUri(n.ref),u=!1,v=this.options.ignoreUnresolvableReferences===!0;t&&(u=i.checkCacheForUri.call(this,n.ref)),s||v&&t||u||(Array.prototype.push.apply(a.path,n.path),a.addError("UNRESOLVABLE_REFERENCE",[n.ref]),a.path=a.path.slice(0,-n.path.length),g&&(b.__$missingReferences=b.__$missingReferences||[],b.__$missingReferences.push(n)))}n.obj["__"+n.key+"Resolved"]=o}var w=a.isValid();return w?b.__$compiled=!0:b.id&&"string"==typeof b.id&&i.removeFromCacheByUri.call(this,b.id),f&&(a.rootSchema=void 0),w}},{"./Report":292,"./SchemaCache":293,"./Utils":296}],295:[function(a,b,c){"use strict";var d=a("./FormatValidators"),e=a("./JsonValidation"),f=a("./Report"),g=a("./Utils"),h={$ref:function(a,b){"string"!=typeof b.$ref&&a.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(a,b){"string"!=typeof b.$schema&&a.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(a,b){"number"!=typeof b.multipleOf?a.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):b.multipleOf<=0&&a.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(a,b){"number"!=typeof b.maximum&&a.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(a,b){"boolean"!=typeof b.exclusiveMaximum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===b.maximum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(a,b){"number"!=typeof b.minimum&&a.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(a,b){"boolean"!=typeof b.exclusiveMinimum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===b.minimum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(a,b){"integer"!==g.whatIs(b.maxLength)?a.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):b.maxLength<0&&a.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(a,b){"integer"!==g.whatIs(b.minLength)?a.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):b.minLength<0&&a.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(a,b){if("string"!=typeof b.pattern)a.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(b.pattern)}catch(c){a.addError("KEYWORD_PATTERN",["pattern",b.pattern])}},additionalItems:function(a,b){var d=g.whatIs(b.additionalItems);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===d&&(a.path.push("additionalItems"),c.validateSchema.call(this,a,b.additionalItems),a.path.pop())},items:function(a,b){var d=g.whatIs(b.items);if("object"===d)a.path.push("items"),c.validateSchema.call(this,a,b.items),a.path.pop();else if("array"===d)for(var e=b.items.length;e--;)a.path.push("items"),a.path.push(e.toString()),c.validateSchema.call(this,a,b.items[e]),a.path.pop(),a.path.pop();else a.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);this.options.forceAdditional===!0&&void 0===b.additionalItems&&Array.isArray(b.items)&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===b.additionalItems&&Array.isArray(b.items)&&(b.additionalItems=!1)},maxItems:function(a,b){"number"!=typeof b.maxItems?a.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):b.maxItems<0&&a.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(a,b){"integer"!==g.whatIs(b.minItems)?a.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):b.minItems<0&&a.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(a,b){"boolean"!=typeof b.uniqueItems&&a.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(a,b){"integer"!==g.whatIs(b.maxProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):b.maxProperties<0&&a.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(a,b){"integer"!==g.whatIs(b.minProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):b.minProperties<0&&a.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(a,b){if("array"!==g.whatIs(b.required))a.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===b.required.length)a.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var c=b.required.length;c--;)"string"!=typeof b.required[c]&&a.addError("KEYWORD_VALUE_TYPE",["required","string"]);g.isUniqueArray(b.required)===!1&&a.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(a,b){var d=g.whatIs(b.additionalProperties);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===d&&(a.path.push("additionalProperties"),c.validateSchema.call(this,a,b.additionalProperties),a.path.pop())},properties:function(a,b){if("object"!==g.whatIs(b.properties))return void a.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);for(var d=Object.keys(b.properties),e=d.length;e--;){var f=d[e],h=b.properties[f];a.path.push("properties"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}this.options.forceAdditional===!0&&void 0===b.additionalProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===b.additionalProperties&&(b.additionalProperties=!1),this.options.forceProperties===!0&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(a,b){if("object"!==g.whatIs(b.patternProperties))return void a.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);for(var d=Object.keys(b.patternProperties),e=d.length;e--;){var f=d[e],h=b.patternProperties[f];try{RegExp(f)}catch(i){a.addError("KEYWORD_PATTERN",["patternProperties",f])}a.path.push("patternProperties"),a.path.push(f.toString()),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}this.options.forceProperties===!0&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(a,b){if("object"!==g.whatIs(b.dependencies))a.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var d=Object.keys(b.dependencies),e=d.length;e--;){var f=d[e],h=b.dependencies[f],i=g.whatIs(h);if("object"===i)a.path.push("dependencies"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop();else if("array"===i){var j=h.length;for(0===j&&a.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);j--;)"string"!=typeof h[j]&&a.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);g.isUniqueArray(h)===!1&&a.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else a.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},"enum":function(a,b){Array.isArray(b["enum"])===!1?a.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===b["enum"].length?a.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):g.isUniqueArray(b["enum"])===!1&&a.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(a,b){var c=["array","boolean","integer","number","null","object","string"],d=c.join(","),e=Array.isArray(b.type);if(e){for(var f=b.type.length;f--;)-1===c.indexOf(b.type[f])&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]);g.isUniqueArray(b.type)===!1&&a.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof b.type?-1===c.indexOf(b.type)&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]):a.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);this.options.noEmptyStrings===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b["enum"]&&void 0===b.format&&(b.minLength=1),this.options.noEmptyArrays===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&(b.minItems=1),this.options.forceProperties===!0&&("object"===b.type||e&&-1!==b.type.indexOf("object"))&&void 0===b.properties&&void 0===b.patternProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),this.options.forceItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.items&&a.addError("KEYWORD_UNDEFINED_STRICT",["items"]),this.options.forceMinItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),this.options.forceMaxItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.maxItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),this.options.forceMinLength===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b.format&&void 0===b["enum"]&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),this.options.forceMaxLength===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.maxLength&&void 0===b.format&&void 0===b["enum"]&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(a,b){if(Array.isArray(b.allOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===b.allOf.length)a.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var d=b.allOf.length;d--;)a.path.push("allOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.allOf[d]),a.path.pop(),a.path.pop()},anyOf:function(a,b){if(Array.isArray(b.anyOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===b.anyOf.length)a.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var d=b.anyOf.length;d--;)a.path.push("anyOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.anyOf[d]),a.path.pop(),a.path.pop()},oneOf:function(a,b){if(Array.isArray(b.oneOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===b.oneOf.length)a.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var d=b.oneOf.length;d--;)a.path.push("oneOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.oneOf[d]),a.path.pop(),a.path.pop()},not:function(a,b){"object"!==g.whatIs(b.not)?a.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(a.path.push("not"),c.validateSchema.call(this,a,b.not),a.path.pop())},definitions:function(a,b){if("object"!==g.whatIs(b.definitions))a.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var d=Object.keys(b.definitions),e=d.length;e--;){var f=d[e],h=b.definitions[f];a.path.push("definitions"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}},format:function(a,b){"string"!=typeof b.format?a.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===d[b.format]&&this.options.ignoreUnknownFormats!==!0&&a.addError("UNKNOWN_FORMAT",[b.format])},id:function(a,b){"string"!=typeof b.id&&a.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(a,b){"string"!=typeof b.title&&a.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(a,b){"string"!=typeof b.description&&a.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},"default":function(){}},i=function(a,b){for(var d=b.length;d--;)c.validateSchema.call(this,a,b[d]);return a.isValid()};c.validateSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(b))return i.call(this,a,b);if(b.__$validated)return!0;var c=b.$schema&&b.id!==b.$schema;if(c)if(b.__$schemaResolved&&b.__$schemaResolved!==b){var d=new f(a),j=e.validate.call(this,d,b.__$schemaResolved,b);j===!1&&a.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,d)}else this.options.ignoreUnresolvableReferences!==!0&&a.addError("REF_UNRESOLVED",[b.$schema]);if(this.options.noTypeless===!0){if(void 0!==b.type){var k=[];Array.isArray(b.anyOf)&&(k=k.concat(b.anyOf)),Array.isArray(b.oneOf)&&(k=k.concat(b.oneOf)),Array.isArray(b.allOf)&&(k=k.concat(b.allOf)),k.forEach(function(a){a.type||(a.type=b.type)})}void 0===b["enum"]&&void 0===b.type&&void 0===b.anyOf&&void 0===b.oneOf&&void 0===b.not&&void 0===b.$ref&&a.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var l=Object.keys(b),m=l.length;m--;){var n=l[m];0!==n.indexOf("__")&&(void 0!==h[n]?h[n].call(this,a,b):c||this.options.noExtraKeywords===!0&&a.addError("KEYWORD_UNEXPECTED",[n]))}if(this.options.pedanticCheck===!0){if(b["enum"]){var o=g.clone(b);for(delete o["enum"],delete o["default"],a.path.push("enum"),m=b["enum"].length;m--;)a.path.push(m.toString()),e.validate.call(this,a,o,b["enum"][m]),a.path.pop();a.path.pop()}b["default"]&&(a.path.push("default"),e.validate.call(this,a,b,b["default"]),a.path.pop())}var p=a.isValid();return p&&(b.__$validated=!0),p}},{"./FormatValidators":289,"./JsonValidation":290,"./Report":292,"./Utils":296}],296:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isAbsoluteUri=function(a){return/^https?:\/\//.test(a)},c.isRelativeUri=function(a){return/.+#/.test(a)},c.whatIs=function(a){var b="undefined"==typeof a?"undefined":d(a);return"object"===b?null===a?"null":Array.isArray(a)?"array":"object":"number"===b?Number.isFinite(a)?a%1===0?"integer":"number":Number.isNaN(a)?"not-a-number":"unknown-number":b},c.areEqual=function e(a,b){if(a===b)return!0;var d,f;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(f=a.length,d=0;f>d;d++)if(!e(a[d],b[d]))return!1;return!0}if("object"===c.whatIs(a)&&"object"===c.whatIs(b)){var g=Object.keys(a),h=Object.keys(b);if(!e(g,h))return!1;for(f=g.length,d=0;f>d;d++)if(!e(a[g[d]],b[g[d]]))return!1;return!0}return!1},c.isUniqueArray=function(a,b){var d,e,f=a.length;for(d=0;f>d;d++)for(e=d+1;f>e;e++)if(c.areEqual(a[d],a[e]))return b&&b.push(d,e),!1;return!0},c.difference=function(a,b){for(var c=[],d=a.length;d--;)-1===b.indexOf(a[d])&&c.push(a[d]);return c},c.clone=function(a){if("undefined"==typeof a)return void 0;if("object"!==("undefined"==typeof a?"undefined":d(a))||null===a)return a;var b,c;if(Array.isArray(a))for(b=[],c=a.length;c--;)b[c]=a[c];else{b={};var e=Object.keys(a);for(c=e.length;c--;){var f=e[c];b[f]=a[f]}}return b},c.cloneDeep=function(a){function b(a){if("object"!==("undefined"==typeof a?"undefined":d(a))||null===a)return a;var f,g,h;if(h=c.indexOf(a),-1!==h)return e[h];if(c.push(a),Array.isArray(a))for(f=[],e.push(f),g=a.length;g--;)f[g]=b(a[g]);else{f={},e.push(f);var i=Object.keys(a);for(g=i.length;g--;){var j=i[g];f[j]=b(a[j])}}return f}var c=[],e=[];return b(a)},c.ucs2decode=function(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}},{}],297:[function(a,b,c){(function(c){"use strict";function d(a){var b;if("object"===("undefined"==typeof a?"undefined":f(a))){for(var c,d=Object.keys(a),e=d.length;e--;)if(c=d[e],void 0===q[c])throw new Error("Unexpected option passed to constructor: "+c);for(d=Object.keys(q),e=d.length;e--;)c=d[e],void 0===a[c]&&(a[c]=n.clone(q[c]));b=a}else b=n.clone(q);return b.strictMode===!0&&(b.forceAdditional=!0,b.forceItems=!0,b.forceMaxLength=!0,b.forceProperties=!0,b.noExtraKeywords=!0,b.noTypeless=!0,b.noEmptyStrings=!0,b.noEmptyArrays=!0),b}function e(a){this.cache={},this.referenceCache=[],this.options=d(a);var b=d({});this.setRemoteReference("http://json-schema.org/draft-04/schema",o,b),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",p,b)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a("./Polyfills");var g=a("lodash.get"),h=a("./Report"),i=a("./FormatValidators"),j=a("./JsonValidation"),k=a("./SchemaCache"),l=a("./SchemaCompilation"),m=a("./SchemaValidation"),n=a("./Utils"),o=a("./schemas/schema.json"),p=a("./schemas/hyper-schema.json"),q={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};e.prototype.compileSchema=function(a){var b=new h(this.options);return a=k.getSchema.call(this,b,a),l.compileSchema.call(this,b,a),this.lastReport=b,b.isValid()},e.prototype.validateSchema=function(a){if(Array.isArray(a)&&0===a.length)throw new Error(".validateSchema was called with an empty array");var b=new h(this.options);a=k.getSchema.call(this,b,a);var c=l.compileSchema.call(this,b,a);return c&&m.validateSchema.call(this,b,a),this.lastReport=b,b.isValid()},e.prototype.validate=function(a,b,d,e){"function"===n.whatIs(d)&&(e=d,d={}),d||(d={});var f=n.whatIs(b);if("string"!==f&&"object"!==f){var i=new Error("Invalid .validate call - schema must be an string or object but "+f+" was passed!");if(e)return void c.nextTick(function(){e(i,!1)});throw i}var o=!1,p=new h(this.options);if("string"==typeof b){var q=b;if(b=k.getSchema.call(this,p,q),!b)throw new Error("Schema with id '"+q+"' wasn't found in the validator cache!")}else b=k.getSchema.call(this,p,b);var r=!1;o||(r=l.compileSchema.call(this,p,b)),r||(this.lastReport=p,o=!0);var s=!1;if(o||(s=m.validateSchema.call(this,p,b)),s||(this.lastReport=p,o=!0),d.schemaPath&&(p.rootSchema=b,b=g(b,d.schemaPath),!b))throw new Error("Schema path '"+d.schemaPath+"' wasn't found in the schema!");if(o||j.validate.call(this,p,b,a),e)return void p.processAsyncTasks(this.options.asyncTimeout,e);if(p.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=p,p.isValid()},e.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var a=new Error;return a.name="z-schema validation error",a.message=this.lastReport.commonErrorMessage,a.details=this.lastReport.errors,a},e.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},e.prototype.getMissingReferences=function(a){a=a||this.lastReport.errors;for(var b=[],c=a.length;c--;){var d=a[c];if("UNRESOLVABLE_REFERENCE"===d.code){var e=d.params[0];-1===b.indexOf(e)&&b.push(e)}d.inner&&(b=b.concat(this.getMissingReferences(d.inner)))}return b},e.prototype.getMissingRemoteReferences=function(){for(var a=this.getMissingReferences(),b=[],c=a.length;c--;){var d=k.getRemotePath(a[c]);d&&-1===b.indexOf(d)&&b.push(d)}return b},e.prototype.setRemoteReference=function(a,b,c){b="string"==typeof b?JSON.parse(b):n.cloneDeep(b),c&&(b.__$validationOptions=d(c)),k.cacheSchemaByUri.call(this,a,b)},e.prototype.getResolvedSchema=function(a){var b=new h(this.options);a=k.getSchema.call(this,b,a),a=n.cloneDeep(a);var c=[],d=function e(a){var b,d=n.whatIs(a);if(("object"===d||"array"===d)&&!a.___$visited){if(a.___$visited=!0,c.push(a),a.$ref&&a.__$refResolved){var f=a.__$refResolved,g=a;delete a.$ref,delete a.__$refResolved;for(b in f)f.hasOwnProperty(b)&&(g[b]=f[b])}for(b in a)a.hasOwnProperty(b)&&(0===b.indexOf("__$")?delete a[b]:e(a[b]))}};if(d(a),c.forEach(function(a){delete a.___$visited}),this.lastReport=b,b.isValid())return a;throw this.getLastError()},e.prototype.setSchemaReader=function(a){return e.setSchemaReader(a)},e.prototype.getSchemaReader=function(){return e.schemaReader},e.setSchemaReader=function(a){e.schemaReader=a},e.registerFormat=function(a,b){i[a]=b},e.unregisterFormat=function(a){delete i[a]},e.getRegisteredFormats=function(){return Object.keys(i)},e.getDefaultOptions=function(){return n.cloneDeep(q)},b.exports=e}).call(this,a("_process"))},{"./FormatValidators":289,"./JsonValidation":290,"./Polyfills":291,"./Report":292,"./SchemaCache":293,"./SchemaCompilation":294,"./SchemaValidation":295,"./Utils":296,"./schemas/hyper-schema.json":298,"./schemas/schema.json":299,_process:145,"lodash.get":77}],298:[function(a,b,c){b.exports={$schema:"http://json-schema.org/draft-04/hyper-schema#",id:"http://json-schema.org/draft-04/hyper-schema#",title:"JSON Hyper-Schema",allOf:[{$ref:"http://json-schema.org/draft-04/schema#"}],properties:{additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},definitions:{schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string","default":"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}}}},{}],299:[function(a,b,c){b.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}]},{},[81])(81)}),function(a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else{if("function"==typeof define&&define.amd)return define([],a);this.CodeMirror=a()}}(function(){"use strict";function a(c,d){if(!(this instanceof a))return new a(c,d);this.options=d=d||{},de(tf,d,!1),o(d);var e=d.value;"string"==typeof e&&(e=new Rf(e,d.mode)),this.doc=e;var f=this.display=new b(c,e);f.wrapper.CodeMirror=this,k(this),i(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),d.autofocus&&!Ze&&nb(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Yd},Ke&&setTimeout(ee(mb,this,!0),20),qb(this),se();var g=this;Ya(this,function(){g.curOp.forceUpdate=!0,rd(g,e),d.autofocus&&!Ze||me()==f.input?setTimeout(ee(Nb,g),20):Ob(g);for(var a in uf)uf.hasOwnProperty(a)&&uf[a](g,d[a],vf);for(var b=0;b<zf.length;++b)zf[b](g)})}function b(a,b){var c=this,d=c.input=ie("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");Qe?d.style.width="1000px":d.setAttribute("wrap","off"),Ye&&(d.style.border="1px solid black"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck","false"),c.inputDiv=ie("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=ie("div",[ie("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=ie("div",[ie("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=ie("div",null,"CodeMirror-scrollbar-filler"),c.gutterFiller=ie("div",null,"CodeMirror-gutter-filler"),c.lineDiv=ie("div",null,"CodeMirror-code"),c.selectionDiv=ie("div",null,null,"position: relative; z-index: 1"),c.cursorDiv=ie("div",null,"CodeMirror-cursors"),c.measure=ie("div",null,"CodeMirror-measure"),c.lineMeasure=ie("div",null,"CodeMirror-measure"),c.lineSpace=ie("div",[c.measure,c.lineMeasure,c.selectionDiv,c.cursorDiv,c.lineDiv],null,"position: relative; outline: none"),c.mover=ie("div",[ie("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=ie("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=ie("div",null,null,"position: absolute; height: "+ag+"px; width: 1px;"),c.gutters=ie("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=ie("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=ie("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),Le&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),Ye&&(d.style.width="0px"),Qe||(c.scroller.draggable=!0),Ve&&(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"),Le&&(c.scrollbarH.style.minHeight=c.scrollbarV.style.minWidth="18px"),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),c.viewFrom=c.viewTo=b.first,c.view=[],c.externalMeasured=null,c.viewOffset=0,c.lastSizeC=0,c.updateLineNumbers=null,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new Yd,c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c.shift=!1,c.selForContextMenu=null}function c(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption),d(b)}function d(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,sa(a,100),a.state.modeGen++,a.curOp&&cb(a)}function e(a){a.options.lineWrapping?(pe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(oe(a.display.wrapper,"CodeMirror-wrap"),n(a)),g(a),cb(a),Ja(a),setTimeout(function(){q(a)},100)}function f(a){var b=Ua(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/Va(a.display)-3);return function(e){if(Sc(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function g(a){var b=a.doc,c=f(a);b.iter(function(a){var b=c(a);b!=a.height&&vd(a,b)})}function h(a){var b=Ef[a.options.keyMap],c=b.style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(c?" cm-keymap-"+c:"")}function i(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),
Ja(a)}function j(a){k(a),cb(a),setTimeout(function(){s(a)},20)}function k(a){var b=a.display.gutters,c=a.options.gutters;je(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(ie("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none",l(a)}function l(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px",a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function m(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=Lc(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=Mc(d);){var e=b.find(0,!0);c-=d.text.length-e.from.ch,d=e.to.line,c+=d.text.length-e.to.ch}return c}function n(a){var b=a.display,c=a.doc;b.maxLine=sd(c,c.first),b.maxLineLength=m(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=m(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function o(a){var b=ae(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function p(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+xa(a.display))}}function q(a,b){b||(b=p(a));var c=a.display,d=b.docHeight+ag,e=b.scrollWidth>b.clientWidth,f=d>b.clientHeight;if(f?(c.scrollbarV.style.display="block",c.scrollbarV.style.bottom=e?ue(c.measure)+"px":"0",c.scrollbarV.firstChild.style.height=Math.max(0,d-b.clientHeight+(b.barHeight||c.scrollbarV.clientHeight))+"px"):(c.scrollbarV.style.display="",c.scrollbarV.firstChild.style.height="0"),e?(c.scrollbarH.style.display="block",c.scrollbarH.style.right=f?ue(c.measure)+"px":"0",c.scrollbarH.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.barWidth||c.scrollbarH.clientWidth)+"px"):(c.scrollbarH.style.display="",c.scrollbarH.firstChild.style.width="0"),e&&f?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=c.scrollbarFiller.style.width=ue(c.measure)+"px"):c.scrollbarFiller.style.display="",e&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=ue(c.measure)+"px",c.gutterFiller.style.width=c.gutters.offsetWidth+"px"):c.gutterFiller.style.display="",!a.state.checkedOverlayScrollbar&&b.clientHeight>0){if(0===ue(c.measure)){var g=$e&&!We?"12px":"18px";c.scrollbarV.style.minWidth=c.scrollbarH.style.minHeight=g;var h=function(b){Qd(b)!=c.scrollbarV&&Qd(b)!=c.scrollbarH&&Za(a,ub)(b)};Yf(c.scrollbarV,"mousedown",h),Yf(c.scrollbarH,"mousedown",h)}a.state.checkedOverlayScrollbar=!0}}function r(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-wa(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=xd(b,d),g=xd(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;if(f>h)return{from:h,to:xd(b,yd(sd(b,h))+a.wrapper.clientHeight)};if(Math.min(i,b.lastLine())>=g)return{from:xd(b,yd(sd(b,i))-a.wrapper.clientHeight),to:i}}return{from:f,to:Math.max(g,f+1)}}function s(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=v(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function t(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=u(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(ie("div",[ie("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",l(a),!0}return!1}function u(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function v(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function w(a,b,c){for(var d,e=a.display.viewFrom,f=a.display.viewTo,g=r(a.display,a.doc,b),h=!0;;h=!1){var i=a.display.scroller.clientWidth;if(!x(a,g,c))break;d=!0,a.display.maxLineChanged&&!a.options.lineWrapping&&y(a);var j=p(a);if(oa(a),z(a,j),q(a,j),Qe&&a.options.lineWrapping&&A(a,j),h&&a.options.lineWrapping&&i!=a.display.scroller.clientWidth)c=!0;else if(c=!1,b&&null!=b.top&&(b={top:Math.min(j.docHeight-ag-j.clientHeight,b.top)}),g=r(a.display,a.doc,b),g.from>=a.display.viewFrom&&g.to<=a.display.viewTo)break}return a.display.updateLineNumbers=null,d&&(Sd(a,"update",a),(a.display.viewFrom!=e||a.display.viewTo!=f)&&Sd(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo)),d}function x(a,b,c){var d=a.display,e=a.doc;if(!d.wrapper.offsetWidth)return void eb(a);if(!(!c&&b.from>=d.viewFrom&&b.to<=d.viewTo&&0==ib(a))){t(a)&&eb(a);var f=D(a),g=e.first+e.size,h=Math.max(b.from-a.options.viewportMargin,e.first),i=Math.min(g,b.to+a.options.viewportMargin);d.viewFrom<h&&h-d.viewFrom<20&&(h=Math.max(e.first,d.viewFrom)),d.viewTo>i&&d.viewTo-i<20&&(i=Math.min(g,d.viewTo)),ef&&(h=Qc(a.doc,h),i=Rc(a.doc,i));var j=h!=d.viewFrom||i!=d.viewTo||d.lastSizeC!=d.wrapper.clientHeight;hb(a,h,i),d.viewOffset=yd(sd(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var k=ib(a);if(j||0!=k||c){var l=me();return k>4&&(d.lineDiv.style.display="none"),E(a,d.updateLineNumbers,f),k>4&&(d.lineDiv.style.display=""),l&&me()!=l&&l.offsetHeight&&l.focus(),je(d.cursorDiv),je(d.selectionDiv),j&&(d.lastSizeC=d.wrapper.clientHeight,sa(a,400)),B(a),!0}}}function y(a){var b=a.display,c=Ca(a,b.maxLine,b.maxLine.text.length).left;b.maxLineChanged=!1;var d=Math.max(0,c+3),e=Math.max(0,b.sizer.offsetLeft+d+ag-b.scroller.clientWidth);b.sizer.style.minWidth=d+"px",e<a.doc.scrollLeft&&Db(a,Math.min(b.scroller.scrollLeft,e),!0)}function z(a,b){a.display.sizer.style.minHeight=a.display.heightForcer.style.top=b.docHeight+"px",a.display.gutters.style.height=Math.max(b.docHeight,b.clientHeight-ag)+"px"}function A(a,b){a.display.sizer.offsetWidth+a.display.gutters.offsetWidth<a.display.scroller.clientWidth-1&&(a.display.sizer.style.minHeight=a.display.heightForcer.style.top="0px",a.display.gutters.style.height=b.docHeight+"px")}function B(a){for(var b=a.display,c=b.lineDiv.offsetTop,d=0;d<b.view.length;d++){var e,f=b.view[d];if(!f.hidden){if(Le){var g=f.node.offsetTop+f.node.offsetHeight;e=g-c,c=g}else{var h=f.node.getBoundingClientRect();e=h.bottom-h.top}var i=f.line.height-e;if(2>e&&(e=Ua(b)),(i>.001||-.001>i)&&(vd(f.line,e),C(f.line),f.rest))for(var j=0;j<f.rest.length;j++)C(f.rest[j])}}}function C(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function D(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:v(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function E(a,b,c){function d(b){var c=b.nextSibling;return Qe&&$e&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var e=a.display,f=a.options.lineNumbers,g=e.lineDiv,h=g.firstChild,i=e.view,j=e.viewFrom,k=0;k<i.length;k++){var l=i[k];if(l.hidden);else if(l.node){for(;h!=l.node;)h=d(h);var m=f&&null!=b&&j>=b&&l.lineNumber;l.changes&&(ae(l.changes,"gutter")>-1&&(m=!1),F(a,l,j,c)),m&&(je(l.lineNumber),l.lineNumber.appendChild(document.createTextNode(u(a.options,j)))),h=l.node.nextSibling}else{var n=N(a,l,j,c);g.insertBefore(n,h)}j+=l.size}for(;h;)h=d(h)}function F(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?J(a,b):"gutter"==f?L(a,b,c,d):"class"==f?K(b):"widget"==f&&M(b,d)}b.changes=null}function G(a){return a.node==a.text&&(a.node=ie("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Le&&(a.node.style.zIndex=2)),a.node}function H(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=G(a);a.background=c.insertBefore(ie("div",null,b),c.firstChild)}}function I(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):fd(a,b)}function J(a,b){var c=b.text.className,d=I(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,K(b)):c&&(b.text.className=c)}function K(a){H(a),a.line.wrapClass?G(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var b=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=b||""}function L(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=G(b),g=b.gutter=f.insertBefore(ie("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),b.text);if(!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(ie("div",u(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),e)for(var h=0;h<a.options.gutters.length;++h){var i=a.options.gutters[h],j=e.hasOwnProperty(i)&&e[i];j&&g.appendChild(ie("div",[j],"CodeMirror-gutter-elt","left: "+d.gutterLeft[i]+"px; width: "+d.gutterWidth[i]+"px"))}}}function M(a,b){a.alignable&&(a.alignable=null);for(var c,d=a.node.firstChild;d;d=c){var c=d.nextSibling;"CodeMirror-linewidget"==d.className&&a.node.removeChild(d)}O(a,b)}function N(a,b,c,d){var e=I(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),K(b),L(a,b,c,d),O(b,d),b.node}function O(a,b){if(P(a.line,a,b,!0),a.rest)for(var c=0;c<a.rest.length;c++)P(a.rest[c],a,b,!1)}function P(a,b,c,d){if(a.widgets)for(var e=G(b),f=0,g=a.widgets;f<g.length;++f){var h=g[f],i=ie("div",[h.node],"CodeMirror-linewidget");h.handleMouseEvents||(i.ignoreEvents=!0),Q(h,i,b,c),d&&h.above?e.insertBefore(i,b.gutter||b.text):e.appendChild(i),Sd(h,"redraw")}}function Q(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function R(a){return ff(a.line,a.ch)}function S(a,b){return gf(a,b)<0?b:a}function T(a,b){return gf(a,b)<0?a:b}function U(a,b){this.ranges=a,this.primIndex=b}function V(a,b){this.anchor=a,this.head=b}function W(a,b){var c=a[b];a.sort(function(a,b){return gf(a.from(),b.from())}),b=ae(a,c);for(var d=1;d<a.length;d++){var e=a[d],f=a[d-1];if(gf(f.to(),e.from())>=0){var g=T(f.from(),e.from()),h=S(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;b>=d&&--b,a.splice(--d,2,new V(i?h:g,i?g:h))}}return new U(a,b)}function X(a,b){return new U([new V(a,b||a)],0)}function Y(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function Z(a,b){if(b.line<a.first)return ff(a.first,0);var c=a.first+a.size-1;return b.line>c?ff(c,sd(a,c).text.length):$(b,sd(a,b.line).text.length)}function $(a,b){var c=a.ch;return null==c||c>b?ff(a.line,b):0>c?ff(a.line,0):a}function _(a,b){return b>=a.first&&b<a.first+a.size}function aa(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=Z(a,b[d]);return c}function ba(a,b,c,d){if(a.cm&&a.cm.display.shift||a.extend){var e=b.anchor;if(d){var f=gf(c,e)<0;f!=gf(d,e)<0?(e=c,c=d):f!=gf(c,d)<0&&(c=d)}return new V(e,c)}return new V(d||c,c)}function ca(a,b,c,d){ia(a,new U([ba(a,a.sel.primary(),b,c)],0),d)}function da(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=ba(a,a.sel.ranges[e],b[e],null);var f=W(d,a.sel.primIndex);ia(a,f,c)}function ea(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,ia(a,W(e,a.sel.primIndex),d)}function fa(a,b,c,d){ia(a,X(b,c),d)}function ga(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new V(Z(a,b[c].anchor),Z(a,b[c].head))}};return $f(a,"beforeSelectionChange",a,c),a.cm&&$f(a.cm,"beforeSelectionChange",a.cm,c),c.ranges!=b.ranges?W(c.ranges,c.ranges.length-1):b}function ha(a,b,c){var d=a.history.done,e=_d(d);e&&e.ranges?(d[d.length-1]=b,ja(a,b,c)):ia(a,b,c)}function ia(a,b,c){ja(a,b,c),Gd(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function ja(a,b,c){(Wd(a,"beforeSelectionChange")||a.cm&&Wd(a.cm,"beforeSelectionChange"))&&(b=ga(a,b));var d=c&&c.bias||(gf(b.primary().head,a.sel.primary().head)<0?-1:1);ka(a,ma(a,b,d,!0)),c&&c.scroll===!1||!a.cm||gc(a.cm)}function ka(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,Vd(a.cm)),Sd(a,"cursorActivity",a))}function la(a){ka(a,ma(a,a.sel,null,!1),cg)}function ma(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=na(a,g.anchor,c,d),i=na(a,g.head,c,d);(e||h!=g.anchor||i!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new V(h,i))}return e?W(e,b.primIndex):b}function na(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=sd(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&($f(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find(0>g?-1:1);if(0==gf(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?Z(a,ff(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?ff(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,ff(a.first,0)):na(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function oa(a){for(var b=a.display,c=a.doc,d=document.createDocumentFragment(),e=document.createDocumentFragment(),f=0;f<c.sel.ranges.length;f++){var g=c.sel.ranges[f],h=g.empty();(h||a.options.showCursorWhenSelecting)&&pa(a,g,d),h||qa(a,g,e)}if(a.options.moveInputWithCursor){var i=Pa(a,c.sel.primary().head,"div"),j=b.wrapper.getBoundingClientRect(),k=b.lineDiv.getBoundingClientRect(),l=Math.max(0,Math.min(b.wrapper.clientHeight-10,i.top+k.top-j.top)),m=Math.max(0,Math.min(b.wrapper.clientWidth-10,i.left+k.left-j.left));b.inputDiv.style.top=l+"px",b.inputDiv.style.left=m+"px"}ke(b.cursorDiv,d),ke(b.selectionDiv,e)}function pa(a,b,c){var d=Pa(a,b.head,"div"),e=c.appendChild(ie("div"," ","CodeMirror-cursor"));if(e.style.left=d.left+"px",e.style.top=d.top+"px",e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",d.other){var f=c.appendChild(ie("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=d.other.left+"px",f.style.top=d.other.top+"px",f.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function qa(a,b,c){function d(a,b,c,d){0>b&&(b=0),b=Math.round(b),d=Math.round(d),h.appendChild(ie("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?k-a:c)+"px; height: "+(d-b)+"px"))}function e(b,c,e){function f(c,d){return Oa(a,ff(b,c),"div",l,d)}var h,i,l=sd(g,b),m=l.text.length;return xe(zd(l),c||0,null==e?m:e,function(a,b,g){var l,n,o,p=f(a,"left");if(a==b)l=p,n=o=p.left;else{if(l=f(b-1,"right"),"rtl"==g){var q=p;p=l,l=q}n=p.left,o=l.right}null==c&&0==a&&(n=j),l.top-p.top>3&&(d(n,p.top,null,p.bottom),n=j,p.bottom<l.top&&d(n,p.bottom,null,l.top)),null==e&&b==m&&(o=k),(!h||p.top<h.top||p.top==h.top&&p.left<h.left)&&(h=p),(!i||l.bottom>i.bottom||l.bottom==i.bottom&&l.right>i.right)&&(i=l),j+1>n&&(n=j),d(n,l.top,o-n,l.bottom)}),{start:h,end:i}}var f=a.display,g=a.doc,h=document.createDocumentFragment(),i=ya(a.display),j=i.left,k=f.lineSpace.offsetWidth-i.right,l=b.from(),m=b.to();if(l.line==m.line)e(l.line,l.ch,m.ch);else{var n=sd(g,l.line),o=sd(g,m.line),p=Oc(n)==Oc(o),q=e(l.line,l.ch,p?n.text.length+1:null).end,r=e(m.line,p?0:null,m.ch).start;p&&(q.top<r.top-2?(d(q.right,q.top,null,q.bottom),d(j,r.top,r.left,r.bottom)):d(q.right,q.top,r.left-q.right,q.bottom)),q.bottom<r.top&&d(j,q.bottom,null,r.top)}c.appendChild(h)}function ra(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0&&(b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate))}}function sa(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,ee(ta,a))}function ta(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=Bf(b.mode,va(a,b.frontier));Ya(a,function(){b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(e){if(b.frontier>=a.display.viewFrom){var f=e.styles,g=bd(a,e,d,!0);e.styles=g.styles,g.classes?e.styleClasses=g.classes:e.styleClasses&&(e.styleClasses=null);for(var h=!f||f.length!=e.styles.length,i=0;!h&&i<f.length;++i)h=f[i]!=e.styles[i];h&&db(a,b.frontier,"text"),e.stateAfter=Bf(b.mode,d)}else dd(a,e.text,d),e.stateAfter=b.frontier%5==0?Bf(b.mode,d):null;return++b.frontier,+new Date>c?(sa(a,a.options.workDelay),!0):void 0})})}}function ua(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=sd(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=fg(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function va(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=ua(a,b,c),g=f>d.first&&sd(d,f-1).stateAfter;return g=g?Bf(d.mode,g):Cf(d.mode),d.iter(f,b,function(c){dd(a,c.text,g);var h=f==b-1||f%5==0||f>=e.viewFrom&&f<e.viewTo;c.stateAfter=h?Bf(d.mode,g):null,++f}),c&&(d.frontier=f),g}function wa(a){return a.lineSpace.offsetTop}function xa(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ya(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=ke(a.measure,ie("pre","x")),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d),d}function za(a,b,c){var d=a.options.lineWrapping,e=d&&a.display.scroller.clientWidth;if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function Aa(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var d=0;d<a.rest.length;d++)if(wd(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Ba(a,b){b=Oc(b);var c=wd(b),d=a.display.externalMeasured=new ab(a.doc,b,c);d.lineN=c;var e=d.built=fd(a,d);return d.text=e.pre,ke(a.display.lineMeasure,e.pre),d}function Ca(a,b,c,d){return Fa(a,Ea(a,b),c,d)}function Da(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[fb(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function Ea(a,b){var c=wd(b),d=Da(a,c);d&&!d.text?d=null:d&&d.changes&&F(a,d,c,D(a)),d||(d=Ba(a,b));var e=Aa(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function Fa(a,b,c,d){b.before&&(c=-1);var e,f=c+(d||"");return b.cache.hasOwnProperty(f)?e=b.cache[f]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(za(a,b.view,b.rect),b.hasHeights=!0),e=Ga(a,b,c,d),e.bogus||(b.cache[f]=e)),{left:e.left,right:e.right,top:e.top,bottom:e.bottom}}function Ga(a,b,c,d){for(var e,f,g,h,i=b.map,j=0;j<i.length;j+=3){var k=i[j],l=i[j+1];if(k>c?(f=0,g=1,h="left"):l>c?(f=c-k,g=f+1):(j==i.length-3||c==l&&i[j+3]>c)&&(g=l-k,f=g-1,c>=l&&(h="right")),null!=f){if(e=i[j+2],k==l&&d==(e.insertLeft?"left":"right")&&(h=d),"left"==d&&0==f)for(;j&&i[j-2]==i[j-3]&&i[j-1].insertLeft;)e=i[(j-=3)+2],h="left";if("right"==d&&f==l-k)for(;j<i.length-3&&i[j+3]==i[j+4]&&!i[j+5].insertLeft;)e=i[(j+=3)+2],h="right";break}}var m;if(3==e.nodeType){for(;f&&he(b.line.text.charAt(k+f));)--f;for(;l>k+g&&he(b.line.text.charAt(k+g));)++g;if(Me&&0==f&&g==l-k)m=e.parentNode.getBoundingClientRect();else if(Pe&&a.options.lineWrapping){var n=ig(e,f,g).getClientRects();m=n.length?n["right"==d?n.length-1:0]:lf}else m=ig(e,f,g).getBoundingClientRect()||lf}else{f>0&&(h=d="right");var n;m=a.options.lineWrapping&&(n=e.getClientRects()).length>1?n["right"==d?n.length-1:0]:e.getBoundingClientRect()}if(Me&&!f&&(!m||!m.left&&!m.right)){var o=e.parentNode.getClientRects()[0];m=o?{left:o.left,right:o.left+Va(a.display),top:o.top,bottom:o.bottom}:lf}for(var p,q=(m.bottom+m.top)/2-b.rect.top,r=b.view.measure.heights,j=0;j<r.length-1&&!(q<r[j]);j++);p=j?r[j-1]:0,q=r[j];var s={left:("right"==h?m.right:m.left)-b.rect.left,right:("left"==h?m.left:m.right)-b.rect.left,top:p,bottom:q};return m.left||m.right||(s.bogus=!0),s}function Ha(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function Ia(a){a.display.externalMeasure=null,je(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Ha(a.display.view[b])}function Ja(a){Ia(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Ka(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function La(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ma(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Vc(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=yd(b);if("local"==d?g+=wa(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:La());var i=h.left+("window"==d?0:Ka());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function Na(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=Ka(),e-=La();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function Oa(a,b,c,d,e){return d||(d=sd(a.doc,b.line)),Ma(a,d,Ca(a,d,b.ch,e),c)}function Pa(a,b,c,d,e){function f(b,f){var g=Fa(a,e,b,f?"right":"left");return f?g.left=g.right:g.right=g.left,Ma(a,d,g,c)}function g(a,b){var c=h[b],d=c.level%2;return a==ye(c)&&b&&c.level<h[b-1].level?(c=h[--b],a=ze(c)-(c.level%2?0:1),d=!0):a==ze(c)&&b<h.length-1&&c.level<h[b+1].level&&(c=h[++b],a=ye(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?f(a-1):f(a,d)}d=d||sd(a.doc,b.line),e||(e=Ea(a,d));var h=zd(d),i=b.ch;if(!h)return f(i);var j=Fe(h,i),k=g(i,j);return null!=vg&&(k.other=g(i,vg)),k}function Qa(a,b){var c=0,b=Z(a.doc,b);a.options.lineWrapping||(c=Va(a.display)*b.ch);var d=sd(a.doc,b.line),e=yd(d)+wa(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function Ra(a,b,c,d){var e=ff(a,b);return e.xRel=d,c&&(e.outside=!0),e}function Sa(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return Ra(d.first,0,!0,-1);var e=xd(d,c),f=d.first+d.size-1;if(e>f)return Ra(d.first+d.size-1,sd(d,f).text.length,!0,1);0>b&&(b=0);for(var g=sd(d,e);;){var h=Ta(a,g,e,b,c),i=Mc(g),j=i&&i.find(0,!0);if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=wd(g=j.to.line)}}function Ta(a,b,c,d,e){function f(d){var e=Pa(a,ff(c,d),"line",b,j);return h=!0,g>e.bottom?e.left-i:g<e.top?e.left+i:(h=!1,e.left)}var g=e-yd(b),h=!1,i=2*a.display.wrapper.clientWidth,j=Ea(a,b),k=zd(b),l=b.text.length,m=Ae(b),n=Be(b),o=f(m),p=h,q=f(n),r=h;if(d>q)return Ra(c,n,r,1);for(;;){if(k?n==m||n==He(b,m,1):1>=n-m){for(var s=o>d||q-d>=d-o?m:n,t=d-(s==m?o:q);he(b.text.charAt(s));)++s;var u=Ra(c,s,s==m?p:r,-1>t?-1:t>1?1:0);return u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;v>x;++x)w=He(b,w,1)}var y=f(w);y>d?(n=w,q=y,(r=h)&&(q+=1e3),l=v):(m=w,o=y,p=h,l-=v)}}function Ua(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==hf){hf=ie("pre");for(var b=0;49>b;++b)hf.appendChild(document.createTextNode("x")),hf.appendChild(ie("br"));hf.appendChild(document.createTextNode("x"))}ke(a.measure,hf);var c=hf.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),je(a.measure),c||1}function Va(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=ie("span","xxxxxxxxxx"),c=ie("pre",[b]);ke(a.measure,c);var d=b.getBoundingClientRect(),e=(d.right-d.left)/10;return e>2&&(a.cachedCharWidth=e),e||10}function Wa(a){a.curOp={viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++mf},_f++||(Uf=[])}function Xa(a){var b=a.curOp,c=a.doc,d=a.display;if(a.curOp=null,b.updateMaxLine&&n(a),b.viewChanged||b.forceUpdate||null!=b.scrollTop||b.scrollToPos&&(b.scrollToPos.from.line<d.viewFrom||b.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&a.options.lineWrapping){var e=w(a,{top:b.scrollTop,ensure:b.scrollToPos},b.forceUpdate);a.display.scroller.offsetHeight&&(a.doc.scrollTop=a.display.scroller.scrollTop)}if(!e&&b.selectionChanged&&oa(a),e||b.startHeight==a.doc.height||q(a),null==d.wheelStartX||null==b.scrollTop&&null==b.scrollLeft&&!b.scrollToPos||(d.wheelStartX=d.wheelStartY=null),null!=b.scrollTop&&d.scroller.scrollTop!=b.scrollTop){var f=Math.max(0,Math.min(d.scroller.scrollHeight-d.scroller.clientHeight,b.scrollTop));d.scroller.scrollTop=d.scrollbarV.scrollTop=c.scrollTop=f}if(null!=b.scrollLeft&&d.scroller.scrollLeft!=b.scrollLeft){var g=Math.max(0,Math.min(d.scroller.scrollWidth-d.scroller.clientWidth,b.scrollLeft));d.scroller.scrollLeft=d.scrollbarH.scrollLeft=c.scrollLeft=g,s(a)}if(b.scrollToPos){var h=cc(a,Z(a.doc,b.scrollToPos.from),Z(a.doc,b.scrollToPos.to),b.scrollToPos.margin);b.scrollToPos.isCursor&&a.state.focused&&bc(a,h)}b.selectionChanged&&ra(a),a.state.focused&&b.updateInput&&mb(a,b.typing);var i=b.maybeHiddenMarkers,j=b.maybeUnhiddenMarkers;if(i)for(var k=0;k<i.length;++k)i[k].lines.length||$f(i[k],"hide");if(j)for(var k=0;k<j.length;++k)j[k].lines.length&&$f(j[k],"unhide");var l;if(--_f||(l=Uf,Uf=null),b.changeObjs&&$f(a,"changes",a,b.changeObjs),l)for(var k=0;k<l.length;++k)l[k]();if(b.cursorActivityHandlers)for(var k=0;k<b.cursorActivityHandlers.length;k++)b.cursorActivityHandlers[k](a)}function Ya(a,b){if(a.curOp)return b();Wa(a);try{return b()}finally{Xa(a)}}function Za(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Wa(a);try{return b.apply(a,arguments)}finally{Xa(a)}}}function $a(a){return function(){if(this.curOp)return a.apply(this,arguments);Wa(this);try{return a.apply(this,arguments)}finally{Xa(this)}}}function _a(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Wa(b);try{return a.apply(this,arguments)}finally{Xa(b)}}}function ab(a,b,c){this.line=b,this.rest=Pc(b),this.size=this.rest?wd(_d(this.rest))-c+1:1,this.node=this.text=null,this.hidden=Sc(a,b)}function bb(a,b,c){for(var d,e=[],f=b;c>f;f=d){var g=new ab(a.doc,sd(a.doc,f),f);d=f+g.size,e.push(g)}return e}function cb(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)ef&&Qc(a.doc,b)<e.viewTo&&eb(a);else if(c<=e.viewFrom)ef&&Rc(a.doc,c+d)>e.viewFrom?eb(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)eb(a);else if(b<=e.viewFrom){var f=gb(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):eb(a)}else if(c>=e.viewTo){var f=gb(a,b,b,-1);f?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):eb(a)}else{var g=gb(a,b,b,-1),h=gb(a,c,c+d,1);g&&h?(e.view=e.view.slice(0,g.index).concat(bb(a,g.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):eb(a)}var i=e.externalMeasured;i&&(c<i.lineN?i.lineN+=d:b<i.lineN+i.size&&(e.externalMeasured=null))}function db(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[fb(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==ae(g,c)&&g.push(c)}}}function eb(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function fb(a,b){if(b>=a.display.viewTo)return null;if(b-=a.display.viewFrom,0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function gb(a,b,c,d){var e,f=fb(a,b),g=a.display.view;if(!ef||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=0,i=a.display.viewFrom;f>h;h++)i+=g[h].size;if(i!=b){if(d>0){if(f==g.length-1)return null;e=i+g[f].size-b,f++}else e=i-b;b+=e,c+=e}for(;Qc(a.doc,c)!=c;){if(f==(0>d?0:g.length-1))return null;c+=d*g[f-(0>d?1:0)].size,f+=d}return{index:f,lineN:c}}function hb(a,b,c){var d=a.display,e=d.view;0==e.length||b>=d.viewTo||c<=d.viewFrom?(d.view=bb(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=bb(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(fb(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(bb(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,fb(a,c)))),d.viewTo=c}function ib(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function jb(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){lb(a),a.state.focused&&jb(a)})}function kb(a){function b(){var d=lb(a);d||c?(a.display.pollingFast=!1,jb(a)):(c=!0,a.display.poll.set(60,b))}var c=!1;a.display.pollingFast=!0,a.display.poll.set(20,b)}function lb(a){var b=a.display.input,c=a.display.prevInput,d=a.doc;if(!a.state.focused||sg(b)&&!c||pb(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var e=b.value;if(e==c&&!a.somethingSelected())return!1;if(Pe&&!Me&&a.display.inputHasSelection===e)return mb(a),!1;var f=!a.curOp;f&&Wa(a),a.display.shift=!1,8203!=e.charCodeAt(0)||d.sel!=a.display.selForContextMenu||c||(c="​");for(var g=0,h=Math.min(c.length,e.length);h>g&&c.charCodeAt(g)==e.charCodeAt(g);)++g;for(var i=e.slice(g),j=rg(i),k=a.state.pasteIncoming&&j.length>1&&d.sel.ranges.length==j.length,l=d.sel.ranges.length-1;l>=0;l--){var m=d.sel.ranges[l],n=m.from(),o=m.to();g<c.length?n=ff(n.line,n.ch-(c.length-g)):a.state.overwrite&&m.empty()&&!a.state.pasteIncoming&&(o=ff(o.line,Math.min(sd(d,o.line).text.length,o.ch+_d(j).length)));var p=a.curOp.updateInput,q={from:n,to:o,text:k?[j[l]]:j,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};if(Wb(a.doc,q),Sd(a,"inputRead",a,q),i&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&m.head.ch<100&&(!l||d.sel.ranges[l-1].head.line!=m.head.line)){var r=a.getModeAt(m.head);if(r.electricChars){for(var s=0;s<r.electricChars.length;s++)if(i.indexOf(r.electricChars.charAt(s))>-1){ic(a,m.head.line,"smart");break}}else if(r.electricInput){var t=sf(q);r.electricInput.test(sd(d,t.line).text.slice(0,t.ch))&&ic(a,m.head.line,"smart")}}}return gc(a),a.curOp.updateInput=p,a.curOp.typing=!0,e.length>1e3||e.indexOf("\n")>-1?b.value=a.display.prevInput="":a.display.prevInput=e,f&&Xa(a),a.state.pasteIncoming=a.state.cutIncoming=!1,
!0}function mb(a,b){var c,d,e=a.doc;if(a.somethingSelected()){a.display.prevInput="";var f=e.sel.primary();c=tg&&(f.to().line-f.from().line>100||(d=a.getSelection()).length>1e3);var g=c?"-":d||a.getSelection();a.display.input.value=g,a.state.focused&&hg(a.display.input),Pe&&!Me&&(a.display.inputHasSelection=g)}else b||(a.display.prevInput=a.display.input.value="",Pe&&!Me&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=c}function nb(a){"nocursor"==a.options.readOnly||Ze&&me()==a.display.input||a.display.input.focus()}function ob(a){a.state.focused||(nb(a),Nb(a))}function pb(a){return a.options.readOnly||a.doc.cantEdit}function qb(a){function b(){a.state.focused&&setTimeout(ee(nb,a),0)}function c(b){Ud(a,b)||Xf(b)}function d(b){if(a.somethingSelected())e.inaccurateSelection&&(e.prevInput="",e.inaccurateSelection=!1,e.input.value=a.getSelection(),hg(e.input));else{for(var c="",d=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,h={anchor:ff(g,0),head:ff(g+1,0)};d.push(h),c+=a.getRange(h.anchor,h.head)}"cut"==b.type?a.setSelections(d,null,cg):(e.prevInput="",e.input.value=c,hg(e.input))}"cut"==b.type&&(a.state.cutIncoming=!0)}var e=a.display;Yf(e.scroller,"mousedown",Za(a,ub)),Ke?Yf(e.scroller,"dblclick",Za(a,function(b){if(!Ud(a,b)){var c=tb(a,b);if(c&&!zb(a,b)&&!sb(a.display,b)){Vf(b);var d=nc(a,c);ca(a.doc,d.anchor,d.head)}}})):Yf(e.scroller,"dblclick",function(b){Ud(a,b)||Vf(b)}),Yf(e.lineSpace,"selectstart",function(a){sb(e,a)||Vf(a)}),cf||Yf(e.scroller,"contextmenu",function(b){Pb(a,b)}),Yf(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Cb(a,e.scroller.scrollTop),Db(a,e.scroller.scrollLeft,!0),$f(a,"scroll",a))}),Yf(e.scrollbarV,"scroll",function(){e.scroller.clientHeight&&Cb(a,e.scrollbarV.scrollTop)}),Yf(e.scrollbarH,"scroll",function(){e.scroller.clientHeight&&Db(a,e.scrollbarH.scrollLeft)}),Yf(e.scroller,"mousewheel",function(b){Eb(a,b)}),Yf(e.scroller,"DOMMouseScroll",function(b){Eb(a,b)}),Yf(e.scrollbarH,"mousedown",b),Yf(e.scrollbarV,"mousedown",b),Yf(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),Yf(e.input,"keyup",Za(a,Lb)),Yf(e.input,"input",function(){Pe&&!Me&&a.display.inputHasSelection&&(a.display.inputHasSelection=null),kb(a)}),Yf(e.input,"keydown",Za(a,Jb)),Yf(e.input,"keypress",Za(a,Mb)),Yf(e.input,"focus",ee(Nb,a)),Yf(e.input,"blur",ee(Ob,a)),a.options.dragDrop&&(Yf(e.scroller,"dragstart",function(b){Bb(a,b)}),Yf(e.scroller,"dragenter",c),Yf(e.scroller,"dragover",c),Yf(e.scroller,"drop",Za(a,Ab))),Yf(e.scroller,"paste",function(b){sb(e,b)||(a.state.pasteIncoming=!0,nb(a),kb(a))}),Yf(e.input,"paste",function(){if(Qe&&!a.state.fakedLastChar&&!(new Date-a.state.lastMiddleDown<200)){var b=e.input.selectionStart,c=e.input.selectionEnd;e.input.value+="$",e.input.selectionStart=b,e.input.selectionEnd=c,a.state.fakedLastChar=!0}a.state.pasteIncoming=!0,kb(a)}),Yf(e.input,"cut",d),Yf(e.input,"copy",d),Ve&&Yf(e.sizer,"mouseup",function(){me()==e.input&&e.input.blur(),nb(a)})}function rb(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,a.setSize()}function sb(a,b){for(var c=Qd(b);c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function tb(a,b,c,d){var e=a.display;if(!c){var f=Qd(b);if(f==e.scrollbarH||f==e.scrollbarV||f==e.scrollbarFiller||f==e.gutterFiller)return null}var g,h,i=e.lineSpace.getBoundingClientRect();try{g=b.clientX-i.left,h=b.clientY-i.top}catch(b){return null}var j,k=Sa(a,g,h);if(d&&1==k.xRel&&(j=sd(a.doc,k.line).text).length==k.ch){var l=fg(j,j.length,a.options.tabSize)-j.length;k=ff(k.line,Math.max(0,Math.round((g-ya(a.display).left)/Va(a.display))-l))}return k}function ub(a){if(!Ud(this,a)){var b=this,c=b.display;if(c.shift=a.shiftKey,sb(c,a))return void(Qe||(c.scroller.draggable=!1,setTimeout(function(){c.scroller.draggable=!0},100)));if(!zb(b,a)){var d=tb(b,a);switch(window.focus(),Rd(a)){case 1:d?vb(b,a,d):Qd(a)==c.scroller&&Vf(a);break;case 2:Qe&&(b.state.lastMiddleDown=+new Date),d&&ca(b.doc,d),setTimeout(ee(nb,b),20),Vf(a);break;case 3:cf&&Pb(b,a)}}}}function vb(a,b,c){setTimeout(ee(ob,a),0);var d,e=+new Date;kf&&kf.time>e-400&&0==gf(kf.pos,c)?d="triple":jf&&jf.time>e-400&&0==gf(jf.pos,c)?(d="double",kf={time:e,pos:c}):(d="single",jf={time:e,pos:c});var f=a.doc.sel,g=$e?b.metaKey:b.ctrlKey;a.options.dragDrop&&qg&&!pb(a)&&"single"==d&&f.contains(c)>-1&&f.somethingSelected()?wb(a,b,c,g):xb(a,b,c,d,g)}function wb(a,b,c,d){var e=a.display,f=Za(a,function(g){Qe&&(e.scroller.draggable=!1),a.state.draggingText=!1,Zf(document,"mouseup",f),Zf(e.scroller,"drop",f),Math.abs(b.clientX-g.clientX)+Math.abs(b.clientY-g.clientY)<10&&(Vf(g),d||ca(a.doc,c),nb(a),Ke&&!Me&&setTimeout(function(){document.body.focus(),nb(a)},20))});Qe&&(e.scroller.draggable=!0),a.state.draggingText=f,e.scroller.dragDrop&&e.scroller.dragDrop(),Yf(document,"mouseup",f),Yf(e.scroller,"drop",f)}function xb(a,b,c,d,e){function f(b){if(0!=gf(p,b))if(p=b,"rect"==d){for(var e=[],f=a.options.tabSize,g=fg(sd(j,c.line).text,c.ch,f),h=fg(sd(j,b.line).text,b.ch,f),i=Math.min(g,h),n=Math.max(g,h),o=Math.min(c.line,b.line),q=Math.min(a.lastLine(),Math.max(c.line,b.line));q>=o;o++){var r=sd(j,o).text,s=Zd(r,i,f);i==n?e.push(new V(ff(o,s),ff(o,s))):r.length>s&&e.push(new V(ff(o,s),ff(o,Zd(r,n,f))))}e.length||e.push(new V(c,c)),ia(j,W(m.ranges.slice(0,l).concat(e),l),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var t=k,u=t.anchor,v=b;if("single"!=d){if("double"==d)var w=nc(a,b);else var w=new V(ff(b.line,0),Z(j,ff(b.line+1,0)));gf(w.anchor,u)>0?(v=w.head,u=T(t.from(),w.anchor)):(v=w.anchor,u=S(t.to(),w.head))}var e=m.ranges.slice(0);e[l]=new V(Z(j,u),v),ia(j,W(e,l),dg)}}function g(b){var c=++s,e=tb(a,b,!0,"rect"==d);if(e)if(0!=gf(e,p)){ob(a),f(e);var h=r(i,j);(e.line>=h.to||e.line<h.from)&&setTimeout(Za(a,function(){s==c&&g(b)}),150)}else{var k=b.clientY<q.top?-20:b.clientY>q.bottom?20:0;k&&setTimeout(Za(a,function(){s==c&&(i.scroller.scrollTop+=k,g(b))}),50)}}function h(b){s=1/0,Vf(b),nb(a),Zf(document,"mousemove",t),Zf(document,"mouseup",u),j.history.lastSelOrigin=null}var i=a.display,j=a.doc;Vf(b);var k,l,m=j.sel;if(e&&!b.shiftKey?(l=j.sel.contains(c),k=l>-1?j.sel.ranges[l]:new V(c,c)):k=j.sel.primary(),b.altKey)d="rect",e||(k=new V(c,c)),c=tb(a,b,!0,!0),l=-1;else if("double"==d){var n=nc(a,c);k=a.display.shift||j.extend?ba(j,k,n.anchor,n.head):n}else if("triple"==d){var o=new V(ff(c.line,0),Z(j,ff(c.line+1,0)));k=a.display.shift||j.extend?ba(j,k,o.anchor,o.head):o}else k=ba(j,k,c);e?l>-1?ea(j,l,k,dg):(l=j.sel.ranges.length,ia(j,W(j.sel.ranges.concat([k]),l),{scroll:!1,origin:"*mouse"})):(l=0,ia(j,new U([k],0),dg),m=j.sel);var p=c,q=i.wrapper.getBoundingClientRect(),s=0,t=Za(a,function(a){(Pe&&!Ne?a.buttons:Rd(a))?g(a):h(a)}),u=Za(a,h);Yf(document,"mousemove",t),Yf(document,"mouseup",u)}function yb(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Vf(b);var h=a.display,i=h.lineDiv.getBoundingClientRect();if(g>i.bottom||!Wd(a,c))return Pd(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&k.getBoundingClientRect().right>=f){var l=xd(a.doc,g),m=a.options.gutters[j];return e(a,c,a,l,m,b),Pd(b)}}}function zb(a,b){return yb(a,b,"gutterClick",!0,Sd)}function Ab(a){var b=this;if(!Ud(b,a)&&!sb(b.display,a)){Vf(a),Pe&&(nf=+new Date);var c=tb(b,a,!0),d=a.dataTransfer.files;if(c&&!pb(b))if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){var h=new FileReader;h.onload=Za(b,function(){if(f[d]=h.result,++g==e){c=Z(b.doc,c);var a={from:c,to:c,text:rg(f.join("\n")),origin:"paste"};Wb(b.doc,a),ha(b.doc,X(c,sf(a)))}}),h.readAsText(a)},i=0;e>i;++i)h(d[i],i);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),void setTimeout(ee(nb,b),20);try{var f=a.dataTransfer.getData("Text");if(f){if(b.state.draggingText&&!($e?a.metaKey:a.ctrlKey))var j=b.listSelections();if(ja(b.doc,X(c,c)),j)for(var i=0;i<j.length;++i)ac(b.doc,"",j[i].anchor,j[i].head,"drag");b.replaceSelection(f,"around","paste"),nb(b)}}catch(a){}}}}function Bb(a,b){if(Pe&&(!a.state.draggingText||+new Date-nf<100))return void Xf(b);if(!Ud(a,b)&&!sb(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!Ue)){var c=ie("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Te&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),Te&&c.parentNode.removeChild(c)}}function Cb(a,b){Math.abs(a.doc.scrollTop-b)<2||(a.doc.scrollTop=b,Je||w(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),Je&&w(a),sa(a,100))}function Db(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,s(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function Eb(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail),null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&$e&&Qe)a:for(var g=b.target,h=e.view;g!=f;g=g.parentNode)for(var i=0;i<h.length;i++)if(h[i].node==g){a.display.currentWheelTarget=g;break a}if(c&&!Je&&!Te&&null!=pf)return d&&Cb(a,Math.max(0,Math.min(f.scrollTop+d*pf,f.scrollHeight-f.clientHeight))),Db(a,Math.max(0,Math.min(f.scrollLeft+c*pf,f.scrollWidth-f.clientWidth))),Vf(b),void(e.wheelStartX=null);if(d&&null!=pf){var j=d*pf,k=a.doc.scrollTop,l=k+e.wrapper.clientHeight;0>j?k=Math.max(0,k+j-50):l=Math.min(a.doc.height,l+j+50),w(a,{top:k,bottom:l})}20>of&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,c=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null,c&&(pf=(pf*of+c)/(of+1),++of)}},200)):(e.wheelDX+=c,e.wheelDY+=d))}}function Fb(a,b,c){if("string"==typeof b&&(b=Df[b],!b))return!1;a.display.pollingFast&&lb(a)&&(a.display.pollingFast=!1);var d=a.display.shift,e=!1;try{pb(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=bg}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function Gb(a){var b=a.state.keyMaps.slice(0);return a.options.extraKeys&&b.push(a.options.extraKeys),b.push(a.options.keyMap),b}function Hb(a,b){var c=pc(a.options.keyMap),d=c.auto;clearTimeout(qf),d&&!Gf(b)&&(qf=setTimeout(function(){pc(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,h(a))},50));var e=Hf(b,!0),f=!1;if(!e)return!1;var g=Gb(a);return f=b.shiftKey?Ff("Shift-"+e,g,function(b){return Fb(a,b,!0)})||Ff(e,g,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?Fb(a,b):void 0}):Ff(e,g,function(b){return Fb(a,b)}),f&&(Vf(b),ra(a),Sd(a,"keyHandled",a,e,b)),f}function Ib(a,b,c){var d=Ff("'"+c+"'",Gb(a),function(b){return Fb(a,b,!0)});return d&&(Vf(b),ra(a),Sd(a,"keyHandled",a,"'"+c+"'",b)),d}function Jb(a){var b=this;if(ob(b),!Ud(b,a)){Ke&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var d=Hb(b,a);Te&&(rf=d?c:null,!d&&88==c&&!tg&&($e?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||Kb(b)}}function Kb(a){function b(a){18!=a.keyCode&&a.altKey||(oe(c,"CodeMirror-crosshair"),Zf(document,"keyup",b),Zf(document,"mouseover",b))}var c=a.display.lineDiv;pe(c,"CodeMirror-crosshair"),Yf(document,"keyup",b),Yf(document,"mouseover",b)}function Lb(a){Ud(this,a)||16==a.keyCode&&(this.doc.sel.shift=!1)}function Mb(a){var b=this;if(!Ud(b,a)){var c=a.keyCode,d=a.charCode;if(Te&&c==rf)return rf=null,void Vf(a);if(!(Te&&(!a.which||a.which<10)||Ve)||!Hb(b,a)){var e=String.fromCharCode(null==d?c:d);Ib(b,a,e)||(Pe&&!Me&&(b.display.inputHasSelection=null),kb(b))}}}function Nb(a){"nocursor"!=a.options.readOnly&&(a.state.focused||($f(a,"focus",a),a.state.focused=!0,pe(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(mb(a),Qe&&setTimeout(ee(mb,a,!0),0))),jb(a),ra(a))}function Ob(a){a.state.focused&&($f(a,"blur",a),a.state.focused=!1,oe(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150)}function Pb(a,b){function c(){if(null!=e.input.selectionStart){var b=a.somethingSelected(),c=e.input.value="​"+(b?e.input.value:"");e.prevInput=b?"":"​",e.input.selectionStart=1,e.input.selectionEnd=c.length,e.selForContextMenu=a.doc.sel}}function d(){if(e.inputDiv.style.position="relative",e.input.style.cssText=i,Me&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=g),jb(a),null!=e.input.selectionStart){(!Pe||Me)&&c();var b=0,d=function(){e.selForContextMenu==a.doc.sel&&0==e.input.selectionStart?Za(a,Df.selectAll)(a):b++<10?e.detectingSelectAll=setTimeout(d,500):mb(a)};e.detectingSelectAll=setTimeout(d,200)}}if(!Ud(a,b,"contextmenu")){var e=a.display;if(!sb(e,b)&&!Qb(a,b)){var f=tb(a,b),g=e.scroller.scrollTop;if(f&&!Te){var h=a.options.resetSelectionOnContextMenu;h&&-1==a.doc.sel.contains(f)&&Za(a,ia)(a.doc,X(f),cg);var i=e.input.style.cssText;if(e.inputDiv.style.position="absolute",e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(Pe?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",nb(a),mb(a),a.somethingSelected()||(e.input.value=e.prevInput=" "),e.selForContextMenu=a.doc.sel,clearTimeout(e.detectingSelectAll),Pe&&!Me&&c(),cf){Xf(b);var j=function(){Zf(window,"mouseup",j),setTimeout(d,20)};Yf(window,"mouseup",j)}else setTimeout(d,50)}}}}function Qb(a,b){return Wd(a,"gutterContextMenu")?yb(a,b,"gutterContextMenu",!1,$f):!1}function Rb(a,b){if(gf(a,b.from)<0)return a;if(gf(a,b.to)<=0)return sf(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=sf(b).ch-b.to.ch),ff(c,d)}function Sb(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new V(Rb(e.anchor,b),Rb(e.head,b)))}return W(c,a.sel.primIndex)}function Tb(a,b,c){return a.line==b.line?ff(c.line,a.ch-b.ch+c.ch):ff(c.line+(a.line-b.line),a.ch)}function Ub(a,b,c){for(var d=[],e=ff(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=Tb(h.from,e,f),j=Tb(sf(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=gf(k.head,k.anchor)<0;d[g]=new V(l?j:i,l?i:j)}else d[g]=new V(i,i)}return new U(d,a.sel.primIndex)}function Vb(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=Z(a,b)),c&&(this.to=Z(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),$f(a,"beforeChange",a,d),a.cm&&$f(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Wb(a,b,c){if(a.cm){if(!a.cm.curOp)return Za(a.cm,Wb)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(Wd(a,"beforeChange")||a.cm&&Wd(a.cm,"beforeChange"))||(b=Vb(a,b,!0))){var d=df&&!c&&Ec(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)Xb(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text});else Xb(a,b)}}function Xb(a,b){if(1!=b.text.length||""!=b.text[0]||0!=gf(b.from,b.to)){var c=Sb(a,b);Ed(a,b,c,a.cm?a.cm.curOp.id:NaN),$b(a,b,c,Bc(a,b));var d=[];qd(a,function(a,c){c||-1!=ae(d,a.history)||(Od(a.history,b),d.push(a.history)),$b(a,b,null,Bc(a,b))})}}function Yb(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d,e=a.history,f=a.sel,g="undo"==b?e.done:e.undone,h="undo"==b?e.undone:e.done,i=0;i<g.length&&(d=g[i],c?!d.ranges||d.equals(a.sel):d.ranges);i++);if(i!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;d=g.pop(),d.ranges;){if(Hd(d,h),c&&!d.equals(a.sel))return void ia(a,d,{clearRedo:!1});f=d}var j=[];Hd(f,h),h.push({changes:j,generation:e.generation}),e.generation=d.generation||++e.maxGeneration;for(var k=Wd(a,"beforeChange")||a.cm&&Wd(a.cm,"beforeChange"),i=d.changes.length-1;i>=0;--i){var l=d.changes[i];if(l.origin=b,k&&!Vb(a,l,!1))return void(g.length=0);j.push(Bd(a,l));var m=i?Sb(a,l,null):_d(g);$b(a,l,m,Dc(a,l)),!i&&a.cm&&a.cm.scrollIntoView(l);var n=[];qd(a,function(a,b){b||-1!=ae(n,a.history)||(Od(a.history,l),n.push(a.history)),$b(a,l,null,Dc(a,l))})}}}}function Zb(a,b){if(0!=b&&(a.first+=b,a.sel=new U(be(a.sel.ranges,function(a){return new V(ff(a.anchor.line+b,a.anchor.ch),ff(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){cb(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)db(a.cm,d,"gutter")}}function $b(a,b,c,d){if(a.cm&&!a.cm.curOp)return Za(a.cm,$b)(a,b,c,d);if(b.to.line<a.first)return void Zb(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Zb(a,e),b={from:ff(a.first,0),to:ff(b.to.line+e,b.to.ch),text:[_d(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:ff(f,sd(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=td(a,b.from,b.to),c||(c=Sb(a,b,null)),a.cm?_b(a.cm,b,d):nd(a,b,d),ja(a,c,cg)}}function _b(a,b,c){var d=a.doc,e=a.display,g=b.from,h=b.to,i=!1,j=g.line;a.options.lineWrapping||(j=wd(Oc(sd(d,g.line))),d.iter(j,h.line+1,function(a){return a==e.maxLine?(i=!0,!0):void 0})),d.sel.contains(b.from,b.to)>-1&&Vd(a),nd(d,b,c,f(a)),a.options.lineWrapping||(d.iter(j,g.line+b.text.length,function(a){var b=m(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,i=!1)}),i&&(a.curOp.updateMaxLine=!0)),d.frontier=Math.min(d.frontier,g.line),sa(a,400);var k=b.text.length-(h.line-g.line)-1;g.line!=h.line||1!=b.text.length||md(a.doc,b)?cb(a,g.line,h.line+1,k):db(a,g.line,"text");var l=Wd(a,"changes"),n=Wd(a,"change");if(n||l){var o={from:g,to:h,text:b.text,removed:b.removed,origin:b.origin};n&&Sd(a,"change",a,o),l&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(o)}a.display.selForContextMenu=null}function ac(a,b,c,d,e){if(d||(d=c),gf(d,c)<0){var f=d;d=c,c=f}"string"==typeof b&&(b=rg(b)),Wb(a,{from:c,to:d,text:b,origin:e})}function bc(a,b){var c=a.display,d=c.sizer.getBoundingClientRect(),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!Xe){var f=ie("div","​",null,"position: absolute; top: "+(b.top-c.viewOffset-wa(a.display))+"px; height: "+(b.bottom-b.top+ag)+"px; left: "+b.left+"px; width: 2px;");a.display.lineSpace.appendChild(f),f.scrollIntoView(e),a.display.lineSpace.removeChild(f)}}function cc(a,b,c,d){for(null==d&&(d=0);;){var e=!1,f=Pa(a,b),g=c&&c!=b?Pa(a,c):f,h=ec(a,Math.min(f.left,g.left),Math.min(f.top,g.top)-d,Math.max(f.left,g.left),Math.max(f.bottom,g.bottom)+d),i=a.doc.scrollTop,j=a.doc.scrollLeft;if(null!=h.scrollTop&&(Cb(a,h.scrollTop),Math.abs(a.doc.scrollTop-i)>1&&(e=!0)),null!=h.scrollLeft&&(Db(a,h.scrollLeft),Math.abs(a.doc.scrollLeft-j)>1&&(e=!0)),!e)return f}}function dc(a,b,c,d,e){var f=ec(a,b,c,d,e);null!=f.scrollTop&&Cb(a,f.scrollTop),null!=f.scrollLeft&&Db(a,f.scrollLeft)}function ec(a,b,c,d,e){var f=a.display,g=Ua(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,i=f.scroller.clientHeight-ag,j={},k=a.doc.height+xa(f),l=g>c,m=e>k-g;if(h>c)j.scrollTop=l?0:c;else if(e>h+i){var n=Math.min(c,(m?k:e)-i);n!=h&&(j.scrollTop=n)}var o=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft,p=f.scroller.clientWidth-ag;b+=f.gutters.offsetWidth,d+=f.gutters.offsetWidth;var q=f.gutters.offsetWidth,r=q+10>b;return o+q>b||r?(r&&(b=0),j.scrollLeft=Math.max(0,b-10-q)):d>p+o-3&&(j.scrollLeft=d+10-p),j}function fc(a,b,c){(null!=b||null!=c)&&hc(a),null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b),null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function gc(a){hc(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?ff(b.line,b.ch-1):b,d=ff(b.line,b.ch+1)),a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function hc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=Qa(a,b.from),d=Qa(a,b.to),e=ec(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(e.scrollLeft,e.scrollTop)}}function ic(a,b,c,d){var e,f=a.doc;null==c&&(c="add"),"smart"==c&&(a.doc.mode.indent?e=va(a,b):c="prev");var g=a.options.tabSize,h=sd(f,b),i=fg(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(j=a.doc.mode.indent(e,h.text.slice(k.length),h.text),j==bg)){if(!d)return;c="prev"}}else j=0,c="not";"prev"==c?j=b>f.first?fg(sd(f,b-1).text,null,g):0:"add"==c?j=i+a.options.indentUnit:"subtract"==c?j=i-a.options.indentUnit:"number"==typeof c&&(j=i+c),j=Math.max(0,j);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(j/g);n;--n)m+=g,l+="	";if(j>m&&(l+=$d(j-m)),l!=k)ac(a.doc,l,ff(b,0),ff(b,k.length),"+input");else for(var n=0;n<f.sel.ranges.length;n++){var o=f.sel.ranges[n];if(o.head.line==b&&o.head.ch<k.length){var m=ff(b,k.length);ea(f,n,new V(m,m));break}}h.stateAfter=null}function jc(a,b,c,d){var e=b,f=b,g=a.doc;return"number"==typeof b?f=sd(g,Y(g,b)):e=wd(b),null==e?null:(d(f,e)&&db(a,e,c),f)}function kc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&gf(f.from,_d(d).to)<=0;){var g=d.pop();if(gf(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}Ya(a,function(){for(var b=d.length-1;b>=0;b--)ac(a.doc,"",d[b].from,d[b].to,"+delete");gc(a)})}function lc(a,b,c,d,e){function f(){var b=h+c;return b<a.first||b>=a.first+a.size?l=!1:(h=b,k=sd(a,b))}function g(a){var b=(e?He:Ie)(k,i,c,!0);if(null==b){if(a||!f())return l=!1;i=e?(0>c?Be:Ae)(k):0>c?k.text.length:0}else i=b;return!0}var h=b.line,i=b.ch,j=c,k=sd(a,h),l=!0;if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(0>c)||g(!p);p=!1){var q=k.text.charAt(i)||"\n",r=fe(q,o)?"w":n&&"\n"==q?"n":!n||/\s/.test(q)?null:"p";if(!n||p||r||(r="s"),m&&m!=r){0>c&&(c=1,g());break}if(r&&(m=r),c>0&&!g(!p))break}var s=na(a,ff(h,i),j,!0);return l||(s.hitSide=!0),s}function mc(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(0>c?1.5:.5)*Ua(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=Sa(a,g,e);if(!i.outside)break;if(0>c?0>=e:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}function nc(a,b){var c=a.doc,d=sd(c,b.line).text,e=b.ch,f=b.ch;if(d){var g=a.getHelper(b,"wordChars");(b.xRel<0||f==d.length)&&e?--e:++f;for(var h=d.charAt(e),i=fe(h,g)?function(a){return fe(a,g)}:/\s/.test(h)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!fe(a)};e>0&&i(d.charAt(e-1));)--e;for(;f<d.length&&i(d.charAt(f));)++f}return new V(ff(b.line,e),ff(b.line,f))}function oc(b,c,d,e){a.defaults[b]=c,d&&(uf[b]=e?function(a,b,c){c!=vf&&d(a,b,c)}:d)}function pc(a){return"string"==typeof a?Ef[a]:a}function qc(a,b,c,d,e){if(d&&d.shared)return rc(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Za(a.cm,qc)(a,b,c,d,e);var f=new Jf(a,e),g=gf(b,c);if(d&&de(d,f,!1),g>0||0==g&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=ie("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),d.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(Nc(a,b.line,b,c,f)||b.line!=c.line&&Nc(a,c.line,b,c,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");ef=!0}f.addToHistory&&Ed(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h,i=b.line,j=a.cm;if(a.iter(i,c.line+1,function(a){j&&f.collapsed&&!j.options.lineWrapping&&Oc(a)==j.display.maxLine&&(h=!0),f.collapsed&&i!=b.line&&vd(a,0),yc(a,new vc(f,i==b.line?b.ch:null,i==c.line?c.ch:null)),++i}),f.collapsed&&a.iter(b.line,c.line+1,function(b){Sc(a,b)&&vd(b,0)}),f.clearOnEnter&&Yf(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(df=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed&&(f.id=++Kf,f.atomic=!0),j){if(h&&(j.curOp.updateMaxLine=!0),f.collapsed)cb(j,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle)for(var k=b.line;k<=c.line;k++)db(j,k,"text");f.atomic&&la(j.doc),Sd(j,"markerAdded",j,f)}return f}function rc(a,b,c,d,e){d=de(d),d.shared=!1;var f=[qc(a,b,c,d,e)],g=f[0],h=d.widgetNode;return qd(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(qc(a,Z(a,b),Z(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=_d(f)}),new Lf(f,g)}function sc(a){return a.findMarks(ff(a.first,0),a.clipPos(ff(a.lastLine())),function(a){return a.parent})}function tc(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(gf(f,g)){var h=qc(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function uc(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];qd(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==ae(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function vc(a,b,c){this.marker=a,this.from=b,this.to=c}function wc(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function xc(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function yc(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function zc(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push(new vc(g,f.from,i?null:f.to))}}return d}function Ac(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push(new vc(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function Bc(a,b){var c=_(a,b.from.line)&&sd(a,b.from.line).markedSpans,d=_(a,b.to.line)&&sd(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==gf(b.from,b.to),h=zc(c,e,g),i=Ac(d,f,g),j=1==b.text.length,k=_d(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=wc(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=wc(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}h&&(h=Cc(h)),i&&i!=h&&(i=Cc(i));var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push(new vc(h[l].marker,null,null));for(var l=0;q>l;++l)o.push(p);o.push(i)}return o}function Cc(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function Dc(a,b){var c=Kd(a,b),d=Bc(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function Ec(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=ae(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(gf(j.to,h.from)<0||gf(j.from,h.to)>0)){var k=[i,1],l=gf(j.from,h.from),m=gf(j.to,h.to);(0>l||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(m>0||!g.inclusiveRight&&!m)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function Fc(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Gc(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Hc(a){return a.inclusiveLeft?-1:0}function Ic(a){return a.inclusiveRight?1:0}function Jc(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=gf(d.from,e.from)||Hc(a)-Hc(b);if(f)return-f;var g=gf(d.to,e.to)||Ic(a)-Ic(b);return g?g:b.id-a.id}function Kc(a,b){var c,d=ef&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||Jc(c,e.marker)<0)&&(c=e.marker);return c}function Lc(a){return Kc(a,!0)}function Mc(a){return Kc(a,!1)}function Nc(a,b,c,d,e){var f=sd(a,b),g=ef&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=gf(j.from,c)||Hc(i.marker)-Hc(e),l=gf(j.to,d)||Ic(i.marker)-Ic(e);if(!(k>=0&&0>=l||0>=k&&l>=0)&&(0>=k&&(gf(j.to,c)||Ic(i.marker)-Hc(e))>0||k>=0&&(gf(j.from,d)||Hc(i.marker)-Ic(e))<0))return!0}}}function Oc(a){for(var b;b=Lc(a);)a=b.find(-1,!0).line;return a}function Pc(a){for(var b,c;b=Mc(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function Qc(a,b){var c=sd(a,b),d=Oc(c);return c==d?b:wd(d)}function Rc(a,b){if(b>a.lastLine())return b;var c,d=sd(a,b);if(!Sc(a,d))return b;for(;c=Mc(d);)d=c.find(1,!0).line;return wd(d)+1}function Sc(a,b){var c=ef&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Tc(a,b,d))return!0}}function Tc(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return Tc(a,d.line,wc(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&Tc(a,b,e))return!0}function Uc(a,b,c){yd(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&fc(a,null,c)}function Vc(a){return null!=a.height?a.height:(le(document.body,a.node)||ke(a.cm.display.measure,ie("div",[a.node],null,"position: relative")),a.height=a.node.offsetHeight)}function Wc(a,b,c,d){var e=new Mf(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),jc(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,!Sc(a.doc,b)){var d=yd(b)<a.doc.scrollTop;vd(b,b.height+Vc(e)),d&&fc(a,null,e.height),a.curOp.forceUpdate=!0}return!0}),e}function Xc(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Fc(a),Gc(a,c);var e=d?d(a):1;e!=a.height&&vd(a,e)}function Yc(a){a.parent=null,Fc(a)}function Zc(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function $c(b,c){if(b.blankLine)return b.blankLine(c);if(b.innerMode){var d=a.innerMode(b,c);return d.mode.blankLine?d.mode.blankLine(d.state):void 0}}function _c(a,b,c){for(var d=0;10>d;d++){var e=a.token(b,c);if(b.pos>b.start)return e}throw new Error("Mode "+a.name+" failed to advance stream.")}function ad(b,c,d,e,f,g,h){var i=d.flattenSpans;null==i&&(i=b.options.flattenSpans);var j,k=0,l=null,m=new If(c,b.options.tabSize);for(""==c&&Zc($c(d,e),g);!m.eol();){
if(m.pos>b.options.maxHighlightLength?(i=!1,h&&dd(b,c,e,m.pos),m.pos=c.length,j=null):j=Zc(_c(d,m,e),g),b.options.addModeClass){var n=a.innerMode(d,e).mode.name;n&&(j="m-"+(j?n+" "+j:n))}i&&l==j||(k<m.start&&f(m.start,l),k=m.start,l=j),m.start=m.pos}for(;k<m.pos;){var o=Math.min(m.pos,k+5e4);f(o,l),k=o}}function bd(a,b,c,d){var e=[a.state.modeGen],f={};ad(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(var g=0;g<a.state.overlays.length;++g){var h=a.state.overlays[g],i=1,j=0;ad(a,b.text,h.mode,!0,function(a,b){for(var c=i;a>j;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"cm-overlay "+b),i=c+2;else for(;i>c;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"cm-overlay "+b}},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function cd(a,b){if(!b.styles||b.styles[0]!=a.state.modeGen){var c=bd(a,b,b.stateAfter=va(a,wd(b)));b.styles=c.styles,c.classes?b.styleClasses=c.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}function dd(a,b,c,d){var e=a.doc.mode,f=new If(b,a.options.tabSize);for(f.start=f.pos=d||0,""==b&&$c(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)_c(e,f,c),f.start=f.pos}function ed(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?Pf:Of;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function fd(a,b){var c=ie("span",null,null,Qe?"padding-right: .1px":null),d={pre:ie("pre",[c]),content:c,col:0,pos:0,cm:a};b.measure={};for(var e=0;e<=(b.rest?b.rest.length:0);e++){var f,g=e?b.rest[e-1]:b.line;d.pos=0,d.addToken=hd,(Pe||Qe)&&a.getOption("lineWrapping")&&(d.addToken=id(d.addToken)),we(a.display.measure)&&(f=zd(g))&&(d.addToken=jd(d.addToken,f)),d.map=[],ld(g,d,cd(a,g)),g.styleClasses&&(g.styleClasses.bgClass&&(d.bgClass=qe(g.styleClasses.bgClass,d.bgClass||"")),g.styleClasses.textClass&&(d.textClass=qe(g.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(ve(a.display.measure))),0==e?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}return $f(a,"renderLine",a,b.line,d.pre),d.pre.className&&(d.textClass=qe(d.pre.className,d.textClass||"")),d}function gd(a){var b=ie("span","•","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b}function hd(a,b,c,d,e,f){if(b){var g=a.cm.options.specialChars,h=!1;if(g.test(b))for(var i=document.createDocumentFragment(),j=0;;){g.lastIndex=j;var k=g.exec(b),l=k?k.index-j:b.length-j;if(l){var m=document.createTextNode(b.slice(j,j+l));Me?i.appendChild(ie("span",[m])):i.appendChild(m),a.map.push(a.pos,a.pos+l,m),a.col+=l,a.pos+=l}if(!k)break;if(j+=l+1,"	"==k[0]){var n=a.cm.options.tabSize,o=n-a.col%n,m=i.appendChild(ie("span",$d(o),"cm-tab"));a.col+=o}else{var m=a.cm.options.specialCharPlaceholder(k[0]);Me?i.appendChild(ie("span",[m])):i.appendChild(m),a.col+=1}a.map.push(a.pos,a.pos+1,m),a.pos++}else{a.col+=b.length;var i=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,i),Me&&(h=!0),a.pos+=b.length}if(c||d||e||h){var p=c||"";d&&(p+=d),e&&(p+=e);var q=ie("span",[i],p);return f&&(q.title=f),a.content.appendChild(q)}a.content.appendChild(i)}}function id(a){function b(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":" ";return b+=" "}return function(c,d,e,f,g,h){a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function jd(a,b){return function(c,d,e,f,g,h){e=e?e+" cm-force-border":"cm-force-border";for(var i=c.pos,j=i+d.length;;){for(var k=0;k<b.length;k++){var l=b[k];if(l.to>i&&l.from<=i)break}if(l.to>=j)return a(c,d,e,f,g,h);a(c,d.slice(0,l.to-i),e,f,null,h),f=null,d=d.slice(l.to-i),i=l.to}}}function kd(a,b,c,d){var e=!d&&c.widgetNode;e&&(a.map.push(a.pos,a.pos+b,e),a.content.appendChild(e)),a.pos+=b}function ld(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m=e.length,n=0,o=1,p="",q=0;;){if(q==n){h=i=j=k="",l=null,q=1/0;for(var r=[],s=0;s<d.length;++s){var t=d[s],u=t.marker;t.from<=n&&(null==t.to||t.to>n)?(null!=t.to&&q>t.to&&(q=t.to,i=""),u.className&&(h+=" "+u.className),u.startStyle&&t.from==n&&(j+=" "+u.startStyle),u.endStyle&&t.to==q&&(i+=" "+u.endStyle),u.title&&!k&&(k=u.title),u.collapsed&&(!l||Jc(l.marker,u)<0)&&(l=t)):t.from>n&&q>t.from&&(q=t.from),"bookmark"==u.type&&t.from==n&&u.widgetNode&&r.push(u)}if(l&&(l.from||0)==n&&(kd(b,(null==l.to?m+1:l.to)-n,l.marker,null==l.from),null==l.to))return;if(!l&&r.length)for(var s=0;s<r.length;++s)kd(b,0,r[s])}if(n>=m)break;for(var v=Math.min(m,q);;){if(p){var w=n+p.length;if(!l){var x=w>v?p.slice(0,v-n):p;b.addToken(b,x,g?g+h:h,j,n+x.length==q?i:"",k)}if(w>=v){p=p.slice(v-n),n=v;break}n=w,j=""}p=e.slice(f,f=c[o++]),g=ed(c[o++],b.cm.options)}}else for(var o=1;o<c.length;o+=2)b.addToken(b,e.slice(f,f=c[o]),ed(c[o+1],b.cm.options))}function md(a,b){return 0==b.from.ch&&0==b.to.ch&&""==_d(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function nd(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){Xc(a,c,e,d),Sd(a,"change",a,b)}var g=b.from,h=b.to,i=b.text,j=sd(a,g.line),k=sd(a,h.line),l=_d(i),m=e(i.length-1),n=h.line-g.line;if(md(a,b)){for(var o=0,p=[];o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));f(k,k.text,m),n&&a.remove(g.line,n),p.length&&a.insert(g.line,p)}else if(j==k)if(1==i.length)f(j,j.text.slice(0,g.ch)+l+j.text.slice(h.ch),m);else{for(var p=[],o=1;o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));p.push(new Nf(l+j.text.slice(h.ch),m,d)),f(j,j.text.slice(0,g.ch)+i[0],e(0)),a.insert(g.line+1,p)}else if(1==i.length)f(j,j.text.slice(0,g.ch)+i[0]+k.text.slice(h.ch),e(0)),a.remove(g.line+1,n);else{f(j,j.text.slice(0,g.ch)+i[0],e(0)),f(k,l+k.text.slice(h.ch),m);for(var o=1,p=[];o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));n>1&&a.remove(g.line+1,n-1),a.insert(g.line+1,p)}Sd(a,"change",a,b)}function od(a){this.lines=a,this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function pd(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize(),c+=e.height,e.parent=this}this.size=b,this.height=c,this.parent=null}function qd(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function rd(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,g(a),c(a),a.options.lineWrapping||n(a),a.options.mode=b.modeOption,cb(a)}function sd(a,b){if(b-=a.first,0>b||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(f>b){c=e;break}b-=f}return c.lines[b]}function td(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function ud(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function vd(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function wd(a){if(null==a.parent)return null;for(var b=a.parent,c=ae(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function xd(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(f>b){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var d=0;d<a.lines.length;++d){var g=a.lines[d],h=g.height;if(h>b)break;b-=h}return c+d}function yd(a){a=Oc(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var d=0;d<f.children.length;++d){var g=f.children[d];if(g==c)break;b+=g.height}return b}function zd(a){var b=a.order;return null==b&&(b=a.order=wg(a.text)),b}function Ad(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function Bd(a,b){var c={from:R(b.from),to:sf(b),text:td(a,b.from,b.to)};return Id(a,c,b.from.line,b.to.line+1),qd(a,function(a){Id(a,c,b.from.line,b.to.line+1)},!0),c}function Cd(a){for(;a.length;){var b=_d(a);if(!b.ranges)break;a.pop()}}function Dd(a,b){return b?(Cd(a.done),_d(a.done)):a.done.length&&!_d(a.done).ranges?_d(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),_d(a.done)):void 0}function Ed(a,b,c,d){var e=a.history;e.undone.length=0;var f,g=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>g-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))&&(f=Dd(e,e.lastOp==d))){var h=_d(f.changes);0==gf(b.from,b.to)&&0==gf(b.from,h.to)?h.to=sf(b):f.changes.push(Bd(a,b))}else{var i=_d(e.done);for(i&&i.ranges||Hd(a.sel,e.done),f={changes:[Bd(a,b)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=g,e.lastOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,h||$f(a,"historyAdded")}function Fd(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function Gd(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||Fd(a,f,_d(e.done),b))?e.done[e.done.length-1]=b:Hd(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastOp=c,d&&d.clearRedo!==!1&&Cd(e.undone)}function Hd(a,b){var c=_d(b);c&&c.ranges&&c.equals(a)||b.push(a)}function Id(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function Jd(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function Kd(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(Jd(c[d]));return e}function Ld(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?U.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];e.push({changes:h});for(var i=0;i<g.length;++i){var j,k=g[i];if(h.push({from:k.from,to:k.to,text:k.text}),b)for(var l in k)(j=l.match(/^spans_(\d+)$/))&&ae(b,Number(j[1]))>-1&&(_d(h)[l]=k[l],delete k[l])}}}return e}function Md(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Nd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)Md(f.ranges[h].anchor,b,c,d),Md(f.ranges[h].head,b,c,d)}else{for(var h=0;h<f.changes.length;++h){var i=f.changes[h];if(c<i.from.line)i.from=ff(i.from.line+d,i.from.ch),i.to=ff(i.to.line+d,i.to.ch);else if(b<=i.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Od(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Nd(a.done,c,d,e),Nd(a.undone,c,d,e)}function Pd(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Qd(a){return a.target||a.srcElement}function Rd(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),$e&&a.ctrlKey&&1==b&&(b=3),b}function Sd(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2);Uf||(++_f,Uf=[],setTimeout(Td,0));for(var f=0;f<d.length;++f)Uf.push(c(d[f]))}}function Td(){--_f;var a=Uf;Uf=null;for(var b=0;b<a.length;++b)a[b]()}function Ud(a,b,c){return $f(a,c||b.type,a,b),Pd(b)||b.codemirrorIgnore}function Vd(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==ae(c,b[d])&&c.push(b[d])}function Wd(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function Xd(a){a.prototype.on=function(a,b){Yf(this,a,b)},a.prototype.off=function(a,b){Zf(this,a,b)}}function Yd(){this.id=null}function Zd(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("	",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}}function $d(a){for(;gg.length<=a;)gg.push(_d(gg)+" ");return gg[a]}function _d(a){return a[a.length-1]}function ae(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function be(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function ce(a,b){var c;if(Object.create)c=Object.create(a);else{var d=function(){};d.prototype=a,c=new d}return b&&de(b,c),c}function de(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function ee(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function fe(a,b){return b?b.source.indexOf("\\w")>-1&&kg(a)?!0:b.test(a):kg(a)}function ge(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function he(a){return a.charCodeAt(0)>=768&&lg.test(a)}function ie(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function je(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function ke(a,b){return je(a).appendChild(b)}function le(a,b){if(a.contains)return a.contains(b);for(;b=b.parentNode;)if(b==a)return!0}function me(){return document.activeElement}function ne(a){return new RegExp("\\b"+a+"\\b\\s*")}function oe(a,b){var c=ne(b);c.test(a.className)&&(a.className=a.className.replace(c,""))}function pe(a,b){ne(b).test(a.className)||(a.className+=" "+b)}function qe(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!ne(c[d]).test(b)&&(b+=" "+c[d]);return b}function re(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function se(){pg||(te(),pg=!0)}function te(){var a;Yf(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,mg=null,re(rb)},100))}),Yf(window,"blur",function(){re(Ob)})}function ue(a){if(null!=mg)return mg;var b=ie("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ke(a,b),b.offsetWidth&&(mg=b.offsetHeight-b.clientHeight),mg||0}function ve(a){if(null==ng){var b=ie("span","​");ke(a,ie("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(ng=b.offsetWidth<=1&&b.offsetHeight>2&&!Le)}return ng?ie("span","​"):ie("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function we(a){if(null!=og)return og;var b=ke(a,document.createTextNode("AخA")),c=ig(b,0,1).getBoundingClientRect();if(c.left==c.right)return!1;var d=ig(b,1,2).getBoundingClientRect();return og=d.right-c.right<3}function xe(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function ye(a){return a.level%2?a.to:a.from}function ze(a){return a.level%2?a.from:a.to}function Ae(a){var b=zd(a);return b?ye(b[0]):0}function Be(a){var b=zd(a);return b?ze(_d(b)):a.text.length}function Ce(a,b){var c=sd(a.doc,b),d=Oc(c);d!=c&&(b=wd(d));var e=zd(d),f=e?e[0].level%2?Be(d):Ae(d):0;return ff(b,f)}function De(a,b){for(var c,d=sd(a.doc,b);c=Mc(d);)d=c.find(1,!0).line,b=null;var e=zd(d),f=e?e[0].level%2?Ae(d):Be(d):d.text.length;return ff(null==b?wd(d):b,f)}function Ee(a,b,c){var d=a[0].level;return b==d?!0:c==d?!1:c>b}function Fe(a,b){vg=null;for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return d;if(e.from==b||e.to==b){if(null!=c)return Ee(a,e.level,a[c].level)?(e.from!=e.to&&(vg=c),d):(e.from!=e.to&&(vg=d),c);c=d}}return c}function Ge(a,b,c,d){if(!d)return b+c;do b+=c;while(b>0&&he(a.text.charAt(b)));return b}function He(a,b,c,d){var e=zd(a);if(!e)return Ie(a,b,c,d);for(var f=Fe(e,b),g=e[f],h=Ge(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return Fe(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(g=e[f+=c],!g)return null;h=c>0==g.level%2?Ge(a,g.to,-1,d):Ge(a,g.from,1,d)}}function Ie(a,b,c,d){var e=b+c;if(d)for(;e>0&&he(a.text.charAt(e));)e+=c;return 0>e||e>a.text.length?null:e}var Je=/gecko\/\d/i.test(navigator.userAgent),Ke=/MSIE \d/.test(navigator.userAgent),Le=Ke&&(null==document.documentMode||document.documentMode<8),Me=Ke&&(null==document.documentMode||document.documentMode<9),Ne=Ke&&(null==document.documentMode||document.documentMode<10),Oe=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Pe=Ke||Oe,Qe=/WebKit\//.test(navigator.userAgent),Re=Qe&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Se=/Chrome\//.test(navigator.userAgent),Te=/Opera\//.test(navigator.userAgent),Ue=/Apple Computer/.test(navigator.vendor),Ve=/KHTML\//.test(navigator.userAgent),We=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Xe=/PhantomJS/.test(navigator.userAgent),Ye=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ze=Ye||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),$e=Ye||/Mac/.test(navigator.platform),_e=/win/i.test(navigator.platform),af=Te&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);af&&(af=Number(af[1])),af&&af>=15&&(Te=!1,Qe=!0);var bf=$e&&(Re||Te&&(null==af||12.11>af)),cf=Je||Pe&&!Me,df=!1,ef=!1,ff=a.Pos=function(a,b){return this instanceof ff?(this.line=a,void(this.ch=b)):new ff(a,b)},gf=a.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};U.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=gf(c.anchor,d.anchor)||0!=gf(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new V(R(this.ranges[b].anchor),R(this.ranges[b].head));return new U(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(gf(b,d.from())>=0&&gf(a,d.to())<=0)return c}return-1}},V.prototype={from:function(){return T(this.anchor,this.head)},to:function(){return S(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var hf,jf,kf,lf={left:0,right:0,top:0,bottom:0},mf=0,nf=0,of=0,pf=null;Pe?pf=-.53:Je?pf=15:Se?pf=-.7:Ue&&(pf=-1/3);var qf,rf=null,sf=a.changeEnd=function(a){return a.text?ff(a.from.line+a.text.length-1,_d(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};a.prototype={constructor:a,focus:function(){window.focus(),nb(this),kb(this)},setOption:function(a,b){var c=this.options,d=c[a];(c[a]!=b||"mode"==a)&&(c[a]=b,uf.hasOwnProperty(a)&&Za(this,uf[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:$a(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:b,opaque:c&&c.opaque}),this.state.modeGen++,cb(this)}),removeOverlay:$a(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void cb(this)}}),indentLine:$a(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),_(this.doc,a)&&ic(this,a,b,c)}),indentSelection:$a(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(ic(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&gc(this));else{var f=Math.max(c,e.from().line),g=e.to();c=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var h=f;c>h;++h)ic(this,h,a)}}}),getTokenAt:function(a,b){var c=this.doc;a=Z(c,a);for(var d=va(this,a.line,b),e=this.doc.mode,f=sd(c,a.line),g=new If(f.text,this.options.tabSize);g.pos<a.ch&&!g.eol();){g.start=g.pos;var h=_c(e,g,d)}return{start:g.start,end:g.pos,string:g.current(),type:h||null,state:d}},getTokenTypeAt:function(a){a=Z(this.doc,a);var b,c=cd(this,sd(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e>>1;if((g?c[2*g-1]:0)>=f)e=g;else{if(!(c[2*g+1]<f)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf("cm-overlay "):-1;return 0>h?b:0==h?null:b.slice(0,h-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Af.hasOwnProperty(b))return Af;var d=Af[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(var f=0;f<d._global.length;f++){var h=d._global[f];h.pred(e,this)&&-1==ae(c,h.val)&&c.push(h.val)}return c},getStateAfter:function(a,b){var c=this.doc;return a=Y(c,null==a?c.first+c.size-1:a),va(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?Z(this.doc,a):a?d.from():d.to(),Pa(this,c,b||"page")},charCoords:function(a,b){return Oa(this,Z(this.doc,a),b||"page")},coordsChar:function(a,b){return a=Na(this,a,b||"page"),Sa(this,a.left,a.top)},lineAtHeight:function(a,b){return a=Na(this,{top:a,left:0},b||"page").top,xd(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=sd(this.doc,a);return Ma(this,e,{top:0,left:0},b||"page").top+(c?this.doc.height-yd(e):0)},defaultTextHeight:function(){return Ua(this.display)},defaultCharWidth:function(){return Va(this.display)},setGutterMarker:$a(function(a,b,c){return jc(this,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&ge(d)&&(a.gutterMarkers=null),!0})}),clearGutter:$a(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,db(b,d,"gutter"),ge(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineClass:$a(function(a,b,c){return jc(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(new RegExp("(?:^|\\s)"+c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:$a(function(a,b,c){return jc(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:$a(function(a,b,c){return Wc(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!_(this.doc,a))return null;var b=a;if(a=sd(this.doc,a),!a)return null}else{var b=wd(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=Pa(this,Z(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&dc(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:$a(Jb),triggerOnKeyPress:$a(Mb),triggerOnKeyUp:$a(Lb),execCommand:function(a){return Df.hasOwnProperty(a)?Df[a](this):void 0},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);for(var f=0,g=Z(this.doc,a);b>f&&(g=lc(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:$a(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?lc(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},eg)}),deleteH:$a(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):kc(this,function(c){var e=lc(d,c.head,a,b,!1);return 0>a?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=1,f=d;0>b&&(e=-1,b=-b);for(var g=0,h=Z(this.doc,a);b>g;++g){var i=Pa(this,h,"div");if(null==f?f=i.left:i.left=f,h=mc(this,i,e,c),h.hitSide)break}return h},moveV:$a(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=Pa(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=mc(c,h,a,b);return"page"==b&&g==d.sel.primary()&&fc(c,null,Oa(c,i,"div").top-h.top),i},eg),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?pe(this.display.cursorDiv,"CodeMirror-overwrite"):oe(this.display.cursorDiv,"CodeMirror-overwrite"),$f(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return me()==this.display.input},scrollTo:$a(function(a,b){(null!=a||null!=b)&&hc(this),null!=a&&(this.curOp.scrollLeft=a),null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=ag;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:$a(function(a,b){if(null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:ff(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line)hc(this),this.curOp.scrollToPos=a;else{var c=ec(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:$a(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.wrapper.style.width=c(a)),null!=b&&(this.display.wrapper.style.height=c(b)),this.options.lineWrapping&&Ia(this),this.curOp.forceUpdate=!0,$f(this,"refresh",this)}),operation:function(a){return Ya(this,a)},refresh:$a(function(){var a=this.display.cachedTextHeight;cb(this),this.curOp.forceUpdate=!0,Ja(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),l(this),(null==a||Math.abs(a-Ua(this.display))>.5)&&g(this),$f(this,"refresh",this)}),swapDoc:$a(function(a){var b=this.doc;return b.cm=null,rd(this,a),Ja(this),mb(this),this.scrollTo(a.scrollLeft,a.scrollTop),Sd(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xd(a);var tf=a.defaults={},uf=a.optionHandlers={},vf=a.Init={toString:function(){return"CodeMirror.Init"}};oc("value","",function(a,b){a.setValue(b)},!0),oc("mode",null,function(a,b){a.doc.modeOption=b,c(a)},!0),oc("indentUnit",2,c,!0),oc("indentWithTabs",!1),oc("smartIndent",!0),oc("tabSize",4,function(a){d(a),Ja(a),cb(a)},!0),oc("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(a,b){a.options.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),a.refresh()},!0),oc("specialCharPlaceholder",gd,function(a){a.refresh()},!0),oc("electricChars",!0),oc("rtlMoveVisually",!_e),oc("wholeLineUpdateBefore",!0),oc("theme","default",function(a){i(a),j(a)},!0),oc("keyMap","default",h),oc("extraKeys",null),oc("lineWrapping",!1,e,!0),oc("gutters",[],function(a){o(a.options),j(a)},!0),oc("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?v(a.display)+"px":"0",a.refresh()},!0),oc("coverGutterNextToScrollbar",!1,q,!0),oc("lineNumbers",!1,function(a){o(a.options),j(a)},!0),oc("firstLineNumber",1,j,!0),oc("lineNumberFormatter",function(a){return a},j,!0),oc("showCursorWhenSelecting",!1,oa,!0),oc("resetSelectionOnContextMenu",!0),oc("readOnly",!1,function(a,b){"nocursor"==b?(Ob(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||mb(a))}),oc("disableInput",!1,function(a,b){b||mb(a)},!0),oc("dragDrop",!0),oc("cursorBlinkRate",530),oc("cursorScrollMargin",0),oc("cursorHeight",1),oc("workTime",100),oc("workDelay",100),oc("flattenSpans",!0,d,!0),oc("addModeClass",!1,d,!0),oc("pollInterval",100),oc("undoDepth",200,function(a,b){a.doc.history.undoDepth=b}),oc("historyEventDelay",1250),oc("viewportMargin",10,function(a){a.refresh()},!0),oc("maxHighlightLength",1e4,d,!0),oc("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)}),oc("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),oc("autofocus",null);var wf=a.modes={},xf=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;d<arguments.length;++d)c.dependencies.push(arguments[d])}wf[b]=c},a.defineMIME=function(a,b){xf[a]=b},a.resolveMode=function(b){if("string"==typeof b&&xf.hasOwnProperty(b))b=xf[b];else if(b&&"string"==typeof b.name&&xf.hasOwnProperty(b.name)){var c=xf[b.name];"string"==typeof c&&(c={name:c}),b=ce(c,b),b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=wf[c.name];if(!d)return a.getMode(b,"text/plain");var e=d(b,c);if(yf.hasOwnProperty(c.name)){var f=yf[c.name];for(var g in f)f.hasOwnProperty(g)&&(e.hasOwnProperty(g)&&(e["_"+g]=e[g]),e[g]=f[g])}if(e.name=c.name,c.helperType&&(e.helperType=c.helperType),c.modeProps)for(var g in c.modeProps)e[g]=c.modeProps[g];return e},a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var yf=a.modeExtensions={};a.extendMode=function(a,b){var c=yf.hasOwnProperty(a)?yf[a]:yf[a]={};de(b,c)},a.defineExtension=function(b,c){a.prototype[b]=c},a.defineDocExtension=function(a,b){Rf.prototype[a]=b},a.defineOption=oc;var zf=[];a.defineInitHook=function(a){zf.push(a)};var Af=a.helpers={};a.registerHelper=function(b,c,d){Af.hasOwnProperty(b)||(Af[b]=a[b]={_global:[]}),Af[b][c]=d},a.registerGlobalHelper=function(b,c,d,e){a.registerHelper(b,c,e),Af[b]._global.push({pred:d,val:e})};var Bf=a.copyState=function(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c},Cf=a.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var Df=a.commands={selectAll:function(a){a.setSelection(ff(a.firstLine(),0),ff(a.lastLine()),cg)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),cg)},killLine:function(a){kc(a,function(b){if(b.empty()){var c=sd(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{
from:b.head,to:ff(b.head.line+1,0)}:{from:b.head,to:ff(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){kc(a,function(b){return{from:ff(b.from().line,0),to:Z(a.doc,ff(b.to().line+1,0))}})},delLineLeft:function(a){kc(a,function(a){return{from:ff(a.from().line,0),to:a.from()}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(ff(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(ff(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Ce(a,b.head.line)},eg)},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){var c=Ce(a,b.head.line),d=a.getLineHandle(c.line),e=zd(d);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.head.line==c.line&&b.head.ch<=f&&b.head.ch;return ff(c.line,g?0:f)}return c},eg)},goLineEnd:function(a){a.extendSelectionsBy(function(b){return De(a,b.head.line)},eg)},goLineRight:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},eg)},goLineLeft:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},eg)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=fg(a.getLine(f.line),f.ch,d);b.push(new Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Ya(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=sd(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new ff(e.line,e.ch-1)),e.ch>0)e=new ff(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),ff(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=sd(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+"\n"+g.charAt(g.length-1),ff(e.line-1,g.length-1),ff(e.line,1),"+transpose")}c.push(new V(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Ya(a,function(){for(var b=a.listSelections().length,c=0;b>c;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input"),a.indentLine(d.from().line+1,null,!0),gc(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},Ef=a.keyMap={};Ef.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ef.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ef.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Ef.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Ef["default"]=$e?Ef.macDefault:Ef.pcDefault;var Ff=a.lookupKey=function(a,b,c){function d(b){b=pc(b);var e=b[a];if(e===!1)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(null==f)return!1;if("[object Array]"!=Object.prototype.toString.call(f))return d(f);for(var g=0;g<f.length;++g){var h=d(f[g]);if(h)return h}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},Gf=a.isModifierKey=function(a){var b=ug[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b},Hf=a.keyName=function(a,b){if(Te&&34==a.keyCode&&a["char"])return!1;var c=ug[a.keyCode];return null==c||a.altGraphKey?!1:(a.altKey&&(c="Alt-"+c),(bf?a.metaKey:a.ctrlKey)&&(c="Ctrl-"+c),(bf?a.ctrlKey:a.metaKey)&&(c="Cmd-"+c),!b&&a.shiftKey&&(c="Shift-"+c),c)};a.fromTextArea=function(b,c){function d(){b.value=j.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder),null==c.autofocus){var e=me();c.autofocus=e==b||null!=b.getAttribute("autofocus")&&e==document.body}if(b.form&&(Yf(b.form,"submit",d),!c.leaveSubmitMethodAlone)){var f=b.form,g=f.submit;try{var h=f.submit=function(){d(),f.submit=g,f.submit(),f.submit=h}}catch(i){}}b.style.display="none";var j=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return j.save=d,j.getTextArea=function(){return b},j.toTextArea=function(){d(),b.parentNode.removeChild(j.getWrapperElement()),b.style.display="",b.form&&(Zf(b.form,"submit",d),"function"==typeof b.form.submit&&(b.form.submit=g))},j};var If=a.StringStream=function(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};If.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=fg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?fg(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return fg(this.string,null,this.tabSize)-(this.lineStart?fg(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);return e(f)==e(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Jf=a.TextMarker=function(a,b){this.lines=[],this.type=b,this.doc=a};Xd(Jf),Jf.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&Wa(a),Wd(this,"clear")){var c=this.find();c&&Sd(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=wc(g.markedSpans,this);a&&!this.collapsed?db(a,wd(g),"text"):a&&(null!=h.to&&(e=wd(g)),null!=h.from&&(d=wd(g))),g.markedSpans=xc(g.markedSpans,h),null==h.from&&this.collapsed&&!Sc(this.doc,g)&&a&&vd(g,Ua(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=Oc(this.lines[f]),j=m(i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&this.collapsed&&cb(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&la(a.doc)),a&&Sd(a,"markerCleared",a,this),b&&Xa(a),this.parent&&this.parent.clear()}},Jf.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=wc(f.markedSpans,this);if(null!=g.from&&(c=ff(b?f:wd(f),g.from),-1==a))return c;if(null!=g.to&&(d=ff(b?f:wd(f),g.to),1==a))return d}return c&&{from:c,to:d}},Jf.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Ya(c,function(){var d=a.line,e=wd(a.line),f=Da(c,e);if(f&&(Ha(f),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Sc(b.doc,d)&&null!=b.height){var g=b.height;b.height=null;var h=Vc(b)-g;h&&vd(d,d.height+h)}})},Jf.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=ae(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Jf.prototype.detachLine=function(a){if(this.lines.splice(ae(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}};var Kf=0,Lf=a.SharedTextMarker=function(a,b){this.markers=a,this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Xd(Lf),Lf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Sd(this,"clear")}},Lf.prototype.find=function(a,b){return this.primary.find(a,b)};var Mf=a.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};Xd(Mf),Mf.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=wd(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=Vc(this);Ya(a,function(){Uc(a,c,-f),db(a,d,"widget"),vd(c,Math.max(0,c.height-f))})}},Mf.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=Vc(this)-a;d&&Ya(b,function(){b.curOp.forceUpdate=!0,Uc(b,c,d),vd(c,c.height+d)})};var Nf=a.Line=function(a,b,c){this.text=a,Gc(this,b),this.height=c?c(this):1};Xd(Nf),Nf.prototype.lineNo=function(){return wd(this)};var Of={},Pf={};od.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;d>c;++c){var e=this.lines[c];this.height-=e.height,Yc(e),Sd(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0;d<b.length;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},pd.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(e>a){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof od))){var h=[];this.collapse(h),this.children=[new od(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>=a){if(e.insertInner(a,b,c),e.lines&&e.lines.length>50){for(;e.lines.length>50;){var g=e.lines.splice(e.lines.length-25,25),h=new od(g);e.height-=h.height,this.children.splice(d+1,0,h),h.parent=this}this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new pd(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=ae(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new pd(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=f}}};var Qf=0,Rf=a.Doc=function(a,b,c){if(!(this instanceof Rf))return new Rf(a,b,c);null==c&&(c=0),pd.call(this,[new od([new Nf("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=c;var d=ff(c,0);this.sel=X(d),this.history=new Ad(null),this.id=++Qf,this.modeOption=b,"string"==typeof a&&(a=rg(a)),nd(this,{from:d,to:d,text:a}),ia(this,X(d),cg)};Rf.prototype=ce(pd.prototype,{constructor:Rf,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ud(this,this.first,this.first+this.size);return a===!1?b:b.join(a||"\n")},setValue:_a(function(a){var b=ff(this.first,0),c=this.first+this.size-1;Wb(this,{from:b,to:ff(c,sd(this,c).text.length),text:rg(a),origin:"setValue"},!0),ia(this,X(b))}),replaceRange:function(a,b,c,d){b=Z(this,b),c=c?Z(this,c):b,ac(this,a,b,c,d)},getRange:function(a,b,c){var d=td(this,Z(this,a),Z(this,b));return c===!1?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){return _(this,a)?sd(this,a):void 0},getLineNumber:function(a){return wd(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=sd(this,a)),Oc(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Z(this,a)},getCursor:function(a){var b,c=this.sel.primary();return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||a===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_a(function(a,b,c){fa(this,Z(this,"number"==typeof a?ff(a,b||0):a),null,c)}),setSelection:_a(function(a,b,c){fa(this,Z(this,a),Z(this,b||a),c)}),extendSelection:_a(function(a,b,c){ca(this,Z(this,a),b&&Z(this,b),c)}),extendSelections:_a(function(a,b){da(this,aa(this,a,b))}),extendSelectionsBy:_a(function(a,b){da(this,be(this.sel.ranges,a),b)}),setSelections:_a(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new V(Z(this,a[d].anchor),Z(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),ia(this,W(e,b),c)}}),addSelection:_a(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new V(Z(this,a),Z(this,b||a))),ia(this,W(d,d.length-1),c)}),getSelection:function(a){for(var b,c=this.sel.ranges,d=0;d<c.length;d++){var e=td(this,c[d].from(),c[d].to());b=b?b.concat(e):e}return a===!1?b:b.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=td(this,c[d].from(),c[d].to());a!==!1&&(e=e.join(a||"\n")),b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:_a(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:rg(a[f]),origin:c}}for(var h=b&&"end"!=b&&Ub(this,d,b),f=d.length-1;f>=0;f--)Wb(this,d[f]);h?ha(this,h):this.cm&&gc(this.cm)}),undo:_a(function(){Yb(this,"undo")}),redo:_a(function(){Yb(this,"redo")}),undoSelection:_a(function(){Yb(this,"undo",!0)}),redoSelection:_a(function(){Yb(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new Ad(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ld(this.history.done),undone:Ld(this.history.undone)}},setHistory:function(a){var b=this.history=new Ad(this.history.maxGeneration);b.done=Ld(a.done.slice(0),null,!0),b.undone=Ld(a.undone.slice(0),null,!0)},markText:function(a,b,c){return qc(this,Z(this,a),Z(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};return a=Z(this,a),qc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=Z(this,a);var b=[],c=sd(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=Z(this,a),b=Z(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];e==a.line&&a.ch>i.to||null==i.from&&e!=a.line||e==b.line&&i.from>b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,void++c)}),Z(this,ff(c,b))},indexFromPos:function(a){a=Z(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new Rf(ud(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new Rf(ud(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],tc(d,sc(this)),d},unlinkDoc:function(b){if(b instanceof a&&(b=b.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=this.linked[c];if(d.doc==b){this.linked.splice(c,1),b.unlinkDoc(this),uc(sc(this));break}}if(b.history==this.history){var e=[b.id];qd(b,function(a){e.push(a.id)},!0),b.history=new Ad(null),b.history.done=Ld(this.history.done,e),b.history.undone=Ld(this.history.undone,e)}},iterLinkedDocs:function(a){qd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Rf.prototype.eachLine=Rf.prototype.iter;var Sf="iter insert remove copy getEditor".split(" ");for(var Tf in Rf.prototype)Rf.prototype.hasOwnProperty(Tf)&&ae(Sf,Tf)<0&&(a.prototype[Tf]=function(a){return function(){return a.apply(this.doc,arguments)}}(Rf.prototype[Tf]));Xd(Rf);var Uf,Vf=a.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},Wf=a.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Xf=a.e_stop=function(a){Vf(a),Wf(a)},Yf=a.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}},Zf=a.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}},$f=a.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},_f=0,ag=30,bg=a.Pass={toString:function(){return"CodeMirror.Pass"}},cg={scroll:!1},dg={origin:"*mouse"},eg={origin:"+move"};Yd.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var fg=a.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf("	",f);if(0>h||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}},gg=[""],hg=function(a){a.select()};Ye?hg=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:Pe&&(hg=function(a){try{a.select()}catch(b){}}),[].indexOf&&(ae=function(a,b){return a.indexOf(b)}),[].map&&(be=function(a,b){return a.map(b)});var ig,jg=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,kg=a.isWordChar=function(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||jg.test(a))},lg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;ig=document.createRange?function(a,b,c){var d=document.createRange();return d.setEnd(a,c),d.setStart(a,b),d}:function(a,b,c){var d=document.body.createTextRange();return d.moveToElementText(a.parentNode),d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d},Ke&&(me=function(){try{return document.activeElement}catch(a){return document.body}});var mg,ng,og,pg=!1,qg=function(){if(Me)return!1;var a=ie("div");return"draggable"in a||"dragDrop"in a}(),rg=a.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},sg=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},tg=function(){var a=ie("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),ug={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};a.keyNames=ug,function(){for(var a=0;10>a;a++)ug[a+48]=ug[a+96]=String(a);for(var a=65;90>=a;a++)ug[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)ug[a+111]=ug[a+63235]="F"+a}();var vg,wg=function(){function a(a){return 247>=a?c.charAt(a):a>=1424&&1524>=a?"R":a>=1536&&1773>=a?d.charAt(a-1536):a>=1774&&2220>=a?"r":a>=8192&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a,this.from=b,this.to=c}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,i=/[1n]/,j="L";return function(c){if(!e.test(c))return!1;for(var d,k=c.length,l=[],m=0;k>m;++m)l.push(d=a(c.charCodeAt(m)));for(var m=0,n=j;k>m;++m){var d=l[m];"m"==d?l[m]=n:n=d}for(var m=0,o=j;k>m;++m){var d=l[m];"1"==d&&"r"==o?l[m]="n":g.test(d)&&(o=d,"r"==d&&(l[m]="R"))}for(var m=1,n=l[0];k-1>m;++m){var d=l[m];"+"==d&&"1"==n&&"1"==l[m+1]?l[m]="1":","!=d||n!=l[m+1]||"1"!=n&&"n"!=n||(l[m]=n),n=d}for(var m=0;k>m;++m){var d=l[m];if(","==d)l[m]="N";else if("%"==d){for(var p=m+1;k>p&&"%"==l[p];++p);for(var q=m&&"!"==l[m-1]||k>p&&"1"==l[p]?"1":"N",r=m;p>r;++r)l[r]=q;m=p-1}}for(var m=0,o=j;k>m;++m){var d=l[m];"L"==o&&"1"==d?l[m]="L":g.test(d)&&(o=d)}for(var m=0;k>m;++m)if(f.test(l[m])){for(var p=m+1;k>p&&f.test(l[p]);++p);for(var s="L"==(m?l[m-1]:j),t="L"==(k>p?l[p]:j),q=s||t?"L":"R",r=m;p>r;++r)l[r]=q;m=p-1}for(var u,v=[],m=0;k>m;)if(h.test(l[m])){var w=m;for(++m;k>m&&h.test(l[m]);++m);v.push(new b(0,w,m))}else{var x=m,y=v.length;for(++m;k>m&&"L"!=l[m];++m);for(var r=x;m>r;)if(i.test(l[r])){r>x&&v.splice(y,0,new b(1,x,r));var z=r;for(++r;m>r&&i.test(l[r]);++r);v.splice(y,0,new b(2,z,r)),x=r}else++r;m>x&&v.splice(y,0,new b(1,x,m))}return 1==v[0].level&&(u=c.match(/^\s+/))&&(v[0].from=u[0].length,v.unshift(new b(0,0,u[0].length))),1==_d(v).level&&(u=c.match(/\s+$/))&&(_d(v).to-=u[0].length,v.push(new b(0,k-u[0].length,k))),v[0].level!=_d(v).level&&v.push(new b(v[0].level,k,k)),v}}();return a.version="4.2.0",a}),function(){"use strict";function a(a,c,d){function e(b){var d=f(a,c);if(!d||d.to.line-d.from.line<g)return null;for(var e=a.findMarksAt(d.from),h=0;h<e.length;++h)if(e[h].__isFold){if(!b)return null;d.cleared=!0,e[h].clear()}return d}var f=d&&(d.call?d:d.rangeFinder);if(f||(f=a.getHelper(c,"fold")),f){"number"==typeof c&&(c=CodeMirror.Pos(c,0));var g=d&&d.minFoldSize||0,h=e(!0);if(d&&d.scanUp)for(;!h&&c.line>a.firstLine();)c=CodeMirror.Pos(c.line-1,0),h=e(!1);if(h&&!h.cleared){var i=b(d);CodeMirror.on(i,"mousedown",function(){j.clear()});var j=a.markText(h.from,h.to,{replacedWith:i,clearOnEnter:!0,__isFold:!0});j.on("clear",function(b,c){CodeMirror.signal(a,"unfold",a,b,c)}),CodeMirror.signal(a,"fold",a,h.from,h.to)}}}function b(a){var b=a&&a.widget||"↔";if("string"==typeof b){var c=document.createTextNode(b);b=document.createElement("span"),b.appendChild(c),b.className="CodeMirror-foldmarker"}return b}CodeMirror.newFoldFunction=function(b,c){return function(d,e){a(d,e,{rangeFinder:b,widget:c})}},CodeMirror.defineExtension("foldCode",function(b,c){a(this,b,c)}),CodeMirror.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(b,c){for(var d=0;d<a.length;++d){var e=a[d](b,c);if(e)return e}}})}(),function(){"use strict";function a(a){this.options=a,this.from=this.to=0}function b(a){return a===!0&&(a={}),null==a.gutter&&(a.gutter="CodeMirror-foldgutter"),null==a.indicatorOpen&&(a.indicatorOpen="CodeMirror-foldgutter-open"),null==a.indicatorFolded&&(a.indicatorFolded="CodeMirror-foldgutter-folded"),a}function c(a,b){for(var c=a.findMarksAt(k(b)),d=0;d<c.length;++d)if(c[d].__isFold&&c[d].find().from.line==b)return!0}function d(a){if("string"==typeof a){var b=document.createElement("div");return b.className=a,b}return a.cloneNode(!0)}function e(a,b,e){var f=a.state.foldGutter.options,g=b;a.eachLine(b,e,function(b){var e=null;if(c(a,g))e=d(f.indicatorFolded);else{var h=k(g,0),i=f.rangeFinder||a.getHelper(h,"fold"),j=i&&i(a,h);j&&j.from.line+1<j.to.line&&(e=d(f.indicatorOpen))}a.setGutterMarker(b,f.gutter,e),++g})}function f(a){var b=a.getViewport(),c=a.state.foldGutter;c&&(a.operation(function(){e(a,b.from,b.to)}),c.from=b.from,c.to=b.to)}function g(a,b,c){var d=a.state.foldGutter.options;c==d.gutter&&a.foldCode(k(b,0),d.rangeFinder)}function h(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;b.from=b.to=0,clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){f(a)},c.foldOnChangeTimeSpan||600)}function i(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){var c=a.getViewport();b.from==b.to||c.from-b.to>20||b.from-c.to>20?f(a):a.operation(function(){c.from<b.from&&(e(a,c.from,b.from),b.from=c.from),c.to>b.to&&(e(a,b.to,c.to),b.to=c.to)})},c.updateViewportTimeSpan)}function j(a,b){var c=a.state.foldGutter,d=b.line;d>=c.from&&d<c.to&&e(a,d,d+1)}CodeMirror.defineOption("foldGutter",!1,function(c,d,e){e&&e!=CodeMirror.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",g),c.off("change",h),c.off("viewportChange",i),c.off("fold",j),c.off("unfold",j),c.off("swapDoc",f)),d&&(c.state.foldGutter=new a(b(d)),f(c),c.on("gutterClick",g),c.on("change",h),c.on("viewportChange",i),c.on("fold",j),c.on("unfold",j),c.on("swapDoc",f))});var k=CodeMirror.Pos}(),CodeMirror.defineMode("gfm",function(a){function b(a){return a.code=!1,
null}var c=0,d={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(a){return{code:a.code,codeBlock:a.codeBlock,ateSpace:a.ateSpace}},token:function(a,b){if(b.codeBlock)return a.match(/^```/)?(b.codeBlock=!1,null):(a.skipToEnd(),null);if(a.sol()&&(b.code=!1),a.sol()&&a.match(/^```/))return a.skipToEnd(),b.codeBlock=!0,null;if("`"===a.peek()){a.next();var d=a.pos;a.eatWhile("`");var e=1+a.pos-d;return b.code?e===c&&(b.code=!1):(c=e,b.code=!0),null}if(b.code)return a.next(),null;if(a.eatSpace())return b.ateSpace=!0,null;if(a.sol()||b.ateSpace){if(b.ateSpace=!1,a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return a.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)?"link":(a.next(),null)},blankLine:b};return CodeMirror.defineMIME("gfmBase",{name:"markdown",underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0}),CodeMirror.overlayMode(CodeMirror.getMode(a,"gfmBase"),d)},"markdown"),CodeMirror.defineMode("javascript",function(a,b){function c(a,b,c){return b.tokenize=c,c(a,b)}function d(a,b){for(var c,d=!1;null!=(c=a.next());){if(c==b&&!d)return!1;d=!d&&"\\"==c}return d}function e(a,b,c){return S=a,T=c,b}function f(a,b){var f=a.next();if('"'==f||"'"==f)return c(a,b,g(f));if("."==f&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return e("number","number");if(/[\[\]{}\(\),;\:\.]/.test(f))return e(f);if("0"==f&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),e("number","number");if(/\d/.test(f))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),e("number","number");if("/"==f)return a.eat("*")?c(a,b,h):a.eat("/")?(a.skipToEnd(),e("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(d(a,"/"),a.eatWhile(/[gimy]/),e("regexp","string-2")):(a.eatWhile(Z),e("operator",null,a.current()));if("#"==f)return a.skipToEnd(),e("error","error");if(Z.test(f))return a.eatWhile(Z),e("operator",null,a.current());a.eatWhile(/[\w\$_]/);var i=a.current(),j=Y.propertyIsEnumerable(i)&&Y[i];return j&&"."!=b.lastType?e(j.type,j.style,i):e("variable","variable",i)}function g(a){return function(b,c){return d(b,a)||(c.tokenize=f),e("string","string")}}function h(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=f;break}d="*"==c}return e("comment","comment")}function i(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function j(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function k(a,b,c,d,e){var f=a.cc;for(_.state=a,_.stream=e,_.marked=null,_.cc=f,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var g=f.length?f.pop():W?u:t;if(g(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return _.marked?_.marked:"variable"==c&&j(a,d)?"variable-2":b}}}function l(){for(var a=arguments.length-1;a>=0;a--)_.cc.push(arguments[a])}function m(){return l.apply(null,arguments),!0}function n(a){function b(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var c=_.state;if(c.context){if(_.marked="def",b(c.localVars))return;c.localVars={name:a,next:c.localVars}}else{if(b(c.globalVars))return;c.globalVars={name:a,next:c.globalVars}}}function o(){_.state.context={prev:_.state.context,vars:_.state.localVars},_.state.localVars=aa}function p(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function q(a,b){var c=function(){var c=_.state,d=c.indented;"stat"==c.lexical.type&&(d=c.lexical.indented),c.lexical=new i(d,_.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function r(){var a=_.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function s(a){return function(b){return b==a?m():";"==a?l():m(arguments.callee)}}function t(a){return"var"==a?m(q("vardef"),J,s(";"),r):"keyword a"==a?m(q("form"),u,t,r):"keyword b"==a?m(q("form"),t,r):"{"==a?m(q("}"),G,r):";"==a?m():"if"==a?m(q("form"),u,t,r,L):"function"==a?m(Q):"for"==a?m(q("form"),s("("),q(")"),M,s(")"),r,t,r):"variable"==a?m(q("stat"),B):"switch"==a?m(q("form"),u,q("}","switch"),s("{"),G,r,r):"case"==a?m(u,s(":")):"default"==a?m(s(":")):"catch"==a?m(q("form"),o,s("("),R,s(")"),t,r,p):l(q("stat"),u,s(";"),r)}function u(a){return w(a,!1)}function v(a){return w(a,!0)}function w(a,b){var c=b?A:z;return $.hasOwnProperty(a)?m(c):"function"==a?m(Q):"keyword c"==a?m(b?y:x):"("==a?m(q(")"),x,s(")"),r,c):"operator"==a?m(b?v:u):"["==a?m(q("]"),F(v,"]"),r,c):"{"==a?m(q("}"),F(D,"}"),r,c):m()}function x(a){return a.match(/[;\}\)\],]/)?l():l(u)}function y(a){return a.match(/[;\}\)\],]/)?l():l(v)}function z(a,b){return","==a?m(u):A(a,b,!1)}function A(a,b,c){var d=0==c?z:A,e=0==c?u:v;return"operator"==a?/\+\+|--/.test(b)?m(d):"?"==b?m(u,s(":"),e):m(e):";"!=a?"("==a?m(q(")","call"),F(v,")"),r,d):"."==a?m(C,d):"["==a?m(q("]"),x,s("]"),r,d):void 0:void 0}function B(a){return":"==a?m(r,t):l(z,s(";"),r)}function C(a){return"variable"==a?(_.marked="property",m()):void 0}function D(a,b){if("variable"==a){if(_.marked="property","get"==b||"set"==b)return m(E)}else("number"==a||"string"==a)&&(_.marked=a+" property");return $.hasOwnProperty(a)?m(s(":"),v):void 0}function E(a){return":"==a?m(u):"variable"!=a?m(s(":"),u):(_.marked="property",m(Q))}function F(a,b){function c(d){if(","==d){var e=_.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),m(a,c)}return d==b?m():m(s(b))}return function(d){return d==b?m():l(a,c)}}function G(a){return"}"==a?m():l(t,G)}function H(a){return":"==a?m(I):l()}function I(a){return"variable"==a?(_.marked="variable-3",m()):l()}function J(a,b){return"variable"==a?(n(b),X?m(H,K):m(K)):l()}function K(a,b){return"="==b?m(v,K):","==a?m(J):void 0}function L(a,b){return"keyword b"==a&&"else"==b?m(q("form"),t,r):void 0}function M(a){return"var"==a?m(J,s(";"),O):";"==a?m(O):"variable"==a?m(N):l(u,s(";"),O)}function N(a,b){return"in"==b?m(u):m(z,O)}function O(a,b){return";"==a?m(P):"in"==b?m(u):l(u,s(";"),P)}function P(a){")"!=a&&m(u)}function Q(a,b){return"variable"==a?(n(b),m(Q)):"("==a?m(q(")"),o,F(R,")"),r,t,p):void 0}function R(a,b){return"variable"==a?(n(b),X?m(H):m()):void 0}var S,T,U=a.indentUnit,V=b.statementIndent,W=b.json,X=b.typescript,Y=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},g={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this")};if(X){var h={type:"variable",style:"variable-3"},i={"interface":a("interface"),"class":a("class"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),"super":a("super"),string:h,number:h,bool:h,any:h};for(var j in i)g[j]=i[j]}return g}(),Z=/[+\-*&%=<>!?|~^]/,$={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},_={state:null,column:null,marked:null,cc:null},aa={name:"this",next:{name:"arguments"}};return r.lex=!0,{startState:function(a){return{tokenize:f,lastType:null,cc:[],lexical:new i((a||0)-U,0,"block",!1),localVars:b.localVars,globalVars:b.globalVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation()),b.tokenize!=h&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==S?c:(b.lastType="operator"!=S||"++"!=T&&"--"!=T?S:"incdec",k(b,c,S,T,a))},indent:function(a,c){if(a.tokenize==h)return CodeMirror.Pass;if(a.tokenize!=f)return 0;for(var d=c&&c.charAt(0),e=a.lexical,g=a.cc.length-1;g>=0;--g){var i=a.cc[g];if(i==r)e=e.prev;else if(i!=L||/^else\b/.test(c))break}"stat"==e.type&&"}"==d&&(e=e.prev),V&&")"==e.type&&"stat"==e.prev.type&&(e=e.prev);var j=e.type,k=d==j;return"vardef"==j?e.indented+("operator"==a.lastType||","==a.lastType?4:0):"form"==j&&"{"==d?e.indented:"form"==j?e.indented+U:"stat"==j?e.indented+("operator"==a.lastType||","==a.lastType?V||U:0):"switch"!=e.info||k||0==b.doubleIndentSwitch?e.align?e.column+(k?0:1):e.indented+(k?0:U):e.indented+(/^(?:case|default)\b/.test(c)?U:2*U)},electricChars:":{}",blockCommentStart:W?null:"/*",blockCommentEnd:W?null:"*/",lineComment:W?null:"//",fold:"brace",helperType:W?"json":"javascript",jsonMode:W}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("markdown",function(a,b){function c(a,b,c){return b.f=b.inline=c,c(a,b)}function d(a,b,c){return b.f=b.block=c,c(a,b)}function e(a){return a.linkTitle=!1,a.em=!1,a.strong=!1,a.quote=0,q||a.f!=g||(a.f=k,a.block=f),a.trailingSpace=0,a.trailingSpaceNewLine=!1,a.thisLineHasContent=!1,null}function f(a,e){var f=e.list!==!1;if(e.list!==!1&&e.indentationDiff>=0?(e.indentationDiff<4&&(e.indentation-=e.indentationDiff),e.list=null):e.list!==!1&&e.indentation>0?(e.list=null,e.listDepth=Math.floor(e.indentation/4)):e.list!==!1&&(e.list=!1,e.listDepth=0),e.indentationDiff>=4)return e.indentation-=4,a.skipToEnd(),w;if(a.eatSpace())return null;if("#"===a.peek()||e.prevLineHasContent&&a.match(O))e.header=!0;else if(a.eat(">"))for(e.indentation++,e.quote=1,a.eatSpace();a.eat(">");)a.eatSpace(),e.quote++;else{if("["===a.peek())return c(a,e,m);if(a.match(K,!0))return C;if(e.prevLineHasContent&&!f||!a.match(L,!0)&&!a.match(M,!0)){if(b.fencedCodeBlocks&&a.match(/^```([\w+#]*)/,!0))return e.localMode=t(RegExp.$1),e.localMode&&(e.localState=e.localMode.startState()),d(a,e,h),w}else e.indentation+=4,e.list=!0,e.listDepth++,b.taskLists&&a.match(N,!1)&&(e.taskList=!0)}return c(a,e,e.inline)}function g(a,b){var c=r.token(a,b.htmlState);return q&&"tag"===c&&"openTag"!==b.htmlState.type&&!b.htmlState.context&&(b.f=k,b.block=f),b.md_inside&&-1!=a.current().indexOf(">")&&(b.f=k,b.block=f,b.htmlState.context=void 0),c}function h(a,b){return a.sol()&&a.match(/^```/,!0)?(b.localMode=b.localState=null,b.f=k,b.block=f,w):b.localMode?b.localMode.token(a,b.localState):(a.skipToEnd(),w)}function i(a){var b=[];if(a.taskOpen)return"meta";if(a.taskClosed)return"property";if(a.strong&&b.push(J),a.em&&b.push(I),a.linkText&&b.push(G),a.code&&b.push(w),a.header&&b.push(v),a.quote&&b.push(a.quote%2?x:y),a.list!==!1){var c=(a.listDepth-1)%3;c?1===c?b.push(A):b.push(B):b.push(z)}return a.trailingSpaceNewLine?b.push("trailing-space-new-line"):a.trailingSpace&&b.push("trailing-space-"+(a.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function j(a,b){return a.match(P,!0)?i(b):void 0}function k(a,e){var f=e.text(a,e);if("undefined"!=typeof f)return f;if(e.list)return e.list=null,i(e);if(e.taskList){var h="x"!==a.match(N,!0)[1];return h?e.taskOpen=!0:e.taskClosed=!0,e.taskList=!1,i(e)}e.taskOpen=!1,e.taskClosed=!1;var j=a.next();if("\\"===j)return a.next(),i(e);if(e.linkTitle){e.linkTitle=!1;var k=j;"("===j&&(k=")"),k=(k+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var m="^\\s*(?:[^"+k+"\\\\]+|\\\\\\\\|\\\\.)"+k;if(a.match(new RegExp(m),!0))return H}if("`"===j){var n=i(e),o=a.pos;a.eatWhile("`");var q=1+a.pos-o;return e.code?q===u?(e.code=!1,n):i(e):(u=q,e.code=!0,i(e))}if(e.code)return i(e);if("!"===j&&a.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return a.match(/\[[^\]]*\]/),e.inline=e.f=l,D;if("["===j&&a.match(/.*\](\(| ?\[)/,!1))return e.linkText=!0,i(e);if("]"===j&&e.linkText){var r=i(e);return e.linkText=!1,e.inline=e.f=l,r}if("<"===j&&a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(E,">"));if("<"===j&&a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(F,">"));if("<"===j&&a.match(/^\w/,!1)){if(-1!=a.string.indexOf(">")){var s=a.string.substring(1,a.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(s)&&(e.md_inside=!0)}return a.backUp(1),d(a,e,g)}if("<"===j&&a.match(/^\/\w*?>/))return e.md_inside=!1,"tag";var t=!1;if(!b.underscoresBreakWords&&"_"===j&&"_"!==a.peek()&&a.match(/(\w)/,!1)){var v=a.pos-2;if(v>=0){var w=a.string.charAt(v);"_"!==w&&w.match(/(\w)/,!1)&&(t=!0)}}var n=i(e);if("*"===j||"_"===j&&!t){if(e.strong===j&&a.eat(j))return e.strong=!1,n;if(!e.strong&&a.eat(j))return e.strong=j,i(e);if(e.em===j)return e.em=!1,n;if(!e.em)return e.em=j,i(e)}else if(" "===j&&(a.eat("*")||a.eat("_"))){if(" "===a.peek())return i(e);a.backUp(1)}return" "===j&&(a.match(/ +$/,!1)?e.trailingSpace++:e.trailingSpace&&(e.trailingSpaceNewLine=!0)),i(e)}function l(a,b){if(a.eatSpace())return null;var d=a.next();return"("===d||"["===d?c(a,b,p(H,"("===d?")":"]")):"error"}function m(a,b){return a.match(/^[^\]]*\]:/,!0)?(b.f=n,G):c(a,b,k)}function n(a,b){return a.eatSpace()?null:(a.match(/^[^\s]+/,!0),void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),b.f=b.inline=k,H)}function o(a){return Q[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),Q[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")")),Q[a]}function p(a,b,c){return c=c||k,function(d,e){return d.match(o(b)),e.inline=e.f=c,a}}var q=CodeMirror.modes.hasOwnProperty("xml"),r=CodeMirror.getMode(a,q?{name:"xml",htmlMode:!0}:"text/plain"),s={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},t=function(){var b,c,d={},e={},f=[];for(var g in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(g)&&f.push(g);for(b=0;b<f.length;b++)d[f[b]]=f[b];var h=[];for(var g in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(g)&&h.push({mime:g,mode:CodeMirror.mimeModes[g]});for(b=0;b<h.length;b++)c=h[b].mime,e[c]=h[b].mime;for(var i in s)(s[i]in d||s[i]in e)&&(d[i]=s[i]);return function(b){return d[b]?CodeMirror.getMode(a,d[b]):null}}();void 0===b.underscoresBreakWords&&(b.underscoresBreakWords=!0),void 0===b.fencedCodeBlocks&&(b.fencedCodeBlocks=!1),void 0===b.taskLists&&(b.taskLists=!1);var u=0,v="header",w="comment",x="atom",y="number",z="variable-2",A="variable-3",B="keyword",C="hr",D="tag",E="link",F="link",G="link",H="string",I="em",J="strong",K=/^([*\-=_])(?:\s*\1){2,}\s*$/,L=/^[*\-+]\s+/,M=/^[0-9]+\.\s+/,N=/^\[(x| )\](?=\s)/,O=/^(?:\={1,}|-{1,})$/,P=/^[^!\[\]*_\\<>` "'(]+/,Q=[];return{startState:function(){return{f:f,prevLineHasContent:!1,thisLineHasContent:!1,block:f,htmlState:CodeMirror.startState(r),indentation:0,inline:k,text:j,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,parentIndentation:0}},copyState:function(a){return{f:a.f,prevLineHasContent:a.prevLineHasContent,thisLineHasContent:a.thisLineHasContent,block:a.block,htmlState:CodeMirror.copyState(r,a.htmlState),indentation:a.indentation,localMode:a.localMode,localState:a.localMode?CodeMirror.copyState(a.localMode,a.localState):null,inline:a.inline,text:a.text,linkTitle:a.linkTitle,em:a.em,strong:a.strong,header:a.header,taskList:a.taskList,list:a.list,listDepth:a.listDepth,quote:a.quote,trailingSpace:a.trailingSpace,trailingSpaceNewLine:a.trailingSpaceNewLine,parentIndentation:a.parentIndentation,md_inside:a.md_inside}},token:function(a,b){if(a.sol()){if(a.match(/^\s*$/,!0))return b.prevLineHasContent=!1,e(b);b.prevLineHasContent=b.thisLineHasContent,b.thisLineHasContent=!0,b.header=!1,b.taskList=!1,b.code=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,b.f=b.block;var c=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length-b.parentIndentation,d=4*Math.floor((c-b.indentation-b.parentIndentation)/4);d>4&&(d=4);var f=b.indentation+d-b.parentIndentation;if(b.indentationDiff=f-b.indentation-b.parentIndentation,b.indentation=f,c>0)return null}return b.f(a,b)},blankLine:e,getType:i}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.overlayMode=CodeMirror.overlayParser=function(a,b,c){return{startState:function(){return{base:CodeMirror.startState(a),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(a,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(d,e){return d.start==e.basePos&&(e.baseCur=a.token(d,e.base),e.basePos=d.pos),d.start==e.overlayPos&&(d.pos=d.start,e.overlayCur=b.token(d,e.overlay),e.overlayPos=d.pos),d.pos=Math.min(e.basePos,e.overlayPos),d.eol()&&(e.basePos=e.overlayPos=0),null==e.overlayCur?e.baseCur:null!=e.baseCur&&c?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:a.indent&&function(b,c){return a.indent(b.base,c)},electricChars:a.electricChars,innerMode:function(b){return{state:b.base,mode:a}},blankLine:function(c){a.blankLine&&a.blankLine(c.base),b.blankLine&&b.blankLine(c.overlay)}}},function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a,b){this.cm=a,this.options=this.buildOptions(b),this.widget=this.onClose=null}function c(a){return"string"==typeof a?a:a.text}function d(a,b){function c(a,c){var e;e="string"!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,f[a]=e}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize()+1,!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Esc:b.close},e=a.options.customKeys,f=e?{}:d;if(e)for(var g in e)e.hasOwnProperty(g)&&c(g,e[g]);var h=a.options.extraKeys;if(h)for(var g in h)h.hasOwnProperty(g)&&c(g,h[g]);return f}function e(a,b){for(;b&&b!=a;){if("LI"===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function f(b,f){this.completion=b,this.data=f;var i=this,j=b.cm,k=this.hints=document.createElement("ul");k.className="CodeMirror-hints",this.selectedHint=f.selectedHint||0;for(var l=f.list,m=0;m<l.length;++m){var n=k.appendChild(document.createElement("li")),o=l[m],p=g+(m!=this.selectedHint?"":" "+h);null!=o.className&&(p=o.className+" "+p),n.className=p,o.render?o.render(n,f,o):n.appendChild(document.createTextNode(o.displayText||c(o))),n.hintId=m}var q=j.cursorCoords(b.options.alignWithWord?f.from:null),r=q.left,s=q.bottom,t=!0;k.style.left=r+"px",k.style.top=s+"px";var u=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(b.options.container||document.body).appendChild(k);var w=k.getBoundingClientRect(),x=w.bottom-v;if(x>0){var y=w.bottom-w.top,z=w.top-(q.bottom-q.top);if(z-y>0)k.style.top=(s=z-y)+"px",t=!1;else if(y>v){k.style.height=v-5+"px",k.style.top=(s=q.bottom-w.top)+"px";var A=j.getCursor();f.from.ch!=A.ch&&(q=j.cursorCoords(A),k.style.left=(r=q.left)+"px",w=k.getBoundingClientRect())}}var B=w.left-u;if(B>0&&(w.right-w.left>u&&(k.style.width=u-5+"px",B-=w.right-w.left-u),k.style.left=(r=q.left-B)+"px"),j.addKeyMap(this.keyMap=d(b,{moveFocus:function(a,b){i.changeActive(i.selectedHint+a,b)},setFocus:function(a){i.changeActive(a)},menuSize:function(){return i.screenAmount()},length:l.length,close:function(){b.close()},pick:function(){i.pick()},data:f})),b.options.closeOnUnfocus){var C;j.on("blur",this.onBlur=function(){C=setTimeout(function(){b.close()},100)}),j.on("focus",this.onFocus=function(){clearTimeout(C)})}var D=j.getScrollInfo();return j.on("scroll",this.onScroll=function(){var a=j.getScrollInfo(),c=j.getWrapperElement().getBoundingClientRect(),d=s+D.top-a.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return t||(e+=k.offsetHeight),e<=c.top||e>=c.bottom?b.close():(k.style.top=d+"px",void(k.style.left=r+D.left-a.left+"px"))}),a.on(k,"dblclick",function(a){var b=e(k,a.target||a.srcElement);b&&null!=b.hintId&&(i.changeActive(b.hintId),i.pick())}),a.on(k,"click",function(a){var c=e(k,a.target||a.srcElement);c&&null!=c.hintId&&(i.changeActive(c.hintId),b.options.completeOnSingleClick&&i.pick())}),a.on(k,"mousedown",function(){setTimeout(function(){j.focus()},20)}),a.signal(f,"select",l[0],k.firstChild),!0}var g="CodeMirror-hint",h="CodeMirror-hint-active";a.showHint=function(a,b,c){if(!b)return a.showHint(c);c&&c.async&&(b.async=!0);var d={hint:b};if(c)for(var e in c)d[e]=c[e];return a.showHint(d)},a.defineExtension("showHint",function(c){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var d=this.state.completionActive=new b(this,c),e=d.options.hint;if(e)return a.signal(this,"startCompletion",this),e.async?void e(this,function(a){d.showHints(a)},d.options):d.showHints(e(this,d.options))}}),b.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(b,d){var e=b.list[d];e.hint?e.hint(this.cm,b,e):this.cm.replaceRange(c(e),e.from||b.from,e.to||b.to,"complete"),a.signal(b,"pick",e),this.close()},showHints:function(a){return a&&a.list.length&&this.active()?void(this.options.completeSingle&&1==a.list.length?this.pick(a,0):this.showWidget(a)):this.close()},showWidget:function(b){function c(){i||(i=!0,k.close(),k.cm.off("cursorActivity",h),b&&a.signal(b,"close"))}function d(){if(!i){a.signal(b,"update");var c=k.options.hint;c.async?c(k.cm,e,k.options):e(c(k.cm,k.options))}}function e(a){if(b=a,!i){if(!b||!b.list.length)return c();k.widget&&k.widget.close(),k.widget=new f(k,b)}}function g(){j&&(p(j),j=0)}function h(){g();var a=k.cm.getCursor(),b=k.cm.getLine(a.line);a.line!=m.line||b.length-a.ch!=n-m.ch||a.ch<m.ch||k.cm.somethingSelected()||a.ch&&l.test(b.charAt(a.ch-1))?k.close():(j=o(d),k.widget&&k.widget.close())}this.widget=new f(this,b),a.signal(b,"shown");var i,j=0,k=this,l=this.options.closeCharacters,m=this.cm.getCursor(),n=this.cm.getLine(m.line).length,o=window.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",h),this.onClose=c},buildOptions:function(a){var b=this.cm.options.hintOptions,c={};for(var d in i)c[d]=i[d];if(b)for(var d in b)void 0!==b[d]&&(c[d]=b[d]);if(a)for(var d in a)void 0!==a[d]&&(c[d]=a[d]);return c}},f.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus)),a.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(b,c){if(b>=this.data.list.length?b=c?this.data.list.length-1:0:0>b&&(b=c?0:this.data.list.length-1),this.selectedHint!=b){var d=this.hints.childNodes[this.selectedHint];d.className=d.className.replace(" "+h,""),d=this.hints.childNodes[this.selectedHint=b],d.className+=" "+h,d.offsetTop<this.hints.scrollTop?this.hints.scrollTop=d.offsetTop-3:d.offsetTop+d.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=d.offsetTop+d.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,"select",this.data.list[this.selectedHint],d)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},a.registerHelper("hint","auto",function(b,c){var d,e=b.getHelpers(b.getCursor(),"hint");if(e.length)for(var f=0;f<e.length;f++){var g=e[f](b,c);if(g&&g.list.length)return g}else if(d=b.getHelper(b.getCursor(),"hintWords")){if(d)return a.hint.fromList(b,{words:d})}else if(a.hint.anyword)return a.hint.anyword(b,c)}),a.registerHelper("hint","fromList",function(b,c){for(var d=b.getCursor(),e=b.getTokenAt(d),f=[],g=0;g<c.words.length;g++){var h=c.words[g];h.slice(0,e.string.length)==e.string&&f.push(h)}return f.length?{list:f,from:a.Pos(d.line,e.start),to:a.Pos(d.line,e.end)}:void 0}),a.commands.autocomplete=a.showHint;var i={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};a.defineOption("hintOptions",null)}),CodeMirror.defineMode("xml",function(a,b){function c(a,b){function c(c){return b.tokenize=c,c(a,b)}var e=a.next();if("<"==e){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(f("atom","]]>")):null:a.match("--")?c(f("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(g(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=f("meta","?>"),"meta";var h=a.eat("/");t="";for(var i;i=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)t+=i;return t?(u=h?"closeTag":"openTag",b.tokenize=d,"tag"):"error"}if("&"==e){var j;return j=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),j?"atom":"error"}return a.eatWhile(/[^&<]/),null}function d(a,b){var d=a.next();return">"==d||"/"==d&&a.eat(">")?(b.tokenize=c,u=">"==d?"endTag":"selfcloseTag","tag"):"="==d?(u="equals",null):"<"==d?"error":/[\'\"]/.test(d)?(b.tokenize=e(d),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function e(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=d;break}return"string"};return b.isInAttribute=!0,b}function f(a,b){return function(d,e){for(;!d.eol();){if(d.match(b)){e.tokenize=c;break}d.next()}return a}}function g(a){return function(b,d){for(var e;null!=(e=b.next());){if("<"==e)return d.tokenize=g(a+1),d.tokenize(b,d);if(">"==e){if(1==a){d.tokenize=c;break}return d.tokenize=g(a-1),d.tokenize(b,d)}}return"meta"}}function h(){for(var a=arguments.length-1;a>=0;a--)v.cc.push(arguments[a])}function i(){return h.apply(null,arguments),!0}function j(a,b){var c=B.doNotIndent.hasOwnProperty(a)||v.context&&v.context.noIndent;v.context={prev:v.context,tagName:a,indent:v.indented,startOfLine:b,noIndent:c}}function k(){v.context&&(v.context=v.context.prev)}function l(a){if("openTag"==a)return v.tagName=t,v.tagStart=w.column(),i(p,m(v.startOfLine));if("closeTag"==a){var b=!1;return v.context?v.context.tagName!=t&&(B.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase())&&k(),b=!v.context||v.context.tagName!=t):b=!0,b&&(x="error"),i(n(b))}return i()}function m(a){return function(b){var c=v.tagName;return v.tagName=v.tagStart=null,"selfcloseTag"==b||"endTag"==b&&B.autoSelfClosers.hasOwnProperty(c.toLowerCase())?(o(c.toLowerCase()),i()):"endTag"==b?(o(c.toLowerCase()),j(c,a),i()):i()}}function n(a){return function(b){return a&&(x="error"),"endTag"==b?(k(),i()):(x="error",i(arguments.callee))}}function o(a){for(var b;;){if(!v.context)return;if(b=v.context.tagName.toLowerCase(),!B.contextGrabbers.hasOwnProperty(b)||!B.contextGrabbers[b].hasOwnProperty(a))return;k()}}function p(a){return"word"==a?(x="attribute",i(q,p)):"endTag"==a||"selfcloseTag"==a?h():(x="error",i(p))}function q(a){if("equals"==a)return i(r,p);if(B.allowMissing){if("word"==a)return x="attribute",i(q,p)}else x="error";return"endTag"==a||"selfcloseTag"==a?h():i()}function r(a){return"string"==a?i(s):"word"==a&&B.allowUnquoted?(x="string",i()):(x="error","endTag"==a||"selfCloseTag"==a?h():i())}function s(a){return"string"==a?i(s):h()}var t,u,v,w,x,y=a.indentUnit,z=b.multilineTagIndentFactor||1,A=b.multilineTagIndentPastTag||!0,B=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},C=b.alignCDATA;return{startState:function(){return{tokenize:c,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(a,b){if(!b.tagName&&a.sol()&&(b.startOfLine=!0,b.indented=a.indentation()),a.eatSpace())return null;x=u=t=null;var c=b.tokenize(a,b);if(b.type=u,(c||u)&&"comment"!=c)for(v=b,w=a;;){var d=b.cc.pop()||l;if(d(u||c))break}return b.startOfLine=!1,x||c},indent:function(a,b,e){var f=a.context;if(a.tokenize.isInAttribute)return a.stringStartCol+1;if(a.tokenize!=d&&a.tokenize!=c||f&&f.noIndent)return e?e.match(/^(\s*)/)[0].length:0;if(a.tagName)return A?a.tagStart+a.tagName.length+2:a.tagStart+y*z;if(C&&/<!\[CDATA\[/.test(b))return 0;for(f&&/^<\//.test(b)&&(f=f.prev);f&&!f.startOfLine;)f=f.prev;return f?f.indent+y:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),function(){"use strict";angular.module("ramlEditorApp",["ui.bootstrap.modal","ui.bootstrap.tpls","ui.tree","ramlConsoleApp","codeMirror","fs","raml","stringFilters","utils","lightweightDOM","splitter","validate","autoFocus","rightClick","dragAndDrop"])}(),Array.prototype.find||(Array.prototype.find=function(a){for(var b=0,c=this.length;c>b;b++){var d=this[b];if(a(d))return d}return void 0}),Array.prototype.includes||(Array.prototype.includes=function(a){for(var b=0,c=this.length;c>b;b++){var d=this[b];if(d===a)return!0}return!1}),String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.indexOf(a)}),String.prototype.endsWith||(String.prototype.endsWith=function(a){return this.lastIndexOf(a)===this.length-a.length}),function(){"use strict";angular.module("utils",[]).value("indentUnit",2).factory("safeApply",["$rootScope","$exceptionHandler",function(a,b){return function(c,d){if(c=c||a,-1===["$apply","$digest"].indexOf(c.$root&&c.$root.$$phase||c.$$phase))return c.$apply(d);try{return c.$eval(d)}catch(e){b(e)}}}]).factory("safeApplyWrapper",["safeApply",function(a){return function(b,c){return function(){var d=Array.prototype.slice.call(arguments,0);return a(b,function(){return c.apply(this,d)})}}}]).factory("getTime",function(){return Date.now||function(){return(new Date).getTime()}}).factory("debounce",["$timeout","$q",function(a,b){return function(c,d){var e=null,f=b.defer();return function(){var g=this,h=arguments,i=function(){e=null,f.resolve(c.apply(g,h)),f=b.defer()};return e&&a.cancel(e),e=a(i,d),f.promise}}}]).value("generateSpaces",function(a){return a=a||0,new Array(a+1).join(" ")}).factory("generateTabs",["generateSpaces","indentUnit",function(a,b){return function(c,d){return d=d||b,c=c||0,
new Array(c+1).join(a(b))}}]).value("$prompt",function(a,b){return window.prompt(a,b)}).value("$confirm",function(a){return window.confirm(a)}).factory("generateName",function(){return function(a,b,c){c=c?"."+c:"";var d=Math.max.apply(void 0,a.map(function(a){var c=new RegExp(b+"(\\d+)"),d=a.match(c);return d?d[1]:0}).concat(0));return b+(d+1)+c}}).factory("scroll",function(){function a(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1}function b(b){d[b.keyCode]&&a(b)}function c(b){a(b)}var d={37:!0,38:!0,39:!0,40:!0};return{enable:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null},disable:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=c,document.onkeydown=b}}}).factory("resolveUri",["$window",function(a){return function(b){return/^\w+:\/\//.test(b)?b:"/"===b[0]?a.location.origin+b:a.location.origin+a.location.pathname.split("/").slice(0,-1).concat(b).join("/")}}])}(),function(){"use strict";angular.module("raml").value("config",{set:function(a,b){localStorage["config."+a]=b},get:function(a,b){return a="config."+a,a in localStorage?localStorage[a]:b},remove:function(a){delete localStorage["config."+a]},clear:function(){localStorage.clear()}})}(),function(){"use strict";angular.module("lightweightDOM",["lightweightParse"]).factory("getNode",["getSpaceCount","getTabCount","getLineIndent","isArrayStarter","isCommentStarter","extractKeyValue",function(a,b,c,d,e,f){function g(a,b,f){this.editor=a,this.lineNumber=b,this.line=f,this.lineIndent=c(this.line,a.getOption("indentUnit")),this.isEmpty=this.lineIndent.spaceCount===this.line.length,this.isComment=!this.isEmpty&&e(this.line),this.isArrayStarter=!this.isComment&&d(this.line),this.isStructural=!this.isEmpty&&!this.isComment}function h(b,c){var d=b.getCursor(),e=arguments.length>1?c:d.line,f=b.getLine(e),h=i[e];if(void 0===f)return null;if(d.line===e){var j=a(f);(j===f.length||"#"===f[j])&&(f=f.slice(0,d.ch))}return h&&h.line===f||(h=i[e]=new g(b,e,f)),h}var i={};return g.prototype.getKeyValue=function(){return this.keyValue||(this.keyValue=f(this.line)),this.keyValue},g.prototype.getKey=function(){return this.getKeyValue().key},g.prototype.getValue=function(){return this.getKeyValue().value},g.prototype.getNextSibling=function(){for(var a=this.lineNumber;;){var b=h(this.editor,++a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getPreviousSibling=function(){for(var a=this.lineNumber;;){a-=1;var b=h(this.editor,a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getFirstChild=function(){for(var a=this.lineIndent.tabCount+(this.isArrayStarter?2:1),b=this.lineNumber;;){var c=h(this.editor,++b);if(null===c)return null;if(c.lineIndent.tabCount<a)return null;if(c.lineIndent.tabCount>=a&&c.isStructural)return c}},g.prototype.getParent=function(){for(var a=this.lineIndent.tabCount-(!this.isArrayStarter&&this.getIsInArray()?2:1),b=this.lineNumber;;){var c=h(this.editor,--b);if(null===c)return null;if(c.lineIndent.tabCount<=a&&c.isStructural)return c}},g.prototype.getChildren=function(){for(var a=[],b=this.getFirstChild();null!==b;)a.push(b),b=b.getNextSibling();return a},g.prototype.getSelfAndNeighbors=function(){for(var a=[],b=this.getIsInArray(),c=this;c&&c.getIsInArray()===b&&(a.push(c),!c.isArrayStarter);)c=c.getPreviousSibling();for(c=this.getNextSibling();c&&!c.isArrayStarter&&c.getIsInArray()===b;)a.push(c),c=c.getNextSibling();return a},g.prototype.getIsInArray=function(){if(this.isArrayStarter)return!0;for(var a=this.getPreviousSibling();a&&a.lineIndent.tabCount>=this.lineIndent.tabCount;)a=a.getPreviousSibling();return!(!a||!a.isArrayStarter||a.lineIndent.tabCount!==this.lineIndent.tabCount-1)},g.prototype.getPath=function(){for(var a=[],b=this;b=b.getParent();)a.unshift(b);return a},g.prototype.selfOrParent=function(a){return this.first(this.getParent,a)},g.prototype.selfOrPrevious=function(a){return this.first(this.getPreviousSibling,a)},g.prototype.first=function(a,b){for(var c=this;c;){if(b(c))return c;c=a.apply(c)}return null},h}])}(),function(){"use strict";angular.module("lightweightParse",["utils"]).factory("getSpaceCount",function(){return function(a){for(var b=0,c=a.length;c>b&&" "===a[b];b++);return b}}).factory("getTabCount",["indentUnit",function(a){return function(b,c){return c=c||a,Math.floor(b/c)}}]).factory("getLineIndent",["getSpaceCount","getTabCount",function(a,b){return function(c,d){var e=a(c);return{spaceCount:e,tabCount:b(e,d),content:e?c.slice(e):c}}}]).factory("isArrayStarter",["getSpaceCount",function(a){return function(b){var c=a(b);return"-"===b[c]&&" "===b[c+1]}}]).factory("isCommentStarter",["getSpaceCount",function(a){return function(b){var c=a(b);return"#"===b[c]}}]).factory("extractKeyValue",function(){function a(a,b,c){for(b=b||0,c=c||a.length,0>b&&(b=a.length+b),0>c&&(c=a.length+c);c>b&&" "===a[b];)b+=1;for(;c>b&&" "===a[c-1];)c-=1;return 0===b&&c===a.length?a:a.slice(b,c)}function b(a){return a?{text:a,isAlias:"&"===a[0],isReference:"*"===a[0]}:null}return function(c){var d=0,e=c.length,f=c.indexOf("#");return-1!==f&&(e=f),f=c.indexOf("- "),-1!==f&&e>f&&(d=f+2),f=c.indexOf(": ",d),-1!==f&&e>f?{key:a(c,d,f),value:b(a(c,f+2,e))}:(f=c.lastIndexOf(":",e),f===e-1?{key:a(c,d,e-1),value:null}:{key:null,value:b(a(c,d,e))})}}).factory("getScopes",["getLineIndent",function(a){function b(a,b){if(void 0===a||void 0===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}var c;return function(d){if(c&&b(c.key,d))return c.value;var e={},f=d.map(function(b,c){var d=a(b);return{tabCount:d.tabCount,content:d.content,lineNumber:c}}),g=f.reduce(function(a,b){var c,d,f=e[b.tabCount-1];if(f)c=f.length-1,d=e[b.tabCount-1][c];else{if(b.tabCount>1)return f=e[b.tabCount-2],f&&(c=f.length-1,d=e[b.tabCount-2][c],a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount-1]=e[b.tabCount-1]||[],e[b.tabCount-1].push(b.lineNumber)),a;d=0}return a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount]=e[b.tabCount]||[],e[b.tabCount].push(b.lineNumber),a},{});return c={result:{scopeLevels:e,scopesByLine:g},lines:d},{scopeLevels:e,scopesByLine:g}}}])}(),function(){"use strict";angular.module("codeFolding",["raml","lightweightParse"]).factory("getFoldRange",["getLineIndent",function(a){return function(b,c){var d,e=b.getLine(c.line),f=a(e);if(f.content){var g=b.getLine(c.line+1);if(g){var h=f.tabCount,i=a(g).tabCount;if(i>h)for(var j=c.line+2,k=b.lineCount();k>j;j++){if(g=b.getLine(j),d=a(g),i=d.tabCount,h>=i&&d.content)return g=b.getLine(j-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(j-1,g.length)};if(j===k-1)return g=b.getLine(k-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(k-1,g.length)}}}}}}])}(),function(){"use strict";angular.module("codeMirror",["raml","ramlEditorApp","codeFolding"]).factory("codeMirror",["$rootScope","ramlSuggest","codeMirrorHighLight","generateSpaces","generateTabs","getFoldRange","isArrayStarter","getSpaceCount","getTabCount","config","extractKeyValue",function(a,b,c,d,e,f,g,h,i,j,k){var l=null,m={CodeMirror:CodeMirror};m.removeTabs=function(a,b){var c=i(h(a),b)*b;return c?a.slice(c):a},m.tabKey=function(a){var b,c,e,f=a.getCursor(),g=a.getLine(f.line),h=a.getOption("indentUnit");return a.somethingSelected()?void a.indentSelection("add"):(c=m.removeTabs(g,h),c=c.length?c:"",e=""!==c&&""===c.replace(/ /g,"")?h-c.length:h,b=d(e),void a.replaceSelection(b,"end","+input"))},m.backspaceKey=function(a){var b=a.getCursor(),c=a.getLine(b.line).slice(0,b.ch),d=a.getOption("indentUnit"),e=c.length-c.replace(/\s+$/,"").length,f=e>=d;if(f&&e%d===0)for(var g=0;d>g;g++)a.deleteH(-1,"char");else a.deleteH(-1,"char")};var n={xml:{name:"xml"},xsd:{name:"xml",alignCDATA:!0},json:{name:"javascript",json:!0},md:{name:"gfm"},raml:{name:"raml"}},o={"Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"},p={"Ctrl-Space":"autocomplete","Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"};return m.configureEditor=function(a,b){var c=n[b]||n.raml;a.setOption("mode",c),"raml"===c.name?a.setOption("extraKeys",p):a.setOption("extraKeys",o)},m.enterKey=function(a){function b(b,c){for(var d=b-1;d>=0;d--)if(h(a.getLine(d))<c)return k(a.getLine(d)).key}var c=a.getCursor(),f=c.ch>=a.getLine(c.line).length-1,i=a.getLine(c.line).slice(0,c.ch),j=g(i),l=h(i),m=d(l),n=b(c.line,l),o=-1!==["traits","resourceTypes"].indexOf(n);f?!function(){if(o)return void(m+=e(2));if(j&&(m+=e(1)),"|"===i.replace(/\s+$/,"").slice(-1))return void(m+=e(1));var b=a.getLine(c.line+1);b&&h(b)>l&&(m+=e(1))}():j&&(m+=e(1)),a.replaceSelection("\n"+m,"end","+input")},m.createEditor=function(a,b){var c,d,e=JSON.parse(j.get("folding","true")),f=!1;e&&(f={rangeFinder:CodeMirror.fold.indent,foldOnChangeTimeSpan:300,updateViewportTimeSpan:200}),d={mode:"raml",theme:"solarized dark",lineNumbers:!0,lineWrapping:!0,autofocus:!0,indentWithTabs:!1,indentUnit:2,tabSize:2,keyMap:"tabSpace",foldGutter:f,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]},b&&Object.keys(b).forEach(function(a){d[a]=b[a]}),c=new CodeMirror(a,d),c.setSize("100%","100%"),c.foldCode(0,{rangeFinder:CodeMirror.fold.indent});var g=c.defaultCharWidth(),h=4;return c.on("renderLine",function(a,b,c){var d=CodeMirror.countColumn(b.text,null,a.getOption("tabSize"))*g;c.style.textIndent="-"+d+"px",c.style.paddingLeft=h+d+"px"}),c},m.initEditor=function(){var a=document.getElementById("code"),b=m.createEditor(a);return l=window.editor=b,b},m.setLine=function(a,b,c){a.replaceRange(c,{line:b,ch:0},{line:b})},m.removeLine=function(a,b){a.replaceRange("",{line:0===b?b:b-1},{line:b})},m.getEditor=function(){return l},function(){CodeMirror.keyMap.tabSpace={Tab:m.tabKey,Backspace:m.backspaceKey,Enter:m.enterKey,fallthrough:["default"]},CodeMirror.commands.save=function(){a.$broadcast("event:save")},CodeMirror.commands.autocomplete=function(a){CodeMirror.showHint(a,CodeMirror.hint.raml,{completeSingle:!1,ghosting:!1,async:!0})},CodeMirror.commands.toggleTheme=function(){a.$broadcast("event:toggle-theme")},CodeMirror.defineMode("raml",c.highlight),CodeMirror.defineMIME("text/x-raml","raml"),CodeMirror.registerHelper("hint","raml",b.autocompleteHelper.bind(b)),CodeMirror.registerHelper("fold","indent",f)}(),m}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorErrors",["codeMirror","$timeout",function(a,b){function c(a,b){var c=document.createElement("div");c.className="CodeMirror-lint-tooltip",c.appendChild(a.cloneNode(!0)),c.style.visibility="hidden",document.body.appendChild(c);var d=$(b).offset();return c.style.top=Math.max(0,d.top-c.offsetHeight)+"px",c.style.left=d.left+20+"px",null!==c.style.opacity&&(c.style.opacity=1),c.style.visibility="visible",c}function d(a){a.parentNode&&a.parentNode.removeChild(a)}function e(a){a.parentNode&&(null===a.style.opacity&&d(a),a.style.opacity=0,b(function(){d(a)},200))}function f(a,b){function d(a,b){if(!b)return!1;var c=$(a).offset().left,d=c+$(a).outerWidth(),e=c<=b.clientX&&b.clientX<=d+5,f=$(a).offset().top,g=f+$(a).outerHeight(),h=f<=b.clientY&&b.clientY<=g;return e&&h}function f(a){if(g){var b=d(h,a),c=d(g,a);c||b||(l.off(g,"mousedown",i),l.off(document,"mousemove",f),e(g),g=null)}}var g=c(a,b),h=b,i=function(a){f(g);var b=a.target.dataset.path;if(b){var c=angular.element(h).scope();c.$emit("event:raml-editor-file-select",b)}},j=setInterval(function(){if(!g)return clearInterval(j);for(var a=b;;a=a.parentNode){if(a===document.body)return;if(!a){f();break}}},400);l.on(g,"mousedown",i),l.on(document,"mousemove",f)}function g(a){a.clearGutter(m)}function h(a,b){return"error"===a?a:b}function i(a){for(var b=[],c=0,d=a.length;d>c;++c){var e=a[c],f=e.line||1;(b[f]||(b[f]=[])).push(e)}return b}function j(a){var b=a.severity;n.test(b)||(b="error");var c=document.createElement("div");c.className="CodeMirror-lint-message-"+b;var d=a.message;return a.path&&(d+=" at line "+a.tracingLine+" col "+a.tracingColumn+' in <a href="javascript:" data-path="/'+a.path+'">'+a.path+"</a>"),c.innerHTML="<p class=CodeMirror-tag-"+b+">"+b+'</p><p class="CodeMirror-message">'+d+"</p>",c}function k(a,b,c,d,e){var g=document.createElement("div"),h=g;return g.className="CodeMirror-lint-marker-"+b,c&&(h=g.appendChild(document.createElement("div")),h.className="CodeMirror-lint-marker-multiple"),d!==!1&&l.on(h,"mouseenter",function(){f(a,h)}),g.setAttribute("data-marker-line",e[0].line),g.setAttribute("data-marker-message",e[0].message),g}var l=a.CodeMirror,m="CodeMirror-lint-markers",n=/^(?:error|warning)$/,o={};return o.displayAnnotations=function(b,c){c=c||a.getEditor(),g(c);for(var d=i(b),e=0;e<d.length;++e){var f=d[e];if(f){for(var l=null,o=document.createDocumentFragment(),p=0;p<f.length;++p){var q=f[p],r=q.severity;n.test(r)||(r="error"),l=h(l,r),o.appendChild(j(q))}c.setGutterMarker(e-1,m,k(o,l,f.length>1,!0,f))}}},o.clearAnnotations=function(){g(a.getEditor())},o}])}(),function(){"use strict";angular.module("raml").value("snippets",{options:["options:","  description: <<insert text or markdown here>>"],head:["head:","  description: <<insert text or markdown here>>"],get:["get:","  description: <<insert text or markdown here>>"],post:["post:","  description: <<insert text or markdown here>>"],put:["put:","  description: <<insert text or markdown here>>"],"delete":["delete:","  description: <<insert text or markdown here>>"],trace:["trace:","  description: <<insert text or markdown here>>"],connect:["connect:","  description: <<insert text or markdown here>>"],patch:["patch:","  description: <<insert text or markdown here>>"],"<resource>":["/newResource:","  displayName: resourceName"],title:["title: My API"],version:["version: v0.1"],baseuri:["baseUri: http://server/api/{version}"]}).factory("ramlSnippets",["snippets",function(a){function b(a){return f.find(function(b){return b.label===a}).keyValues}var c={},d=[],e=["extends"],f=[{label:"Trait",keyValues:d},{label:"ResourceType",keyValues:d},{label:"Library",keyValues:["usage"]},{label:"Overlay",keyValues:e},{label:"Extension",keyValues:e},{label:"DataType",keyValues:d},{label:"DocumentationItem",keyValues:["title","content"]},{label:"NamedExample",keyValues:["value"]},{label:"AnnotationTypeDeclaration",keyValues:d},{label:"SecurityScheme",keyValues:["type"]},{label:"",keyValues:["title"]}];return c.getEmptyRaml=function(a,c){var d=a?a:"1.0",e=c?" "+c:"",f=b(c?c:""),g=["#%RAML "+d+e];return f.forEach(function(a){g.push(a+":")}),g.join("\n")},c.getSnippet=function(b){var c=b.key,d=b.metadata||{},e=a[c.toLowerCase()];return e?e:d.isText?b.isList?[c]:[c,""]:[c+":"]},c}])}(),function(){"use strict";angular.module("codeMirror").value("highlightRootElement",function(a,b,c,d,e,f){return e<=d[a+".level"]&&(d[a+".level"]=0,d[a+".inside"]=!1),a.indexOf(f)>=0?(d[a+".level"]=e,d[a+".inside"]=!0,b):d[a+".inside"]?c:!1}).value("booleanValues",["true","false"]).factory("keywordRegex",["booleanValues",function(a){return new RegExp("\\b(("+a.join(")|(")+"))$","i")}]).factory("token",["keywordRegex","highlightRootElement","getLineIndent","indentUnit",function(a,b,c,d){return function(e,f){var g=e.peek(),h=f.escaped;if(f.escaped=!1,"#"===g&&/^#%RAML (0\.8|1\.0|1\.0\s\w+)$/.test(e.string.trim()))return e.skipToEnd(),"raml-tag";if("#"===g&&(0===e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(f.literal&&e.indentation()>f.keyCol)return e.skipToEnd(),"none";if(f.literal&&(f.literal=!1),e.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(!f.pair&&e.match(/^\s*([a-z0-9\?\/\{\}\._\-])+(?=\s*:)/i)){var i=e.string.replace(/^\s+|\s+$/g,"").split(":")[0],j="?"===i.slice(-1)?i.slice(0,-1):i,k=c(e.string).tabCount;if(f.pair=!0,f.keyCol=e.indentation(),e.string.match(/^\s*\- /i)&&(f.keyCol+=d),(k<=f.methodLevel||0===i.indexOf("/"))&&(f.methodLevel=0,f.insideMethod=!1),-1!==["options","get","head","post","put","delete","trace","connect","patch"].indexOf(j))return f.methodLevel=k,f.insideMethod=!0,"method-title";if(f.insideMethod)return"method-content";var l=b("traits","trait-title","trait-content",f,k,i)||b("resourceTypes","resource-type-title","resource-type-content",f,k,i)||b("schemas","schema-title","schema-content",f,k,i)||b("securitySchemes","security-scheme-title","security-scheme-content",f,k,i);return l?l:0===i.indexOf("/")?"resource":"key"}if(f.pair&&e.match(/^:\s*/))return f.pairStart=!0,"meta";if(e.match(/^(\{|\}|\[|\])/))return"{"===g?f.inlinePairs++:"}"===g?f.inlinePairs--:"["===g?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!h&&","===g)return e.next(),"meta";if(f.inlinePairs>0&&!h&&","===g)return f.keyCol=0,f.pair=!1,f.pairStart=!1,e.next(),"meta";if(f.pairStart){if(e.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._\-]+\b/i))return"variable-2";if(0===f.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(f.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|\}))/))return"number";if(e.match(a))return"keyword"}return f.pairStart=!1,f.escaped="\\"===g,e.next(),null}}]).value("startState",function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}).factory("yamlMode",["token","startState",function(a,b){return function(){return{token:a,startState:b}}}]).run(["codeMirror","yamlMode",function(a,b){var c=a.CodeMirror;c.defineMode("yaml",b),c.defineMIME("text/x-yaml","yaml")}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorHighLight",["indentUnit",function(a){var b={};return b.highlight=function(a){return b.indentationOverlay={token:function(a,b){if(void 0===b.cutoff||a.column()<=b.cutoff){if(a.match("  "))return"indent indent-col-"+a.column();if(a.match(" "))return"indent-incomplete"}a.skipToEnd()},startState:function(){return{}}},b.yaml=CodeMirror.overlayMode(CodeMirror.getMode(a,"yaml"),b.indentationOverlay),b.xml=CodeMirror.overlayMode(CodeMirror.getMode(a,"xml"),b.indentationOverlay),b.json=CodeMirror.overlayMode(CodeMirror.getMode(a,{name:"javascript",json:!0}),b.indentationOverlay),b.markdown=CodeMirror.overlayMode(CodeMirror.getMode(a,"gfm"),b.indentationOverlay),{startState:function(){return{token:b._yaml,localMode:null,localState:null,yamlState:b.yaml.startState()}},copyState:function(a){var c;return a.localState&&(c=CodeMirror.copyState(a.localMode,a.localState),c.parentIndentation||(c.parentIndentation=a.localState.parentIndentation)),{token:a.token,localMode:a.localMode,localState:c,yamlState:CodeMirror.copyState(b.yaml,a.yamlState)}},innerMode:function(a){return{state:a.localState||a.yamlState,mode:a.localMode||b.yaml}},token:function(a,b){return b.token(a,b)}}},b._yaml=function(a,c){return/(content|description):(\s?)\|/.test(a.string)&&b._setMode("markdown",a,c),/application\/json:/.test(a.string)&&b._setMode("json",a,c,2),/text\/xml:/.test(a.string)&&b._setMode("xml",a,c,2),b.yaml.token(a,c.yamlState)},b._xml=function(a,c){return b._applyMode("xml",a,c)},b._json=function(a,c){return b._applyMode("json",a,c)},b._markdown=function(a,c){return b._applyMode("markdown",a,c)},b._setMode=function(c,d,e,f){e.token=b["_"+c],e.localMode=b[c],e.localState=b[c].startState(),e.localState.parentIndentation=d.indentation()+(f||0),d.string.match(/^\s*\- /i)&&(e.localState.parentIndentation+=a),"markdown"===c&&(e.localState.base.parentIndentation=e.localState.parentIndentation)},b._applyMode=function(a,c,d){return/(schema|example):(\s?)\|/.test(c.string)?b._yaml(c,d):c.string.trim().length>0&&c.indentation()<=d.localState.parentIndentation?(d.token=b._yaml,d.localState=d.localMode=null,b._yaml(c,d)):(d.localState.overlay.cutoff=d.localState.parentIndentation,b[a].token(c,d.localState))},b}])}(),function(){"use strict";function a(a,b,c){c=c||{},"/"===a.slice(-1)&&a.length>1&&(a=a.slice(0,-1)),this.type="file",this.path=a,this.name=a.slice(a.lastIndexOf("/")+1),this.isDirectory=!1,this.name.lastIndexOf(".")>0&&(this.extension=this.name.slice(this.name.lastIndexOf(".")+1)),this.contents=b||"",this.persisted=c.persisted||!1,this.dirty=c.dirty||!this.persisted,this.root=c.root}angular.module("fs",["raml","utils"]).factory("ramlRepository",["$q","$rootScope","ramlSnippets","fileSystem",function(b,c,d,e){function f(a){return".meta"!==a.path.slice(-5)}function g(a){return".meta"===a.path.slice(-5)}function h(a){return function(b){throw a.error=b,b}}function i(a,b){return a.isDirectory===b.isDirectory?a.name.localeCompare(b.name):a.isDirectory?-1:1}function j(a,b){for(var c,d=0,e=b.children.length-1;e>=d;)c=Math.floor((d+e)/2),i(b.children[c],a)>0?e=c-1:d=c+1;return d}function k(a,c){var d="/"===a.path?[""]:a.path.split("/"),e=c.path.split("/").slice(0,-1),f=b.when(a);return e.slice(d.length).forEach(function(a){f=f.then(function(c){var d=o.join(c.path,a),e=o.getByPath(d);return e?e.isDirectory?e:b.reject(new Error("Can not create directory, file already exists: "+d)):o.createDirectory(c,a)})}),f.then(function(a){var d=o.getByPath(c.path);return d?d.isDirectory&&c.isDirectory?d:b.reject(new Error("Path already exists: "+c.path)):(a.children.splice(j(c,a),0,c),c)})}function l(a,b){var c=a.path.slice(0,a.path.lastIndexOf("/"));return c+"/"+b}function m(b,c,d){"/"===b.slice(-1)&&b.length>1&&(b=b.slice(0,-1)),d=d||[],this.type="directory",this.path=b,this.name=b.slice(b.lastIndexOf("/")+1),this.meta=c,this.collapsed=!0,this.isDirectory=!0;var e={folder:[],file:[]};d.forEach(function(a){e[a.type||"file"].push(a)});var h=function(b){return new a(b.path,b.contents,{dirty:!1,persisted:!0,root:b.root})},j=e.file.filter(f).map(h),k=e.file.filter(g).map(h),l=e.folder.map(function(a){return new m(a.path,a.meta,a.children)});this.children=l.concat(j).sort(i),this.metaChildren=l.concat(k).sort(i)}var n,o={},p="/";return o.supportsFolders=e.supportsFolders||!1,m.prototype.getDirectories=function(){return this.children.filter(function(a){return a.isDirectory})},m.prototype.getFiles=function(){return this.children.filter(function(a){return!a.isDirectory})},m.prototype.getMetaFiles=function(){return this.metaChildren.filter(function(a){return!a.isDirectory})},m.prototype.forEachChildDo=function(a){for(var b,c=this.children.slice();c.length>0;)b=c.shift(),b.isDirectory&&(c=c.concat(b.children)),a.call(b,b)},m.prototype.forEachMetaChildDo=function(a){for(var b,c=this.metaChildren.slice();c.length>0;)b=c.shift(),b.isDirectory&&(c=c.concat(b.metaChildren)),a.call(b,b)},m.prototype.sortChildren=function(){this.children.sort(i)},o.sortingFunction=i,o.getParent=function(a){var b=a.path.slice(0,a.path.lastIndexOf("/"));return 0===b.length&&(b="/"),o.getByPath(b)},o.canExport=function(){return e.hasOwnProperty("exportFiles")},o.exportFiles=function(){return e.exportFiles()},o.createDirectory=function(a,c){var d=o.join(a.path,c),f=new m(d),g=o.getByPath(d);return g?b.when(g):k(a,f).then(function(){return e.createFolder(f.path)}).then(function(){return f})},o.generateDirectory=function(a,b){return o.createDirectory(a,b).then(function(a){return c.$broadcast("event:raml-editor-directory-created",a),a})},o.loadDirectory=function(){return e.directory(p).then(function(a){return n=new m(a.path,a.meta,a.children)})},o.removeDirectory=function(a){var d=[];a.getDirectories().forEach(function(a){d.push(o.removeDirectory(a))}),a.getFiles().forEach(function(a){d.push(o.removeFile(a))}),a.getMetaFiles().forEach(function(a){d.push(o.removeFile(a))});var f=o.getParent(a),g=f.children.indexOf(a);return-1!==g&&f.children.splice(g,1),b.all(d).then(function(){return e.remove(a.path)}).then(function(a){c.$broadcast("event:raml-editor-directory-removed",a)})},o.renameDirectory=function(a,b){var d=l(a,b),f=e.rename(a.path,d);return a.forEachChildDo(function(b){b.path=b.path.replace(a.path,d)}),f.then(function(){return a.name=b,a.path=d,c.$broadcast("event:raml-editor-filetree-modified",a),a},h(a))},o.saveFile=function(a){function b(){return a.dirty=!1,a.persisted=!0,a}return e.save(a.path,a.contents).then(b,h(a))},o.renameFile=function(a,d){function f(){return a.name=d,a.path=g,c.$broadcast("event:raml-editor-filetree-modified",a),a}var g=l(a,d),i=a.persisted?e.rename(a.path,g):b.when(a);return i.then(f,h(a))},o.loadFile=function(a,b){function c(b){return a.dirty=!1,a.persisted=!0,a.loaded=!0,a.contents=b,a}return e.load(a.path,b).then(c,h(a))},o.removeFile=function(a){function d(){return a.dirty=!1,a.persisted=!1,Object.freeze(a)}var g,i=o.getParent(a);return g=a.persisted?e.remove(a.path):b.when(a),g.then(d,h(a)).then(function(){if(f(a)){var b=i.children.indexOf(a);-1!==b&&i.children.splice(b,1)}else{var d=i.metaChildren.indexOf(a);-1!==d&&i.metaChildren.splice(d,1)}c.$broadcast("event:raml-editor-file-removed",a)})},o.createFile=function(b,d){var e=o.join(b.path,d),f=new a(e);return k(b,f).then(function(){return c.$broadcast("event:raml-editor-file-created",f),f})},o.generateFile=function(a,b,e,f){return o.createFile(a,b).then(function(a){return"raml"===a.extension&&(a.contents=d.getEmptyRaml(e,f)),c.$broadcast("event:raml-editor-file-generated",a),a})},o.getContentByPath=function(a,c){var d=o.getByPath(a);return d?d.loaded?b.when(d.contents):o.loadFile(d,c).then(function(a){return a.contents}):b.reject("getByPathLoaded: "+a+": no such path")},o.getByPath=function(a){if(a){if("/"===a)return n;a=a.replace(/\/$/,"");for(var b,c=n.children.slice();c.length;){if(b=c.shift(),b.path===a)return b;b.isDirectory&&(c=c.concat(b.children))}}},o.rename=function(a,b){return a.isDirectory?o.renameDirectory(a,b):o.renameFile(a,b)},o.remove=function(a){return a.isDirectory?o.removeDirectory(a):o.removeFile(a)},o.move=function(a,c){if(c.isDirectory){var d,f=o.join(c.path,a.name);return a.isDirectory?(d=e.rename(a.path,f),a.forEachChildDo(function(b){b.path=b.path.replace(a.path,f)}),a.forEachMetaChildDo(function(b){b.path=b.path.replace(a.path,f)})):(o.moveMeta(a,c),d=a.persisted?e.rename(a.path,f):b.when(a)),d.then(function(){return a.path=f,a},h(a))}},o.saveMeta=function(b,c){var d=new a(b.path+".meta",JSON.stringify(c));return o.saveFile(d).then(function(){var a=o.getParent(d);return a.metaChildren.push(d),c})},o.loadMeta=function(b){var c=new a(b.path+".meta");return o.loadFile(c).then(function(a){return JSON.parse(a.contents)},function(){return{}})},o.moveMeta=function(a,b){var c=a.name+".meta",d=o.join(b.path,c),f=a.path+".meta",g=o.getParent(a),h=g.metaChildren.find(function(a){return a.path===f});return h?e.rename(h.path,d).then(function(){var a=g.metaChildren.indexOf(h);return-1!==a&&g.metaChildren.splice(a,1),h.path=d,b.metaChildren.push(h),h},function(){return h}):void 0},o.join=function(){return Array.prototype.reduce.call(arguments,function(a,b){return null==b?a:"/"===b.charAt(0)?b:a.replace(/\/$/,"")+"/"+b},"/")},o}])}();var FSResolver=function(a,b){this.parsePath=function(a){return a.split("/").filter(function(a){return a&&""!==a})},this.getElement=function(b){var c=this.parsePath(b);return this.getElementFromPath(c,0,a)},this.getElementFromPath=function(a,b,c){if(a.length===b)return c;if(!c.isDirectory)return void 0;var d=this.getChild(c,a[b]);return d?this.getElementFromPath(a,b+1,d):d},this.getChild=function(a,b){return a.children.find(function(a){return a.name===b})},this.getFileContentAsync=function(a){if(a.loaded){if(a.doc)return Promise.resolve(a.doc.getValue());if(a.contents)return Promise.resolve(a.contents)}var c=function(a){return a.contents};return b.loadFile(a,!0).then(c)},this.contentAsync=function(a){var b=this.getElement(a);return!b||b.isDirectory?Promise.resolve(""):this.getFileContentAsync(b)},this.list=function(a){var b=this.getElement(a);return b&&b.isDirectory?b.children.map(function(a){return a.name}):[]},this.listAsync=function(a){return Promise.resolve(this.list(a))},this.exists=function(a){return!!this.getElement(a)},this.existsAsync=function(a){return Promise.resolve(this.exists(a))},this.dirname=function(a){var b=this.getElement(a);if(!b)return"";if(b.isDirectory)return b.path;var c=a.substring(0,a.lastIndexOf("/")+1);return c||""},this.resolve=function(a,b){if(b.startsWith("/"))return b;var c=a.endsWith("/")?a:a+"/";return c+b},this.extname=function(a){var b=this.getElement(a);if(!b||b.isDirectory)return"";var c=b.name.split(".");return c.length<=1?"":c[c.length-1]},this.isDirectory=function(a){var b=this.getElement(a);return!(!b||!b.isDirectory)},this.isDirectoryAsync=function(a){return Promise.resolve(this.isDirectory(a))}},EditorStateProvider=function(a,b,c){function d(a,b){return a+b}this.getText=function(){return c.getValue()},this.getPath=function(){return b},this.getBaseName=function(){var c=a.getElement(b);return c?c.name:""};var e=function(a){var b=a.getCursor(),c=range(0,b.line-1).map(function(b){return a.getLine(b).length+1}).reduce(d,0);return c+b.ch};this.offset=e(c),this.getOffset=function(){return this.offset}};angular.module("ramlEditorApp").factory("ramlSuggest",["ramlRepository","ramlEditorMainHelpers",function(a,b){function c(a,b){function c(a,b){if(!a)return!0;var c=b.text.toLowerCase();return c.startsWith(a)&&c!==a}var d=/:?(:|\s|\.|\[|]|-)+|!/,e=function(a,b){if(!a)return"";var c=a.slice(0,b).split(d);return c[c.length-1]},f=function(a,b){if(!a)return"";var c=a.slice(b).split(d);return c[0]},g=function(a,b,c){a.innerHTML=["<div>",c.displayText,"</div>",'<div class="category">',c.category,"</div>"].join("")},h=function(a){return{displayText:a.displayText||a.text,text:a.text,category:a.category,render:g}},i=a.getCursor(),j=a.getLine(i.line),k=i.ch,l=e(j,k)||"",m=f(j,k),n=l+m,o=n.toLowerCase(),p=a.getLine(i.line).length,q=k-l.length,r=b.filter(function(a){return c(o,a)}).map(h);return{word:n,list:r,from:CodeMirror.Pos(i.line,q),to:CodeMirror.Pos(i.line,p)}}function d(a){return(void 0===a.category||"unknown"===a.category.toLowerCase())&&(a.category="others"),a}function e(a){return a.text=a.text||a.displayText||"",a}function f(a,c){var d=a.getCursor().ch,e=c.length>0&&(0===d||c.find(function(a){return"methods"===a.category?a:null}));if(e&&b.isApiDefinition(a.getValue())){var f=e.replacementPrefix||"",g="\n"+new Array(d-f.length+1).join(" ")+"  ";return c.concat({text:"/newResource:"+g+"displayName: resourceName"+g,displayText:"New Resource",category:"resources",replacementPrefix:f})}return c}return this.FSResolver=FSResolver,this.EditorStateProvider=EditorStateProvider,this.getSuggestions=function(b,c,g){var h=RAML.Suggestions,i=new FSResolver(b,a),j=h.getContentProvider(i),k=new EditorStateProvider(i,c.path,g);return h.suggestAsync(k,j).then(function(a){return Array.isArray(a)?a:[]},function(){return[]}).then(function(a){return a.map(d)}).then(function(a){return a.map(e)}).then(function(a){return f(g,a)})},this.suggest=function(a,b,c){return this.getSuggestions(a,b,c)},this.autocompleteHelper=function(a,b,d,e,f){if(!e||!f){var g=angular.element(a.getInputField()).scope();e=e||g.homeDirectory,f=f||g.fileBrowser.selectedFile}this.getSuggestions(e,f,a).then(function(b){return c(a,b)}).then(function(a){b(a)})},this}]),function(){"use strict";function a(){}a.prototype={directory:function(a){throw"Not implemented: FileSystem list invoked with [fullpath="+a+"]";
},save:function(a,b){throw"Not implemented: FileSystem save invoked with [fullpath="+a+"] and [content="+b+"]"},createFolder:function(a){throw"Not implemented: FileSystem createFolder invoked with [fullpath="+a+"]"},load:function(a){throw"Not implemented: FileSystem load invoked with [fullpath="+a+"]"},remove:function(a){throw"Not implemented: FileSystem remove invoked with [fullpath="+a+"]"},rename:function(a,b){throw"Not implemented: FileSystem rename invoked with [source="+a+"] and [destination="+b+"]"}},angular.module("fs").provider("fileSystem",function(){return this.hasFactory=!1,this.setFileSystemFactory=function(a){this.$get=a,this.hasFactory=!0},this.$get=function(){return new a},this})}(),function(){"use strict";angular.module("ramlEditorApp").service("newFileService",["ramlRepository","newNameModal","$rootScope","generateName",function(a,b,c,d){function e(a,b,c){var e=a.children.map(function(a){return a.name}),f=(""!==b.label?c:"api")+"-";return d(e,f,"raml")}var f=this,g="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md#";return f.files={.8:{"":{label:"",name:"API Spec",description:"RAML 0.8 API Spec.",spec:"https://github.com/raml-org/raml-spec/blob/master/versions/raml-08/raml-08.md"}},"1.0":{"":{label:"",name:"API Spec",description:"RAML 1.0 API Spec.",spec:g+"the-root-of-the-document"},Trait:{label:"Trait",name:"Trait",description:"Define a single trait with common characteristics for methods.",spec:g+"resource-types-and-traits"},ResourceType:{label:"ResourceType",name:"Resource Type",description:"Define a single resource type with common characteristics for resources.",spec:g+"resource-types-and-traits"},Library:{label:"Library",name:"Library",description:"Define a collection of data type declarations, resource type declarations, trait declarations, and security scheme declarations into modular, externalized, reusable groups.",spec:g+"libraries"},Overlay:{label:"Overlay",name:"Overlay",description:"Define an overlay that adds or overrides nodes of a RAML API definition while preserving its behavioral, functional aspects.",spec:g+"overlays"},Extension:{label:"Extension",name:"Extension",description:"Define an extension that adds or modifies nodes of a RAML API definition.",spec:g+"extensions"},DataType:{label:"DataType",name:"Type",description:"Define a single data type declaration.",spec:g+"raml-data-types"},DocumentationItem:{label:"DocumentationItem",name:"User Documentation",description:"Define a single page documentation item.",spec:g+"user-documentation"},NamedExample:{label:"NamedExample",name:"Example",description:"Define a single example for a given data type.",spec:g+"defining-examples-in-raml"},AnnotationTypeDeclaration:{label:"AnnotationTypeDeclaration",name:"Annotation",description:"Define a single annotation type declaration that describes additional metadata that can be applied to any RAML node.",spec:g+"annotations"},SecurityScheme:{label:"SecurityScheme",name:"Security Scheme",description:"Define a single security scheme that describes the mechanism to secure data access, identify requests, and determine access level and data visibility.",spec:g+"security-schemes"}}},f.prompt=function(d,g,h){var i=d.isDirectory?d:a.getParent(d),j=[{message:"That file name is already taken.",validate:function(b){var c=a.join(i.path,b);return!a.getByPath(c)}}],k=h?h:"",l=f.files[g][k],m=e(d,l,h),n="Add new "+l.name+" file";return b.open(l.description,m,j,n,l.spec).then(function(b){return a.generateFile(i,b,g,k)["catch"](function(a){return c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})})},f.newFragmentFile=function(a,b){return""===b?f.prompt(a,"1.0"):f.prompt(a,"1.0",b)},f.newFile=function(a,b){return f.prompt(a,b)},f}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newFolderService",["ramlRepository","newNameModal",function(a,b){var c=this;return c.prompt=function(c){var d=c.isDirectory?c:a.getParent(c),e="Input a name for your new folder:",f="Add a new folder",g=[{message:"That folder name is already taken.",validate:function(b){var c=a.join(d.path,b);return!a.getByPath(c)}}];return b.open(e,"",g,f).then(function(b){return a.generateDirectory(d,b)})},c}])}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return'file with path="'+a+'" does not exist'}function h(a,b){a.type===f&&(a.children=b(a.path))}function i(a){var b=[];return e.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(h(c,j),b.push(c))}),b.length>0?b[0]:null}function j(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");var b=[];return e.forEach(function(c){c.path.toLowerCase()!==a.toLowerCase()&&o(c.path)+"/"===a&&(h(c,j),b.push(c))}),b}function k(a){return 0!==a.indexOf("/")?{valid:!1,reason:'Path should start with "/"'}:{valid:!0}}function l(a){var b=o(a);return e.has(b)||""===b?!0:!1}function m(a){var b=!1;return e.forEach(function(c){0===c.path.indexOf(a+"/")&&(b=!0)}),b}function n(a){var b=k(a);if(!b.valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(a.lastIndexOf("/")+1)}function o(a){var b=k(a);if(!b.valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(0,a.lastIndexOf("/"))}var p={},q=500;return p.supportsFolders=!0,p.directory=function(a){var c=b.defer();return d(function(){var b=k(a);return b.valid?(e.has("/")||e.set(a,{path:"/",name:"",type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),void c.resolve(i(a))):(c.reject(b.reason),c.promise)},q),c.promise},p.save=function(a,c){var g=b.defer();return d(function(){var b=n(a),d=e.get(a);if(!l(a))return g.reject(new Error("Parent folder does not exists: "+a)),g.promise;var h={};if(d){if(d.type===f)return g.reject("file has the same name as a folder"),g.promise;d.content=c,d.meta.lastUpdated=Math.round((new Date).getTime()/1e3),h=d}else h={path:a,name:b,content:c,type:"file",meta:{created:Math.round((new Date).getTime()/1e3)}};e.set(a,h),g.resolve()},q),g.promise},p.createFolder=function(a){var c=b.defer(),f=k(a);if(!f.valid)return c.reject(f.reason),c.promise;if(e.has(a))return c.reject(new Error("Folder already exists: "+a)),c.promise;var g=o(a);return e.has(g)?(d(function(){e.set(a,{path:a,name:n(a),type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),c.resolve()},q),c.promise):(c.reject(new Error("Parent folder does not exists: "+a)),c.promise)},p.load=function(a,c){var f=b.defer();return(c?setTimeout:d)(function(){var b=e.get(a);b&&"file"===b.type?f.resolve(e.get(a).content):f.reject(g(a))},q),f.promise},p.remove=function(a){var c=b.defer();return d(function(){var b=e.get(a);return b&&b.type===f&&m(a)?(c.reject("folder not empty"),c.promise):(e.remove(a),void c.resolve())},q),c.promise},p.rename=function(a,c){var g=b.defer();return d(function(){var b=e.get(a);if(!b)return g.reject("Source file or folder does not exists."),g.promise;var d=e.get(c);return d?(g.reject("File or folder already exists."),g.promise):l(c)?(b.path=c,b.name=n(c),e.remove(c),e.remove(a),e.set(c,b),b.type===f&&e.forEach(function(b){if(b.path.toLowerCase()!==a.toLowerCase()&&0===b.path.indexOf(a)){var d=c+b.path.substring(a.length);e.remove(b.path),b.path=d,e.set(d,b)}}),void g.resolve()):(g.reject("Destination folder does not exist."),g.promise)},q),g.promise},p.exportFiles=function(){var b=new a.JSZip;e.forEach(function(a){if("/"!==a.path&&".meta"!==a.name.slice(-5)){var c=a.path.slice(1);"folder"===a.type?b.folder(c):b.file(c,a.content)}});var d=c("Please enter a ZIP file name:","api.zip");d&&a.saveAs(b.generate({type:"blob"}),d)},p}angular.module("fs").constant("LOCAL_PERSISTENCE_KEY","localStorageFilePersistence").constant("FOLDER","folder").factory("localStorageHelper",["LOCAL_PERSISTENCE_KEY",function(a){return{forEach:function(b){for(var c in localStorage)localStorage.hasOwnProperty(c)&&0===c.indexOf(a+".")&&b(JSON.parse(localStorage.getItem(c)))},has:function(a){var b=!1;return a=a||"/",this.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(b=!0)}),b},set:function(b,c){localStorage.setItem(a+"."+b,JSON.stringify(c))},get:function(b){return JSON.parse(localStorage.getItem(a+"."+b))},remove:function(b){localStorage.removeItem(a+"."+b)}}}]).factory("localStorageFileSystem",a).config(function(b){b.hasFactory||b.setFileSystemFactory(a)})}(),function(){"use strict";angular.module("ramlEditorApp").factory("mockingServiceUtils",["$q","jsTraverse","ramlRepository","refParser",function(a,b,c,d){function e(c){return a.when().then(function(){var e=[];return b.traverse(c).forEach(function(a){if("body.application/json"===this.path.slice(-2).join(".")){var b;a.schema?b=a.schema:a.type&&(b=a.type),Array.isArray(b)&&(b=b[0]);try{e.push(d.dereference(JSON.parse(b),{$refs:{read$Ref:g}}).then(JSON.stringify).then(function(b){a.schema=b}))}catch(c){}}}),a.all(e)})}function f(a){return e(a)}function g(a){var b="/"===a.path[0]?a.path:"/"+a.path;return c.getContentByPath(b,!0)}return{dereference:f}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingServiceClient",["$http","$q","$window","resolveUri",function(a,b,c,d){function e(a){var b=a.baseUri,c=b.match(/mocks\//g).length;if(c>1)for(var d="mocks/",e=c;e>1;e--){var f=b.indexOf(d),g=b.indexOf("/",f+d.length);b=b.substring(0,f)+b.substring(g+1,b.length)}a.baseUri=b}var f=this;f.proxy=null,f.baseUri="https://mocksvc.qax.mulesoft.com",f.buildURL=function(){var a=f.baseUri+["/mocks"].concat(Array.prototype.slice.call(arguments,0)).join("/"),b=f.proxy||c.RAML.Settings.proxy;return b&&(a=b+d(a)),a},f.simplifyMock=function(a){return a.baseUri&&e(a),{id:a.id,baseUri:a.baseUri,manageKey:a.manageKey}},f.getMock=function(c){return a.get(f.buildURL(c.id,c.manageKey)).then(function(a){return f.simplifyMock(a.data)},function(a){return 404!==a.status?b.reject(a):void 0})},f.createMock=function(b){return a.post(f.buildURL(),b).then(function(a){return f.simplifyMock(a.data)})},f.updateMock=function(b){return a({method:"PATCH",url:f.buildURL(b.id,b.manageKey),data:{raml:b.raml,json:b.json}}).then(function(a){return f.simplifyMock(angular.extend(b,a.data))})},f.deleteMock=function(b){return a["delete"](f.buildURL(b.id,b.manageKey))}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingService",["mockingServiceClient","mockingServiceUtils","ramlRepository",function(a,b,c){function d(a){return c.loadMeta(a).then(function(a){return a.mock})}function e(a,b){return c.loadMeta(a).then(function(d){return d.mock=b,c.saveMeta(a,d)}).then(function(){return b})}function f(a){return b.dereference(a)["catch"](function(a){console.error("dereferenceRaml failed",a.stack)})}var g=this;g.getMock=function(a){return d(a)},g.createMock=function(b,c){return f(c).then(function(){return a.createMock({raml:b.contents,json:c})}).then(function(a){return e(b,a)})},g.updateMock=function(b,c){return f(c).then(function(){return d(b)}).then(function(d){return d&&a.updateMock(angular.extend(d,{raml:b.contents,json:c}))}).then(function(a){return e(b,a)})},g.deleteMock=function(b){return d(b).then(function(b){return b&&a.deleteMock(b)}).then(function(){return e(b,null)})}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("subMenuService",["$timeout","$window",function(a,b){this.open=function(c,d){a(function(){b.addEventListener("click",function a(){c.$apply(function(){c[d]=!1}),b.removeEventListener("click",a)})}),c[d]=!0},this.openSubMenu=function(a,b){a[b]=!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importModal",["$modal",function(a){var b=this;return b.open=function(){return a.open({templateUrl:"views/import-modal.html",controller:"ImportController"}).result},b}]).controller("ImportController",["$scope","$modalInstance","swaggerToRAML","$q","$window","$rootScope","importService","ramlRepository",function(a,b,c,d,e,f,g,h){function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(c){return a.fileSupported?(a.importing=!0,g.mergeFile(a.rootDirectory,c.value).then(function(){g.isZip(c.value)&&f.$broadcast("event:save-all")}).then(function(){return b.close(!0)})["catch"](function(a){i(a.message||a)})["finally"](function(){a.importing=!1})):i("File upload not supported. Try upgrading your browser.")}function k(d){a.importing=!0;var f=e.RAML.Settings.proxy||"",h=f+d.value;return c.url(h).then(function(b){var c=m(d.value,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}).then(function(){return b.close(!0)})["catch"](function(a){i("Failed to import Swagger: "+a.message)})["finally"](function(){a.importing=!1})}function l(d){a.importing=!0;var e;return e=g.isZip(d.value)?c.zip(a.rootDirectory,d.value).then(function(){f.$broadcast("event:save-all")}):c.file(d.value).then(function(b){var c=m(d.value.name,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}),e.then(function(){return b.close(!0)})["catch"](function(a){i("Failed to parse Swagger: "+a.message)})["finally"](function(){a.importing=!1})}function m(a,b){var c=a.replace(/\/*$/,""),d=c.lastIndexOf("/");return d>-1&&(c=c.substr(d)),b&&(c=c.replace(/\.[^\.]*$/,"")+"."+b),c}a.importing=!1,a.rootDirectory=h.getByPath("/"),a.handleFileSelect=function(b){a.mode.value=b.files[0]},a.options=[{name:"RAML file",type:"file",spec:"RAML",callback:j},{name:"OAS file",type:"file",spec:"OAS",callback:l},{name:"OAS spec",type:"url",spec:"OAS",callback:k}],a.mode=a.options[0],a.fileSupported=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),a["import"]=function(b){if(b.$submitted=!0,a.submittedType=a.mode.type,!b.$invalid&&!a.importing)try{return a.mode.callback(a.mode)}catch(c){a.importing=!1,i(c.message||c)}}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("confirmModal",["$rootScope","$modal",function(a,b){var c=this;return c.open=function(c,d,e){return e=angular.extend({canDiscard:!1,closeButtonLabel:"OK",discardButtonLabel:"Discard",dismissButtonLabel:"Cancel",closeButtonCssClass:"btn-primary"},e),b.open({templateUrl:"views/confirm-modal.html",controller:"ConfirmController",scope:angular.extend(a.$new(),{title:d,message:c,canDiscard:e.canDiscard,closeButtonLabel:e.closeButtonLabel,discardButtonLabel:e.discardButtonLabel,dismissButtonLabel:e.dismissButtonLabel,closeButtonCssClass:e.closeButtonCssClass})}).result},c}]).controller("ConfirmController",["$modalInstance","$scope",function(a,b){b.discard=function(){a.dismiss(angular.extend(new Error,{discard:!0}))}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newNameModal",["$modal",function(a){var b=this;return b.open=function(b,c,d,e,f){return a.open({templateUrl:"views/new-name-modal.html",controller:"NewNameController",windowClass:"modal in",resolve:{message:function(){return b},title:function(){return e},defaultName:function(){return c},validations:function(){return d},link:function(){return f}}}).result},b}]).controller("NewNameController",["$modalInstance","$scope","message","defaultName","validations","title","link",function(a,b,c,d,e,f,g){b.input={newName:d,message:c,title:f,link:g},b.validationErrorMessage="",b.isValid=function(a){if(a)for(var c=0;c<e.length;c++)if(!e[c].validate(a))return b.validationErrorMessage=e[c].message,!1;return!0},b.submit=function(c){return c.$invalid?void(c.$submitted=!0):void a.close(b.input.newName)}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("swaggerToRAML",["$window","$q","$http","importService","oasRamlConverter",function(a,b,c,d,e){function f(a,b){var c=a.lastIndexOf(".");return c>-1&&(a=a.substr(0,c)),a+"."+b}function g(){return new e.Converter(e.Formats.OAS,e.Formats.RAML10)}function h(a,b){function c(a){try{var b=JSON.parse(a);return h.test(b.swagger)}catch(c){return i.test(a)}}function e(a,b,d){function e(a){return 0!==a.indexOf("http")?"http://zip/"+a:a}function h(a){return 0===a.indexOf("http://zip/")?a.substring("http://zip/".length):a}var i=a[b];if(!c(i))return d.resolve({name:b,content:i});var j={canRead:function(a){return null!=this.read(a)},read:function(b){var c=h(b.url),d=a[c];if(!d)throw new Error("Could not load content for file "+c);return d}};g().convertFile(e(b),{resolve:{file:j,http:j}}).then(function(a){d.resolve({name:f(b,"raml"),content:a})})["catch"](function(a){d.reject(a)})}var h=/^\d+\.\d+$/,i=/swagger\s*:\s*"{0,1}\d+\.\d+"{0,1}/;return d.importZip(a,b,e)}var i=this;return i.url=function(a){var c=b.defer();return g().convertFile(a).then(c.resolve)["catch"](c.reject),c.promise},i.file=function(a){var c=b.defer();return d.readFile(a).then(function(a){g().convertData(a).then(c.resolve)["catch"](c.reject)})["catch"](c.reject),c.promise},i.zip=function(a,c){var e=b.defer();return d.readFile(c).then(function(b){h(a,b).then(e.resolve)["catch"](e.reject)})["catch"](e.reject),e.promise},i}])}(),function(){"use strict";angular.module("ramlEditorApp").service("ramlToSwagger",["$q","$window","ramlRepository","ramlEditorMainHelpers","oasRamlConverter",function(a,b,c,d,e){function f(b){if(b&&d.isApiDefinition(b.contents))return a.when(b);var e=a.defer(),f=c.getByPath("/");return h(f,e),e.promise}function g(b,e){(b.loaded?a.when(b):c.loadFile(b)).then(function(a){d.isApiDefinition(a.contents)&&e.resolve(a)})}function h(a,b){for(var c=0;c<a.children.length;c++){var d=a.children[c];d.isDirectory?h(d,b):g(d,b)}}function i(a){var b=d.isApiDefinitionV08(a.contents)?e.Formats.RAML08:e.Formats.RAML10;return new e.Converter(b,e.Formats.OAS)}function j(a,b,d){var e={format:d,fsResolver:{content:function(a){throw new Error("ramlParser: loadPath: loadApi: content: "+a+": no such path")},contentAsync:function(a){return c.getContentByPath(a)}}};i(a).convertFile(a.path,e).then(function(c){b.resolve({name:a.name,path:a.path,contents:c})})["catch"](b.reject)}function k(b,c){var d=a.defer();return f(c).then(function(a){j(a,d,b)})["catch"](function(a){d.reject(a)}),d.promise}var l=this;return l.json=function(a){return k("json",a)},l.yaml=function(a){return k("yaml",a)},l}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importService",["$q","$window","ramlRepository","importServiceConflictModal",function(a,b,c,d){function e(a,b,c){return r.readFile(c).then(function(d){if(r.isZip(c)){var e=b.replace(/[\\\/][^\\\/]*$/,"");return r.createDirectory(a,e).then(function(a){return r.importZip(a,d)})}return r.createFile(a,b,d)})}function f(b,c,d){if(0===c.length)return a.reject("No valid files to import in .zip");var e=Object.keys(c).filter(i).map(function(e){return function(){if(d){var f=a.defer();return d(c,e,f),f.promise.then(function(a){return r.createFile(b,a.name,a.content)})}return r.createFile(b,e,c[e])}});return m(e)}function g(a){var b={};return Object.keys(a).forEach(function(c){if(!/^__MACOSX\//.test(c)&&!/\/$/.test(c)){var d=a[c];p(d)&&(b[c]=d.asText())}}),b}function h(a){var b=Object.keys(a);if(0===b.length)return[];var c=b.map(function(a){return/[\\\/]/.test(a)?a.replace(/[\\\/][^\\\/]*$/,"").split(/[\\\/]/):[]}).reduce(function(a,b){for(var c=0;c<a.length;c++)if(b[c]!==a[c])return b.slice(0,c);return a}).join("/");if(!c)return angular.extend({},a);var d={};return Object.keys(a).forEach(function(b){var e=b.substr(c.length+1);e&&(d[e]=a[b])}),d}function i(a){return!/(?:^|[\/\\])\./.test(a)}function j(a){return!!c.getByPath(a)}function k(a,b,d){return c.createFile(a,b).then(function(a){return a.contents=d,a})}function l(a,b){var d,e=0,f=b.lastIndexOf("."),g=f>-1?b.substr(0,f):b,h=f>-1?b.substr(f):"";do{var i=g+"-"+ ++e+h;d=c.join(a.path,i)}while(j(d));return d}function m(b){return b.reduce(function(a,b){return a.then(b)},a.when())}function n(a){return a.split("/").map(function(a){return a.replace(/[^A-Za-z0-9. _-]/g,"")}).join("/")}function o(a){return a.size<=1e7}function p(a){var c=b.RAML.Settings.customValidFileTypes||"text|image|raml|json|yaml|xml|xsd|zip",d=new RegExp(c,"i");if(a.type&&d.test(a.type))return!0;var e=b.RAML.Settings.customValidFileExtensions||".raml|.json|.yaml|.yml|.xml|.xsd|.jsd|.md|.txt|.jpg|.jpeg|.png|.html|.csv|.properties|.zip$",f=new RegExp(e,"i");return f.test(a.name)}function q(a){return a.name.slice(a.name.lastIndexOf(".")+1)}var r=this;r.mergeFile=function(a,b){return r.isZip(b)?r.readFile(b).then(function(b){return r.mergeZip(a,b)}):r.importFile(a,b).then(c.saveFile)},r.mergeFileList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return r.mergeFile(a,b)}});return m(c)},r.importEntry=function(b,d){var f=a.defer();if(d.isFile)d.file(function(a){var g=c.join(b.path,d.fullPath);return e(b,g,a).then(f.resolve,f.reject)},f.reject);else{var g=d.createReader();g.readEntries(function(a){var c=a.filter(function(a){return i(a.name)}).map(function(a){return function(){return r.importEntry(b,a)}});return m(c).then(f.resolve,f.reject)})}return f.promise},r.importItem=function(a,b){return b.webkitGetAsEntry?r.importEntry(a,b.webkitGetAsEntry()):r.importFile(a,b.getAsFile())},r.importFile=function(a,b){return e(a,b.name,b)},r.importFromEvent=function(a,b){return b.dataTransfer.items?r.importItemList(a,b.dataTransfer.items):r.importFileList(a,b.dataTransfer.files)},r.importItemList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return r.importItem(a,b)}});return m(c)},r.importFileList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return r.importFile(a,b)}});return m(c)},r.createAndSaveFile=function(a,b,d){return r.createFile(a,b,d).then(c.saveFile)},r.createFile=function(b,e,f){var g=n(e);return r.checkExistence(b,g).then(function(e){if(e!==d.SKIP_FILE){if(e===d.KEEP_FILE){var h=l(b,g);return k(b,h,f)}if(e===d.REPLACE_FILE){var i=c.join(b.path,g),j=c.getByPath(i);return(j.loaded?a.when(j):c.loadFile({path:i})).then(function(a){return a.contents!==f&&(j.contents=a.contents,j.loaded=!0,j.doc?j.doc.setValue(f):j.doc=new CodeMirror.Doc(f),j.dirty=!0),j})}return k(b,g,f)}})},r.createDirectory=function(a,b){return c.createDirectory(a,b)},r.checkExistence=function(b,e){var f=c.join(b.path,e);return j(f)?d.open(f):a.when(null)},r.isZip=function(a){return/\.zip$/i.test(a.name)},r.readFile=function(c){if(!o(c))return a.reject("Only files up to 10mb are allowed");if(!p(c))return a.reject('Invalid file type "'+q(c)+'"');var d=a.defer(),e=new b.FileReader;return e.onload=function(){return d.resolve(e.result)},e.onerror=function(){return d.reject(e.error)},r.isZip(c)?e.readAsArrayBuffer(c):e.readAsText(c),d.promise},r.parseZip=function(a){var c=new b.JSZip(a);return g(c.files)},r.mergeZip=function(a,b){var c=h(r.parseZip(b));return f(a,c)},r.importZip=function(a,b,c){var d=r.parseZip(b);return f(a,d,c)}}])}(),function(){"use strict";var a=0,b=1,c=2;angular.module("ramlEditorApp").service("importServiceConflictModal",["$modal",function(d){var e=this;return e.open=function(a){return d.open({backdrop:"static",templateUrl:"views/import-service-conflict-modal.html",controller:"ImportServiceConflictModal",resolve:{path:function(){return a}}}).result},e.KEEP_FILE=b,e.SKIP_FILE=a,e.REPLACE_FILE=c,e}]).controller("ImportServiceConflictModal",["$scope","$modalInstance","path",function(d,e,f){d.path=f,d.skip=function(){e.close(a)},d.keep=function(){e.close(b)},d.replace=function(){e.close(c)}}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("oasRamlConverter",["$window",function(a){return a.oasRamlConverter}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("jsTraverse",["$window",function(a){return a.jsTraverse}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("refParser",["$window",function(a){return a.$RefParser}])}(),angular.module("ramlEditorApp").factory("ramlWorker",["ramlRepository","ramlParser","$q","$window",function(a,b,c,d){var e=function(c){return b.loadPath(c.path,function(b){return a.getContentByPath(b)})},f=d.RAML.worker;if(f){var g=null,h=null;e=function(a){var b=c.defer(),d=a.path;return g?(h&&h.deferred.reject("aborted"),h={deferred:b,data:a}):(g=a,l("ramlParse",a).then(function(a){a.path=d,b.resolve(a),i()})["catch"](function(a){a.path=d,b.reject(a),i()})),b.promise};var i=function(){g=null,h&&(e(h.data).then(h.deferred.resolve)["catch"](h.deferred.reject),h=null)},j=function(a,b){f.addEventListener("message",function(c){c.data.type===a&&b(c.data.payload)},!1)},k=function(a,b){try{f.postMessage({type:a,payload:b})}catch(c){console.error("Error when trying to post to worker",c),f.postMessage({type:a})}},l=function(a,b){var d=c.defer();const e=function(b){b.data.type===a+"-resolve"?(f.removeEventListener("message",e,!1),d.resolve(b.data.payload)):b.data.type===a+"-reject"&&(f.removeEventListener("message",e,!1),d.reject(b.data.payload))};return f.addEventListener("message",e,!1),k(a,b),d.promise};j("requestFile",function(b){b.path===g.path?k("requestFile",{path:b.path,content:g.contents}):a.getContentByPath(b.path,!0).then(function(a){k("requestFile",{path:b.path,content:a})})["catch"](function(a){var c="string"==typeof a?a:a.message||"File not found "+b.path;k("requestFile",{path:b.path,error:c})})})}return{ramlParse:e}}]),function(){"use strict";angular.module("stringFilters",[]).filter("dasherize",function(){return function(a){return a?a.toLowerCase().trim().replace(/\s/g,"-"):""}})}(),function(){"use strict";angular.module("ramlEditorApp").constant("UPDATE_RESPONSIVENESS_INTERVAL",800).controller("ramlEditorMain",["UPDATE_RESPONSIVENESS_INTERVAL","$scope","$rootScope","$timeout","$window","safeApply","safeApplyWrapper","debounce","ramlWorker","ramlRepository","codeMirror","codeMirrorErrors","config","$prompt","$confirm","$modal","mockingServiceClient","$q","ramlEditorMainHelpers",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a){var b="";return a&&(b=a.path,a.dirty&&(b="* "+b)),b}function u(a){function b(a){return a.__isFold}function c(a){return a.find().from.line}function d(a,b){return Math.min(a,b)}var e={line:a};return x.findMarksAt(e).filter(b).map(c).reduce(d,y)}function v(a,b,c){return c===b?a:"Error on line "+(b+1)+": "+a}function w(a){return a&&a.start?{line:1+a.start.line,column:a.start.column}:a&&Array.isArray(a)?{line:1+a[0],column:a[1]}:{line:1,column:1}}var x,y,z;e.setTheme=function(a){m.set("theme",a),b.theme=c.theme=a,f(b)},b.$on("event:raml-editor-file-selected",function(a,d){z=d,s.isApiDefinitionLike(d.contents)&&c.$broadcast("event:raml-parsed",{}),d.doc||(d.doc=new CodeMirror.Doc(d.contents)),x.swapDoc(d.doc),x.focus(),k.configureEditor(x,d.extension),b.fileParsable=b.getIsFileParsable(d),b.sourceUpdated()}),b.$watch("fileBrowser.selectedFile.contents",function(a){null!=a&&a!==x.getValue()&&(z.doc=new CodeMirror.Doc(a),x.swapDoc(z.doc))});var A=h(function(){c.$broadcast("event:file-updated")},m.get("updateResponsivenessInterval",a));b.$on("event:raml-editor-file-created",A),b.$on("event:raml-editor-file-removed",A),b.$on("event:raml-editor-file-removed",function(a,b){z===b&&(z=void 0,x.swapDoc(new CodeMirror.Doc("")))}),b.canExportFiles=function(){return j.canExport()},b.supportsFolders=j.supportsFolders,b.sourceUpdated=function(){var a=x.getValue(),c=b.fileBrowser.selectedFile;b.clearErrorMarks(),c.contents=a,b.fileParsable=b.getIsFileParsable(c),A()},b.loadRaml=function(a,b){return i.ramlParse({path:b,contents:a}).then(function(b){return s.isApiDefinitionLike(a)?b:null})},b.clearErrorMarks=function(){l.clearAnnotations(),b.hasErrors=!1,b.currentErrorCount=0,b.currentWarningCount=0,z&&b.fileParsable&&""!==z.doc.getValue().trim()||(b.currentError=void 0,y=void 0)};var B;b.parsing=0,b.$on("event:file-updated",function(){b.clearErrorMarks(),d.cancel(B),B=d(function(){b.clearErrorMarks(),z&&b.fileParsable&&""!==z.doc.getValue().trim()&&(b.parsing++,b.loadRaml(z.doc.getValue(),z.path).then(g(b,function(a){if(b.parsing--,b.clearErrorMarks(),a&&a.path===z.path&&0===b.parsing){var d=a.errors;if(d&&d.length>0&&(c.$broadcast("event:raml-parser-error",d),b.currentWarningCount=d.reduce(function(a,b){return b.isWarning?a+1:a},0),b.currentErrorCount=d.reduce(function(a,b){return b.isWarning?a:a+1},0)),0===b.currentErrorCount){var e=a.specification;c.$broadcast("event:raml-parsed",e)}$(".CodeMirror").each(function(a,b){b.CodeMirror.refresh()})}}))["catch"](g(b,function(a){b.parsing--,"aborted"!==a&&a.path===z.path&&0===b.parsing&&(b.currentErrorCount=0,b.currentWarningCount=0,c.$broadcast("event:raml-parser-error",a.parserErrors||a))})))},700)}),b.$on("event:raml-parsed",g(b,function(a,c){b.fileBrowser.selectedFile.raml=c,b.raml=c,b.title=c&&c.title,b.version=c&&c.version,b.ramlError=void 0,b.currentError=void 0,y=void 0})),b.$on("event:raml-parser-error",g(b,function(a,c){var d=Array.isArray(c)?c:[{line:0,column:1,message:c.message,isWarning:c.isWarning}];b.ramlError=c,l.displayAnnotations(d.map(function(b){function c(a,b){for(var e=0;e<a.length;e++){var f=a[e];if(f.path===b.name)return f.from=d,f;if(f.trace){var g=c(f.trace,b);if(g)return g.from=f,g}}}var d=b,e={line:void 0,column:void 0,path:void 0},f=void 0!==b.trace;if(f){var g=a.currentScope.fileBrowser.selectedFile,h=g.path,i=h.lastIndexOf("/")+1,j=h.substring("/"===h[0]?1:0,i);if(d=c(b.trace,g)){d.isWarning=b.isWarning;var k=w(d.from.range);e={line:k.line,column:k.column,path:j+d.from.path}}else{d={message:b.message,isWarning:b.isWarning};var l=w(b.range);e={line:l.line,column:l.column,path:j+b.path}}}var m=w(d.range);return{line:m.line,column:m.column,message:d.message,severity:d.isWarning?"warning":"error",path:e.path,tracingLine:e.line,tracingColumn:e.column}}))})),b.openHelp=function(){p.open({templateUrl:"views/help.html"})},b.getIsFileParsable=function(a){return s.isRamlFile(a.extension)&&s.isApiDefinitionLike(a.contents)},b.getIsMockingServiceVisible=function(){return!(b.mockingServiceDisabled||!b.fileParsable)},b.getIsShelfVisible=function(){return b.fileParsable},b.getIsConsoleVisible=function(){return b.fileParsable&&b.raml},b.toggleShelf=function(){b.shelf.collapsed=!b.shelf.collapsed,m.set("shelf.collapsed",b.shelf.collapsed)},b.getSelectedFileAbsolutePath=function(){if(!z)return"";var a="";return b.fileParsable&&(b.parsing>0?a="validating...":(b.currentErrorCount||b.currentWarningCount)&&(b.currentErrorCount&&(a+=b.currentErrorCount+" "+(b.currentErrorCount>1?"errors":"error")),b.currentErrorCount&&b.currentWarningCount&&(a+=", "),b.currentWarningCount&&(a+=b.currentWarningCount+" "+(b.currentWarningCount>1?"warnings":"warning")))),t(z)+(a?" ("+a+")":"")},b.$on("event:toggle-theme",function(){e.setTheme("dark"===b.theme?"light":"dark")}),function(){b.currentError=void 0,b.theme=c.theme=m.get("theme","dark"),b.shelf={},b.shelf.collapsed=JSON.parse(m.get("shelf.collapsed","false")),b.editor=x=k.initEditor(),x.on("fold",function(a,c,d){c.line<=y&&y<=d.line&&l.displayAnnotations([{line:c.line+1,message:v(b.currentError.message,y,c.line)}])}),x.on("unfold",function(){var a=u(y),c=v(b.currentError.message,y,a);l.displayAnnotations([{line:a+1,message:c}])}),x.on("change",function(){b.sourceUpdated()}),e.alreadyNotifiedExit=!1,e.editorFilesystemIsDirty=function(){var a=!1;return b.homeDirectory.forEachChildDo(function(b){a=b.dirty||a}),a},e.onbeforeunload=function(){return!e.alreadyNotifiedExit&&e.editorFilesystemIsDirty()?"WARNING: You have unsaved changes. Those will be lost if you leave this page.":void 0},b.mockingServiceBaseUri&&(q.baseUri=b.mockingServiceBaseUri)}()}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("ramlEditorMainHelpers",function(){function a(a){return"raml"===a}function b(a){return c(a)||e(a)}function c(a){return/^#%RAML\s(0\.8|1\.0)\s*$/.test(f(a))}function d(a){return/^#%RAML\s(0\.8)\s*$/.test(f(a))}function e(a){return/^#%RAML\s1\.0\s(Trait|ResourceType|Library|Overlay|Extension|DataType|DocumentationItem|NamedExample|AnnotationTypeDeclaration|SecurityScheme)\s*$/.test(f(a))}function f(a){return a.split(/\r\n|\n/)[0]}return{isRamlFile:a,isApiDefinition:c,isApiDefinitionV08:d,isApiDefinitionLike:b}})}(),function(){"use strict";angular.module("ramlEditorApp").factory("applySuggestion",function(){return function(a,b){
var c=b.replacementPrefix||"",d=a.getCursor(),e={line:d.line,ch:a.getLine(d.line).length},f={line:d.line,ch:d.ch-c.length};a.replaceRange(b.key,f,e);var g=b.key.split("\n"),h=g.length>1?g[g.length-1].length:d.ch+g[0].length-c.length,i=d.line+g.length-1;a.setCursor({line:i,ch:h}),a.focus()}}).factory("newSuggestions",["ramlSuggest",function(a){var b=function(a,b){var c=function(a,c){var d=a[c[b]]||[];return d.push(c),a[c[b]]=d,a};return a.reduce(c,{})},c=function(a){var c=a.map(function(a){return{category:a.category,title:a.displayText||a.text,key:a.text,replacementPrefix:a.replacementPrefix||""}}),d=b(c,"category"),e=Object.keys(d).map(function(a){return{name:a,items:d[a]}});return{categories:e}};return function(b,d,e){return a.suggest(b,d,e).then(c)}}]).controller("ramlEditorShelf",["$scope","safeApplyWrapper","newSuggestions","applySuggestion",function(a,b,c,d){function e(b){a.model=b,a.$digest()}var f=a.editor;a.cursorMoved=b(null,function(){a.shelf.collapsed?a.model=[]:c(a.homeDirectory,a.fileBrowser.selectedFile,f).then(e)}),a.orderSections=function(a){var b=["root","docs","methods","parameters","responses","security","resources","traits and types"].indexOf(a.name.toLowerCase());return-1===b?b.length:b},a.itemClick=function(a){d(f,a)},f.on("cursorActivity",a.cursorMoved)}])}(),function(){"use strict";angular.module("ramlEditorApp").constant("NOTIFICATION_TIMEOUT",3e3).controller("notifications",["NOTIFICATION_TIMEOUT","$scope","$timeout",function(a,b,c){function d(){var f;e.length&&(f=e.splice(0,1)[0],b.message=f.message,b.expires=f.expires,b.level=f.level||"info",b.shouldDisplayNotifications=!0,f.expires&&c(function(){b.shouldDisplayNotifications=!1,d()},a))}var e=[];b.shouldDisplayNotifications=!1,b.$on("event:notification",function(a,b){e.push(JSON.parse(JSON.stringify(b))),d()}),b.hideNotifications=function(){b.shouldDisplayNotifications=!1,d()}}])}(),function(){"use strict";angular.module("ramlEditorApp").controller("mockingServiceController",["$scope","mockingService","codeMirror","getNode",function(a,b,c,d){function e(){function b(b,d,e){c.setLine(a.editor,b,(e||"")+a.editor.getLine(b)+"\n"+d)}for(var e="baseUri: "+a.mock.baseUri,f=d(a.editor,0);f;){if("baseUri"===f.getKey())return void(f.getValue().text!==a.mock.baseUri&&b(f.lineNumber,e,"#"));f=f.getNextSibling()}for(var g=0;a.editor.getLine(g);g++)if("---"===a.editor.getLine(g).trim())return void b(g,e);b(0,e)}function f(){var b="baseUri: "+a.mock.baseUri,d=void 0,e=void 0;for(d=0;d<a.editor.lineCount();d++)if(e=a.editor.getLine(d).trim(),e===b){c.removeLine(a.editor,d);break}for(d=Math.min(d,a.editor.lineCount()-1);d>=0;d--)if(e=a.editor.getLine(d).trim(),0===e.indexOf("#")&&0===e.slice(1).trim().indexOf("baseUri: ")){c.setLine(a.editor,d,e.slice(1).trim());break}}function g(b){return a.loading=!0,b["finally"](function(){a.loading=!1})}function h(b){a.mock=b,a.enabled=!!b}function i(){g(b.getMock(a.fileBrowser.selectedFile).then(h).then(function(){a.mock&&e()}))}function j(){g(b.createMock(a.fileBrowser.selectedFile,a.fileBrowser.selectedFile.raml).then(h).then(e))}function k(){b.updateMock(a.fileBrowser.selectedFile,a.fileBrowser.selectedFile.raml).then(h)}function l(){g(b.deleteMock(a.fileBrowser.selectedFile).then(function(){f()}).then(h))}a.toggleMockingService=function(){return a.fileBrowser.selectedFile?a.enabled?void l():void j():void 0},a.$watch("fileBrowser.selectedFile",function(a){a?i():h()}),a.$watch("fileBrowser.selectedFile.raml",function(){a.enabled&&k()})}])}(),function(){"use strict";angular.module("splitter",[]).directive("ngSplitter",["$window","config",function(a,b){function c(a){return a.attr("ng-splitter-collapse-target")}function d(a){return a.attr("ng-splitter-min-width")}function e(a){return a[c(a)]()}function f(a){return a[{next:"prev",prev:"next"}[c(a)]]()}function g(a,b){var c=d(a);return("undefined"==typeof c||b>=c)&&e(a).css("min-width",Math.max(0,b)+"px"),Math.max(0,b)}function h(a,b,d){var h=e(a),j=i(h,b),k=f(a),l=i(k,b),m={next:1,prev:-1}[c(a)];return 0>l+d*m&&(d=l*m*-1),d&&(j=g(a,j-d*m)),j}function i(a,b){var c="offset"+b[0].toUpperCase()+b.slice(1);return a[0][c]}function j(a,c){return b.get("splitterSize_"+a.attr("id"))||k(a,c)}function k(a,c){var d=i(e(a),c);return b.set("splitterSize_"+a.attr("id"),d),d}function l(a){return"true"===b.get("splitterCollapsed_"+a.attr("id"))}function m(a,c){b.set("splitterCollapsed_"+a.attr("id"),c)}function n(a,b){a.toggleClass("collapsed",b),e(a).toggleClass("hide-display",b),m(a,b)}return angular.element.prototype.prev||(angular.element.prototype.prev=function(){var a;if(this.length)for(a=this[0].previousSibling;null!==a&&1!==a.nodeType;)a=a.previousSibling;return angular.isDefined(a)?angular.element(a):this}),{restrict:"A",link:function(b,c,d){var e,f=!1,i=!0,m="vertical"===d.ngSplitter,o=m?"width":"height",p=m?"clientX":"clientY",q=j(c,o),r=l(c),s=c.parent();g(c,q),n(c,r),b["splitterCollapsed_"+c.attr("id")]=r,c.on("mousedown",function(a){0===a.button&&(e=a[p],q=j(c,o),r=l(c),f=!0,s.addClass("noselect"))}),angular.element(a).on("mousemove",function(a){if(f){i=!0;var d=0===h(c,o,a[p]-e);d!==r&&(n(c,d),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=d})),e=a[p],r=d}}).on("mouseup",function(){f&&(r?(n(c,!0),g(c,q),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=!0})):k(c,o),f=!1,s.removeClass("noselect"))}),c.children(".split").on("mousedown",function(){i=!1}),c.children(".split").on("mouseup",function(){if(!i){var a=!l(c);n(c,a),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=a}),i=!0,f=!1}})}}}])}(),function(){"use strict";angular.module("validate",[]).directive("ngValidate",["$parse",function(a){return{require:"ngModel",link:function(b,c,d,e){var f=a(d.ngValidate);b.$watch(d.ngModel,function(a){var c=f(b,{$value:a});e.$setValidity("validate",c)})}}}])}(),function(){"use strict";angular.module("autoFocus",[]).directive("ngAutoFocus",["$timeout",function(a){return{link:function(b,c,d){b.$watch(d.ngAutoFocus,function(b){b&&a(function(){c[0].focus()},100)})}}}])}(),function(){"use strict";angular.module("rightClick",[]).directive("ngRightClick",["$parse",function(a){return function(b,c,d){var e=a(d.ngRightClick);c.on("contextmenu",function(a){b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditor",function(){return{restrict:"E",scope:{mockingServiceDisabled:"=",mockingServiceBaseUri:"="},templateUrl:"views/raml-editor-main.tmpl.html",controller:"ramlEditorMain"}})}(),function(){"use strict";angular.module("dragAndDrop",[]).directive("ngDragEnter",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragEnter),f=0;c.on("dragleave",function(){f--}),c.on("dragenter",function(a){f++,1===f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDragLeave",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragLeave),f=0;c.on("dragenter",function(){f++}),c.on("dragleave",function(a){f--,0===f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDrop",["$parse",function(a){return function(b,c,d){var e=a(d.ngDrop);c.on("dragover",function(a){a.preventDefault()}),c.on("drop",function(a){b.$apply(function(){a.preventDefault(),a.stopPropagation(),e(b,{$event:a.originalEvent})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorContextMenu",["$injector","$window","confirmModal","newNameModal","ramlRepository","newFileService","newFolderService","subMenuService","scroll",function(a,b,c,d,e,f,g,h,i){function j(a){var b={label:"Save",execute:function(){return e.saveFile(a)}},h={label:"New File",fragments:f.files["1.0"],execute:function(b){return b?f.prompt(a,"1.0",b):void 0},newFile:function(){return f.prompt(a,"0.8")}},i={label:"New Folder",execute:function(){return g.prompt(a)}},j={label:"Rename",execute:function(){var b=e.getParent(a),c=a.isDirectory?"Enter a new name for this folder:":"Enter a new name for this file:",f=a.isDirectory?"Rename a folder":"Rename a file",g=[{message:"This name is already taken.",validate:function(a){var c=e.join(b.path,a);return!e.getByPath(c)}}];return d.open(c,a.name,g,f).then(function(b){e.rename(a,b)})}},k={label:"Delete",execute:function(){var b,d;return a.isDirectory?(b='Are you sure you want to delete "'+a.name+'" and all its contents?',d="Delete folder"):(b='Are you sure you want to delete "'+a.name+'"?',d="Delete file"),c.open(b,d,{closeButtonLabel:"Delete",closeButtonCssClass:"btn-danger"}).then(function(){return e.remove(a)})}};return a.isDirectory?[h,i,j,k]:[b,j,k]}function k(a){var b=a.getBoundingClientRect();return!(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))}return{restrict:"E",templateUrl:"views/raml-editor-context-menu.tmpl.html",link:function(a,c){function d(a,b){var c=b.pageY,d=b.pageX,e=angular.element(a[0].children[0]);e.css("top",c+"px"),e.css("left",d+"px"),setTimeout(function(){k(e[0])&&e.css("top",c-e[0].offsetHeight+"px")},0)}function e(c){c&&c.target.firstChild.nodeValue&&c.target.firstChild.nodeValue.match("New File")||(i.enable(),a.$apply(function(){delete g.target,a.opened=!1,b.removeEventListener("click",e),b.removeEventListener("keydown",f)}))}function f(a){27===a.which&&(a.preventDefault(),e())}a.openFileMenu=function(b){"New File"===b.label&&h.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1};var g={open:function(g,h){i.disable(),this.target=h,a.target=h,a.actions=j(h),g.stopPropagation(),d(c,g),b.addEventListener("click",e),b.addEventListener("keydown",f),a.opened=!0}};a.registerContextMenu(g)},scope:!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorFileBrowser",["$q","$window","$rootScope","$timeout","config","ramlRepository","newNameModal","importService",function(a,b,c,d,e,f,g,h){function i(i){function j(a){if("/"!==a.path){var b=f.getParent(a);b.collapsed=!1,j(b)}}function k(a){83!==a.which||!a.metaKey&&!a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),i.$apply(function(){n.saveFile(n.selectedFile)}))}function l(){var a="Untitled-1.raml",b="File system has no files, please input a name for the new file:",c=[],d="Add a new file";g.open(b,a,c,d).then(function(a){return f.generateFile(i.homeDirectory,a)},function(){return f.generateFile(i.homeDirectory,a)})}function m(a){for(var b=[a],c=0;c<b.length;){for(var d=b[c],e=d.children,f=void 0,g=0;g<e.length;g++){if(f=e[g],"file"===f.type&&f.root)return f;"directory"===f.type&&b.push(f)}c+=1}}var n=this,o=angular.noop,p=void 0;i.toggleFolderCollapse=function(a){a.collapsed=!a.collapsed},i.fileTreeOptions=function(){var a=!1;return{accept:function(b,c,d){var e,g=b.$modelValue,h=0>d?i.homeDirectory:c.$modelValue[d];h.isDirectory||(h=c.$nodeScope?c.$nodeScope.$modelValue:i.homeDirectory);var j=f.getParent(g).path===h.path||h.path.slice(0,g.path.length)===g.path;return a=h.children.filter(function(a){return a.name===g.name}).length>0,e=!a&&!j,e?n.cursorState="ok":n.cursorState="no",e},dropped:function(a){var b=a.source.nodeScope.$modelValue,c=a.dest.nodesScope.$nodeScope?a.dest.nodesScope.$nodeScope.$modelValue:i.homeDirectory;f.move(b,c).then(function(){return n.select(b)})},dragStop:function(b){n.cursorState="",!b.canceled&&a&&c.$broadcast("event:notification",{message:"Failed: duplicate file name found in the destination folder.",expires:!0,level:"error"})}}}(),n.select=function(a){return a.isDirectory?n.selectDirectory(a):n.selectFile(a)},i.$on("event:raml-editor-file-select",function(a,b){var c=f.getByPath(b);n.selectFile(c)}),n.selectFile=function(b){if(n.selectedFile&&n.selectedFile.$$hashKey===b.$$hashKey)return void(n.currentTarget=b);o();var c=b.loaded||!b.persisted,d=c?a.when(b):f.loadFile(b);d.then(function(a){n.selectedFile=n.currentTarget=a,i.$emit("event:raml-editor-file-selected",a),o=i.$watch("fileBrowser.selectedFile.contents",function(b,c){b!==c&&(a.dirty=!0)})})},n.selectDirectory=function(a){i.$emit("event:raml-editor-directory-selected",a)},n.saveFile=function(a){f.saveFile(a).then(function(){return c.$broadcast("event:notification",{message:"File saved.",expires:!0})})},n.dropFile=function(a,b){return h.importFromEvent(b,a).then(function(){b.collapsed=!1})["catch"](function(a){c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})},n.showContextMenu=function(a,b){p.open(a,b)},n.contextMenuOpenedFor=function(a){return p&&p.target===a},b.addEventListener("keydown",k),i.fileBrowser=n,i.registerContextMenu=function(a){p=a},i.$on("event:raml-editor-file-generated",function(a,b){n.selectFile(b)}),i.$on("event:raml-editor-directory-created",function(a,b){n.selectDirectory(b)}),i.$on("event:raml-editor-file-selected",function(a,b){j(b)}),i.$on("event:raml-editor-directory-selected",function(a,b){j(b)}),i.$on("event:raml-editor-filetree-modified",function(a,b){f.getParent(b).sortChildren()}),i.$on("event:raml-editor-file-removed",function(a,b){d(function(){var a=i.homeDirectory.getFiles();0===a.length?l():b===n.selectedFile&&n.selectFile(a[0])})}),i.$on("$destroy",function(){b.removeEventListener("keydown",k)}),i.$watch("fileBrowser.selectedFile.path",function(a,b){a!==b&&e.set("currentFile",JSON.stringify({path:a,name:a.slice(a.lastIndexOf("/")+1)}))}),f.loadDirectory().then(function(a){i.homeDirectory=a,n.rootFile=m(a);var b=[];if(i.homeDirectory.forEachChildDo(function(a){a.isDirectory||b.push(a)}),!b.length)return void l();var c=JSON.parse(e.get("currentFile","{}")),d=f.getByPath(c.path)||n.rootFile||b[0];n.selectFile(d)})}return{restrict:"E",templateUrl:"views/raml-editor-file-browser.tmpl.html",controller:i}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorProjectButton",["$timeout","$window","subMenuService",function(a,b,c){return{restrict:"E",templateUrl:"views/menu/project-menu.tmpl.html",link:function(a){a.openProjectMenu=function(){c.open(a,"showProjectMenu")},a.openFileMenu=function(){c.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveFileButton",["$rootScope","ramlRepository",function(a,b){return{restrict:"E",replace:!0,template:'<li role="save-button" ng-click="saveFile()"><a><i class="fa fa-save"></i>&nbsp;Save</a></li>',link:function(c){c.saveFile=function(){var d=c.fileBrowser.selectedFile;return b.saveFile(d).then(function(){a.$broadcast("event:notification",{message:"File saved.",expires:!0})})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveAllButton",["$rootScope","ramlRepository","$q",function(a,b,c){return{restrict:"E",replace:!0,template:'<li role="save-all-button" ng-click="saveAllFiles()"><a><i class="fa fa-save"></i>&nbsp;Save All</a></li>',link:function(d){d.saveAllFiles=function(){var e=[];return d.homeDirectory.forEachChildDo(function(a){return a.isDirectory?void 0:a.dirty?e.push(b.saveFile(a)):void 0}),c.all(e).then(function(){a.$broadcast("event:notification",{message:"All files saved.",expires:!0})})},a.$on("event:save-all",function(){d.saveAllFiles()})}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFolderButton",["newFolderService",function(a){return{restrict:"E",replace:!0,template:'<li ng-show="supportsFolders" role="new-folder-button" ng-click="newFolder()"><a><i class="fa fa-folder-open"></i>&nbsp;New Folder</a></li>',link:function(b){b.newFolder=function(){return a.prompt(b.homeDirectory)}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFileMenu",["newFileService","subMenuService",function(a,b){return{restrict:"E",replace:!0,scope:{target:"=",showFileMenu:"=",showFragmentMenu:"=",openFileMenuCondition:"@",menuRole:"@"},templateUrl:"views/menu/new-file-menu.tmpl.html",link:function(c){c.closeFragmentMenu=function(){c.showFragmentMenu=!1},c.openFragmentMenu=function(){b.openSubMenu(c,"showFragmentMenu"),c.fragments=a.files["1.0"]},c.newFragmentFile=function(b){return a.newFragmentFile(c.target||c.$parent.homeDirectory,b)},c.newFile=function(b){return a.newFile(c.target||c.$parent.homeDirectory,b)},c.notSorted=function(a){return a?Object.keys(a).map(function(b){return a[b]}):[]}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorExportMenu",["ramlRepository","subMenuService","ramlToSwagger","$window","$location","$rootScope",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"views/menu/export-menu.tmpl.html",link:function(g){function h(a,b){var c=new Blob([a],{type:"application/json;charset=utf-8"});d.saveAs(c,b)}function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(a,b){var c=a.lastIndexOf(".");c>-1&&(a=a.substr(0,c));var d=a.lastIndexOf("/");return d>-1&&(a=a.substr(d+1)),a+"."+b}g.xOasExport=g.xOasExport||"true"===e.search().xOasExport,g.openExportMenu=function(){b.openSubMenu(g,"showExportMenu")},g.closeExportMenu=function(){g.showExportMenu=!1},g.exportZipFiles=function(){a.exportFiles()},g.exportJsonFiles=function(){var a=g.fileBrowser.selectedFile;c.json(a).then(function(a){var b=JSON.stringify(a.contents,null,2);h(b,j(a.name||a.path,"json"))})["catch"](function(a){i(a)})},g.exportYamlFiles=function(){var a=g.fileBrowser.selectedFile;c.yaml(a).then(function(a){h(a.contents,j(a.name||a.path,"yaml"))})["catch"](function(a){i(a)})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorImportButton",["$injector","importModal",function(a,b){return{restrict:"E",replace:!0,template:'<li role="import-button" ng-click="importFile()"><a><i class="fa fa-cloud-download"></i>&nbsp;Import</a></li>',link:function(a){a.importFile=function(){return b.open()}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorViewButton",["$timeout","$window","subMenuService","$rootScope",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/view-menu.tmpl.html",link:function(a){a.openViewMenu=function(){c.open(a,"showViewMenu")},a.toogleBackgroundColor=function(){d.$broadcast("event:toggle-theme")}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorHelpButton",["$modal","$timeout","$window","subMenuService",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/help-menu.tmpl.html",link:function(b){b.openHelpContextMenu=function(){d.open(b,"menuContextHelpOpen")},b.openHelpModal=function(){a.open({templateUrl:"views/modal/help.html"})}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","$uiTreeHelper","$window","$document","$timeout","ramlRepository","config",function(a,b,c,d,e,f,g){return{require:["^uiTreeNodes","^uiTree","?uiTreeNode"],link:function(h,i,j,k){var l={};angular.extend(l,a),l.nodeClass&&i.addClass(l.nodeClass),h.init(k),h.collapsed=!!b.getNodeAttribute(h,"collapsed"),h.$watch(j.collapsed,function(a){"boolean"==typeof a&&(h.collapsed=a)}),h.$watch("collapsed",function(a){b.setNodeAttribute(h,"collapsed",a),j.$set("collapsed",a)});var m,n,o,p,q,r,s,t,u,v="ontouchstart"in window,w=!0,x=!1,y=null,z=!1,A=null,B=1e3,C=document.body,D=document.documentElement,E=function(a){if((v||2!==a.button&&3!==a.which)&&!(a.uiTreeDragging||a.originalEvent&&a.originalEvent.uiTreeDragging)){var e=angular.element(a.target),f=e.scope();if(f&&f.$type&&!("uiTreeNode"!==f.$type&&"uiTreeHandle"!==f.$type||"uiTreeNode"===f.$type&&f.$handleScope)){var j=e.prop("tagName").toLowerCase();if("input"!==j&&"textarea"!==j&&"button"!==j&&"select"!==j){for(;e&&e[0]&&e[0]!==i;){if(b.nodrag(e))return;e=e.parent()}if(h.beforeDrag(h)){a.uiTreeDragging=!0,a.originalEvent&&(a.originalEvent.uiTreeDragging=!0),a.preventDefault();var k=b.eventObj(a);n=!0,o=b.dragInfo(h);var q=h.$element.prop("tagName");s=angular.element(c.document.createElement(q)),l.hiddenClass&&s.addClass(l.hiddenClass),p=b.positionStarted(k,h.$element),r=angular.element(c.document.createElement(h.$parentNodesScope.$element.prop("tagName"))).addClass(h.$parentNodesScope.$element.attr("class")).addClass(l.dragClass).addClass("light"===g.get("theme")?"drag-light":""),r.css("z-index",9999),h.$element.after(s),r.append(h.$element.clone().html(h.$element.children()[0].innerHTML));var w=d.find("raml-editor-file-browser");w.append(r);var x=k.pageX-p.offsetX-w.offset().left,y=k.pageY-p.offsetY-w.offset().top;r.css({left:x+"px",top:y+"px"}),m={dragging:r},h.$element.addClass("drag-elm");var z=angular.element(r[0].lastChild).scope();z.collapsed=!0,angular.element(d).bind("touchend",K),angular.element(d).bind("touchcancel",K),angular.element(d).bind("touchmove",J),angular.element(d).bind("mouseup",K),angular.element(d).bind("mousemove",J),angular.element(d).bind("mouseleave",L),t=Math.max(C.scrollHeight,C.offsetHeight,D.clientHeight,D.scrollHeight,D.offsetHeight),u=Math.max(C.scrollWidth,C.offsetWidth,D.clientWidth,D.scrollWidth,D.offsetWidth),h.$treeScope.isDragging=!0}}}}},F=function(a){if(!x)return void(w||(x=!0,h.$apply(function(){h.$callbacks.dragStart(o.eventArgs(m,p))})));var f,g,i,j=b.eventObj(a);if(r){a.preventDefault(),c.getSelection?c.getSelection().removeAllRanges():c.document.selection&&c.document.selection.empty();var k=d.find("raml-editor-file-browser");f=j.pageX-p.offsetX-k.offset().left,g=j.pageY-p.offsetY-k.offset().top,i={left:f,right:f+r[0].scrollWidth+5,top:g,bottom:g+r[0].scrollHeight},i.left<0?f=0:i.right>u&&(f=u-r[0].scrollWidth-5),i.top<0?g=0:i.bottom>t&&(g=t-r[0].scrollHeight),r.css({left:f+"px",top:g+"px"});var l=window.pageYOffset||c.document.documentElement.scrollTop,s=l+(window.innerHeight||c.document.clientHeight||c.document.clientHeight);if(s<j.pageY&&t>=s&&window.scrollBy(0,10),l>j.pageY&&window.scrollBy(0,-10),b.positionMoved(a,p,n),n)return void(n=!1);var v;angular.isFunction(r.hide)?r.hide():(v=r[0].style.display,r[0].style.display="none");var y=j.pageX-c.document.body.scrollLeft,z=j.pageY-(window.pageYOffset||c.document.documentElement.scrollTop);c.document.elementFromPoint(y,z);var C=angular.element(c.document.elementFromPoint(y,z));angular.isFunction(r.show)?r.show():r[0].style.display=v;var D=C.scope();if(!p.dirAx&&D!==h.prevHoverNode){var E=!1;if(h.prevHoverNode=D,!D)return;if("uiTree"===D.$type&&D.dragEnabled&&(E=D.isEmpty()),"uiTreeHandle"===D.$type&&(D=D.$nodeScope),"uiTreeDummyNode"===D.$type)return q=D.$parentNodesScope.accept(h,-1),q&&o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue)),$(".dragover").removeClass("dragover"),C.addClass("dragover"),void(A&&(e.cancel(A),A=null));if("uiTreeNode"!==D.$type&&!E)return;e.cancel(A),$(".dragover").removeClass("dragover"),D.$childNodesScope?(angular.element(D.$element.children()[0]).addClass("dragover"),D.collapsed&&(A=e(function(){D.collapsed=!1,h.nodeToExpand=null},B)),h.nodeToExpand=D):D.$parentNodeScope?(C.addClass("dragover"),angular.element(D.$parentNodeScope.$element.children()[0]).addClass("dragover"),h.nodeToExpand=D.$parentNodeScope):C.addClass("dragover"),E?D.$nodesScope.accept(h,0)&&o.moveTo(D.$nodesScope,D.$nodesScope.childNodes(),0):D.dragEnabled()&&(C=D.$element,q=D.$parentNodesScope.accept(h,D.index()),q&&(D.$childNodesScope?o.moveTo(D.$childNodesScope,D.childNodes(),H(h.$modelValue,D.$childNodesScope.$modelValue)):o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue))))}h.$apply(function(){h.$callbacks.dragMove(o.eventArgs(m,p))})}},G=function(a){a.preventDefault(),r&&(h.$treeScope.$apply(function(){h.$callbacks.beforeDrop(o.eventArgs(m,p))}),s.replaceWith(h.$element),r.remove(),r=null,h.$$apply?(o.apply(),h.$treeScope.$apply(function(){h.$callbacks.dropped(o.eventArgs(m,p))})):M(),h.$treeScope.$apply(function(){var a=o.eventArgs(m,p);a.canceled=z,h.$callbacks.dragStop(a)}),h.$$apply=!1,o=null),angular.element(d).unbind("touchend",K),angular.element(d).unbind("touchcancel",K),angular.element(d).unbind("touchmove",J),angular.element(d).unbind("mouseup",K),angular.element(d).unbind("mousemove",J),angular.element(c.document.body).unbind("mouseleave",L),$(".dragover").removeClass("dragover"),h.$element.removeClass("drag-elm"),h.$treeScope.isDragging=!1,h.prevHoverNode=null,z=!1},H=function(a,b){for(var c,d=0,e=b.length-1;e>=d;)c=Math.floor((d+e)/2),f.sortingFunction.call(null,b[c],a)>0?e=c-1:d=c+1;return d},I=function(a){h.dragEnabled()&&E(a)},J=function(a){F(a)},K=function(a){h.$$apply=q,G(a)},L=function(a){h.$$apply=!1,z=!0,G(a)},M=function(){e(function(){i.unbind(),i.bind("touchstart mousedown",function(a){w=!0,x=!1,y=e(function(){w=!1,I(a)},h.dragDelay)}),i.bind("touchend touchcancel mouseup",function(){e.cancel(y)})})};M(),angular.element(c.document.body).bind("keydown",function(a){27===a.keyCode&&L(a)})}}}]).directive("uiTreeDummyNode",["treeConfig",function(a){return{require:["^uiTreeNodes","^uiTree"],template:"<div class=\"file-item dummy\" ng-class=\"{'no-drop': fileBrowser.cursorState === 'no', copy: fileBrowser.cursorState === 'ok'}\"></div>",restrict:"E",replace:!0,controller:function(a,b){this.scope=a,a.$element=b,a.$parentNodeScope=null,a.$childNodesScope=null,a.$parentNodesScope=null,a.$treeScope=null,a.$$apply=!1,a.$type="uiTreeDummyNode",a.init=function(b){var c=b[0];a.$treeScope=b[1]?b[1].scope:null,a.$parentNodeScope=c.scope.$nodeScope,a.$parentNodesScope=c.scope}},link:function(b,c,d,e){var f={};angular.extend(f,a),f.nodeClass&&c.addClass(f.nodeClass),b.init(e)}}}])}(),angular.module("ramlEditorApp").run(["$templateCache",function(a){"use strict";a.put("views/confirm-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>{{title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <p>{{message}}</p>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">{{dismissButtonLabel}}</button>\n    <button type="button" class="btn btn-default" ng-if="canDiscard" ng-click="discard()">{{discardButtonLabel}}</button>\n    <button type="button" class="btn" ng-class="closeButtonCssClass" ng-click="$close()" ng-auto-focus="true">{{closeButtonLabel}}</button>\n  </div>\n</form>\n'),a.put("views/import-modal.html",'<form name="form" novalidate ng-submit="import(form)">\n  <div class="modal-header">\n    <h3>Import file</h3>\n  </div>\n\n  <div class="modal-body" ng-class="{\'has-error\': submittedType === mode.type && form.$invalid}">\n    <div style="text-align: center; font-size: 2em; margin-bottom: 1em;" ng-show="importing">\n      <i class="fa fa-spin fa-spinner"></i>\n    </div>\n\n    <div class="form-group" style="margin-bottom: 10px;">\n      <div style="float: left; width: 130px;">\n        <select class="form-control" ng-model="mode" ng-options="option.name for option in options"></select>\n      </div>\n\n      <div style="margin-left: 145px;" ng-switch="mode.type">\n        <input id="swagger" name="swagger" type="url" ng-model="mode.value" class="form-control" required ng-switch-when="url" placeholder="http://petstore.swagger.io/v2/swagger.json">\n\n        <input id="file" name="file" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="file" onchange="angular.element(this).scope().handleFileSelect(this)">\n      </div>\n    </div>\n\n    <div ng-if="submittedType === \'url\'">\n      <p class="help-block" ng-show="form.swagger.$error.required || form.swagger.$error.url">Please provide a valid URL.</p>\n    </div>\n\n    <div ng-if="submittedType === \'file\'">\n      <p class="help-block" ng-show="form.file.$error.required">Please select a file to import.</p>\n    </div>\n\n    <div ng-if="mode.type === \'file\'">\n      <p>If you want to upload multiple files, you can .zip them and import them in a single step.</p>\n    </div>\n\n    <div ng-if="mode.spec === \'OAS\'">\n      <p>Note: Currently supports OAS (Swagger) v2.0</p>\n    </div>\n  </div>\n\n  <div class="modal-footer" style="margin-top: 0;">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Close</button>\n    <button type="submit" class="btn btn-primary">Import</button>\n  </div>\n</form>\n'),a.put("views/import-service-conflict-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>Path already exists</h3>\n  </div>\n\n  <div class="modal-body">\n    The path (<strong>{{path}}</strong>) already exists.\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default pull-left" ng-click="skip()">Skip</button>\n    <button type="submit" class="btn btn-primary" ng-click="keep()">Keep Both</button>\n    <button type="submit" class="btn btn-primary" ng-click="replace()">Replace</button>\n  </div>\n</form>\n'),a.put("views/menu/export-menu.tmpl.html",'<li ng-if="!xOasExport" role="export-zip" ng-click="exportZipFiles()">\n  <a><i class="fa fa-download"></i>&nbsp;Export files</a>\n</li>\n\n<a ng-if="xOasExport">\n  <i class="fa fa-plus"></i>&nbsp;Export\n  <i class="submenu-icon fa fa-caret-right"></i>\n</a>\n\n<ul ng-if="xOasExport" role="menu-dropdown" class="submenu-item menu-item-context" ng-show="showExportMenu">\n  <li role="export-zip" ng-click="exportZipFiles()"><a>&nbsp;Project Zip</a></li>\n  <li role="export-json" ng-click="exportJsonFiles()"><a>&nbsp;OAS 2.0 JSON</a></li>\n  <li role="export-yaml" ng-click="exportYamlFiles()"><a>&nbsp;OAS 2.0 YAML</a></li>\n</ul>\n'),a.put("views/menu/help-menu.tmpl.html",'<span role="help-button" class="menu-item-toggle" ng-click="openHelpContextMenu($event)">\n  <i class="fa fa-question-circle"></i>&nbsp;Help\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="menuContextHelpOpen">\n  <li role="context-menu-item"><a role="raml-specification" href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md" target="_blank">RAML Specification</a></li>\n  <li rile="context-menu-item"><a role="raml-website" href="http://raml.org" target="_blank">raml.org Website</a></li>\n  <li role="context-menu-item"><a role="report-raml-bug" href="https://github.com/mulesoft/api-designer/issues" target="_blank">Report a Bug</a></li>\n  <li role="context-menu-item"><a role="raml-guide" href="http://raml.org/docs.html" target="_blank">Getting Started Guide</a></li>\n  <li role="context-menu-item" ng-click="openHelpModal()"><a role="raml-about">About</a></li>\n</ul>\n'),a.put("views/menu/new-file-menu.tmpl.html",'<ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="showFileMenu">\n  <li role="context-menu-item" ng-mouseenter="openFragmentMenu()" ng-mouseleave="closeFragmentMenu()">\n    <a>\n        &nbsp;Raml 1.0\n        <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n\n    <ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="{{ openFileMenuCondition }}">\n      <li role="new-raml-{{fragment.name}}" ng-repeat="fragment in notSorted(fragments)" ng-click="newFragmentFile(fragment.label)">\n        <a>&nbsp;{{ fragment.name }}</a>\n      </li>\n    </ul>\n  </li>\n\n  <li role="new-raml-0.8" ng-click="newFile(\'0.8\')">\n    <a>&nbsp;Raml 0.8 API Spec</a>\n  </li>\n</ul>\n'),a.put("views/menu/project-menu.tmpl.html",'<span class="menu-item-toggle" role="project-button" ng-click="openProjectMenu($event)">\n  <i class="fa fa-cogs"></i>&nbsp;Project\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showProjectMenu">\n  <li role="new-file" ng-mouseenter="openFileMenu()" ng-mouseleave="closeFileMenu()">\n    <a>\n      <i class="fa fa-plus"></i>&nbsp;New File\n      <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n    <raml-editor-new-file-menu show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="menu-dropdown"></raml-editor-new-file-menu>\n  </li>\n\n  <raml-editor-new-folder-button></raml-editor-new-folder-button>\n\n  <raml-editor-save-file-button></raml-editor-save-file-button>\n\n  <raml-editor-save-all-button></raml-editor-save-all-button>\n\n  <raml-editor-import-button></raml-editor-import-button>\n\n  <raml-editor-export-menu ng-if="!xOasExport"></raml-editor-export-menu>\n\n  <li role="context-menu-item" class="submenu" ng-mouseenter="openExportMenu()" ng-mouseleave="closeExportMenu()" ng-show="xOasExport && canExportFiles()">\n    <raml-editor-export-menu></raml-editor-export-menu>\n  </li>\n</ul>\n'),
a.put("views/menu/view-menu.tmpl.html",'<span class="menu-item-toggle" ng-click="openViewMenu($event)">\n  <i class="fa fa-edit"></i>&nbsp;View\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showViewMenu">\n  <li role="toogle-background" ng-click="toogleBackgroundColor()">\n      <a>&nbsp;Toggle Background Color</a>\n  </li>\n</ul>\n\n'),a.put("views/modal/help.html",'<div class="modal-header">\n    <h3>About</h3>\n</div>\n\n<div class="modal-body">\n    <p>\n        The API Designer for RAML is built by MuleSoft, and is a web-based editor designed to help you author RAML specifications for your APIs.\n        <br />\n        <br />\n        RAML is a human-and-machine readable modeling language for REST APIs, backed by a workgroup of industry leaders.\n    </p>\n\n    <p>\n        To learn more about the RAML specification and other tools which support RAML, please visit <a href="http://www.raml.org" target="_blank">http://www.raml.org</a>.\n        <br />\n        <br />\n        For specific questions, or to get help from the community, head to the community forum at <a href="http://forums.raml.org" target="_blank">http://forums.raml.org</a>.\n    </p>\n</div>\n'),a.put("views/new-name-modal.html",'<form name="form" novalidate ng-submit="submit(form)">\n  <div class="modal-header">\n    <h3>{{input.title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <!-- name -->\n    <div class="form-group" ng-class="{\'has-error\': form.$submitted && form.name.$invalid}">\n      <p>\n        {{input.message}}\n      </p>\n      <p ng-if="input.link">\n        Learn more\n        <a target="_blank" href="{{input.link}}">\n          <i class="fa fa-external-link"></i>\n        </a>\n      </p>\n      <!-- label -->\n      <label for="name" class="control-label required-field-label">Name</label>\n\n      <!-- input -->\n      <input id="name" name="name" type="text"\n             ng-model="input.newName" class="form-control"\n             ng-validate="isValid($value)"\n             ng-maxlength="64" ng-auto-focus="true" value="{{input.suggestedName}}" required>\n\n      <!-- error -->\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.required">Please provide a name.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.maxlength">Name must be shorter than 64 characters.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.validate">{{validationErrorMessage}}</p>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button>\n    <button type="submit" class="btn btn-primary">OK</button>\n  </div>\n</form>\n'),a.put("views/raml-editor-context-menu.tmpl.html",'<ul role="context-menu" ng-show="opened">\n  <li role="context-menu-item" ng-mouseenter="openFileMenu(action)" ng-mouseleave="closeFileMenu()" ng-repeat="action in actions" ng-click="action.execute()">\n    {{ action.label }}\n    <i class="submenu-icon fa fa-caret-right" ng-if="action.fragments !== undefined"></i>\n    <raml-editor-new-file-menu ng-if="action.fragments !== undefined" target="target" show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="context-menu"></raml-editor-new-file-menu>\n  </li>\n</ul>\n'),a.put("views/raml-editor-file-browser.tmpl.html",'<raml-editor-context-menu></raml-editor-context-menu>\n\n<script type="text/ng-template" id="file-item.html">\n  <div ui-tree-handle class="file-item" ng-right-click="fileBrowser.showContextMenu($event, node)" ng-click="fileBrowser.select(node)"\n    ng-class="{currentfile: fileBrowser.currentTarget.path === node.path && !isDragging,\n      dirty: node.dirty,\n      geared: fileBrowser.contextMenuOpenedFor(node),\n      directory: node.isDirectory,\n      \'no-drop\': fileBrowser.cursorState === \'no\',\n      copy: fileBrowser.cursorState === \'ok\'}"\n    ng-drop="node.isDirectory && fileBrowser.dropFile($event, node)">\n    <span class="file-name" ng-click="toggleFolderCollapse(node)">\n      <i class="fa icon fa-caret-right fa-fw" ng-if="node.isDirectory" ng-class="{\'fa-rotate-90\': !collapsed}"></i>\n      <i class="fa icon fa-fw" ng-class="{\'fa-folder-o\': node.isDirectory, \'fa-file-text-o\': !node.isDirectory}"></i>\n      &nbsp;{{node.name}}\n    </span>\n    <i class="fa fa-cog" ng-click="fileBrowser.showContextMenu($event, node)" ng-class="{hidden: isDragging}" data-nodrag></i>\n  </div>\n\n  <ul ui-tree-nodes ng-if="node.isDirectory" ng-class="{hidden: collapsed}" ng-model="node.children">\n    <li ui-tree-node ng-repeat="node in node.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed" data-path="{{node.path}}">\n    </li>\n  </ul>\n</script>\n\n<div ui-tree="fileTreeOptions" ng-model="homeDirectory" class="file-list" data-drag-delay="300" data-empty-place-holder-enabled="false" ng-drop="fileBrowser.dropFile($event, homeDirectory)" ng-right-click="fileBrowser.showContextMenu($event, homeDirectory)">\n  <ul ui-tree-nodes ng-model="homeDirectory.children" id="tree-root">\n    <ui-tree-dummy-node class="top"></ui-tree-dummy-node>\n    <li ui-tree-node ng-repeat="node in homeDirectory.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed"\n     data-path="{{node.path}}"\n     ng-drag-enter="node.collapsed = false"\n     ng-drag-leave="node.collapsed = true"></li>\n    <ui-tree-dummy-node class="bottom" ng-click="fileBrowser.select(homeDirectory)"></ui-tree-dummy-node>\n  </ul>\n</div>\n'),a.put("views/raml-editor-main.tmpl.html",'<div role="raml-editor" class="{{theme}}">\n  <div role="notifications" ng-controller="notifications" class="hidden" ng-class="{hidden: !shouldDisplayNotifications, error: level === \'error\'}">\n    {{message}}\n    <i class="fa" ng-class="{\'fa-check\': level === \'info\', \'fa-warning\': level === \'error\'}" ng-click="hideNotifications()"></i>\n  </div>\n\n  <header>\n    <h1>\n      <strong>API</strong> Designer\n    </h1>\n\n    <a role="logo" target="_blank" href="http://mulesoft.com"></a>\n  </header>\n\n  <ul class="menubar">\n    <li class="menu-item menu-item-ll">\n      <raml-editor-project-button></raml-editor-project-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-view-button></raml-editor-view-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-help-button></raml-editor-help-button>\n    </li>\n    <li class="spacer file-absolute-path">{{getSelectedFileAbsolutePath()}}</li>\n    <li class="menu-item menu-item-fr menu-item-mocking-service" ng-show="getIsMockingServiceVisible()" ng-controller="mockingServiceController" ng-click="toggleMockingService()">\n      <div class="title">Mocking Service</div>\n      <div class="field-wrapper" ng-class="{loading: loading}">\n        <i class="fa fa-spin fa-spinner" ng-if="loading"></i>\n        <div class="field" ng-if="!loading">\n          <input type="checkbox" value="None" id="mockingServiceEnabled" ng-checked="enabled" ng-click="$event.preventDefault()" />\n          <label for="mockingServiceEnabled"></label>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <div role="flexColumns">\n    <raml-editor-file-browser role="browser"></raml-editor-file-browser>\n\n    <div id="browserAndEditor" ng-splitter="vertical" ng-splitter-collapse-target="prev"><div class="split split-left">&nbsp;</div></div>\n\n    <div role="editor" ng-class="{error: currentError}">\n      <div id="code" role="code"></div>\n\n      <div role="shelf" ng-show="getIsShelfVisible()" ng-class="{expanded: !shelf.collapsed}">\n        <div role="shelf-tab" ng-click="toggleShelf()">\n          <i class="fa fa-inbox fa-lg"></i><i class="fa" ng-class="shelf.collapsed ? \'fa-caret-up\' : \'fa-caret-down\'"></i>\n        </div>\n\n        <div role="shelf-container" ng-show="!shelf.collapsed" ng-include src="\'views/raml-editor-shelf.tmpl.html\'"></div>\n      </div>\n    </div>\n\n    <div id="consoleAndEditor" ng-show="getIsConsoleVisible()" ng-splitter="vertical" ng-splitter-collapse-target="next" ng-splitter-min-width="470"><div class="split split-right">&nbsp;</div></div>\n\n    <div ng-show="getIsConsoleVisible()" role="preview-wrapper" class="raml-console-embedded">\n      <div ng-if="!splitterCollapsed_consoleAndEditor && getIsConsoleVisible()">\n        <raml-console raml="raml" errors="ramlError" disable-description="true"\n            options="{ singleView: true, disableThemeSwitcher: true, disableRamlClientGenerator: true, disableTitle: true}"\n            style="padding: 0; margin-top: 0;"></raml-console>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("views/raml-editor-shelf.tmpl.html",'<ul role="sections" ng-controller="ramlEditorShelf">\n  <li role="section" ng-repeat="category in model.categories | orderBy:orderSections" class="{{category.name | dasherize}}">\n    {{category.name}}&nbsp;({{category.items.length}})\n    <ul role="items">\n      <li ng-repeat="item in category.items" ng-click="itemClick(item)"><i class="fa fa-reply"></i><span>{{item.title}}</span></li>\n    </ul>\n  </li>\n</ul>\n')}]);